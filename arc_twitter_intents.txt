# arc_twitter_intents v1.0-dev
# Twitter Web Intents
# Andy Carter
# http://redhotchilliproject.com/

# ......................................................................
# This is a plugin for Textpattern - http://textpattern.com/
# To install: textpattern > admin > plugins
# Paste the following text into the 'Install plugin' box:
# ......................................................................

YToxMTp7czo0OiJuYW1lIjtzOjE5OiJhcmNfdHdpdHRlcl9pbnRlbnRzIjtzOjc6InZlcnNp
b24iO3M6NzoiMS4wLWRldiI7czo2OiJhdXRob3IiO3M6MTE6IkFuZHkgQ2FydGVyIjtzOjEw
OiJhdXRob3JfdXJpIjtzOjMxOiJodHRwOi8vcmVkaG90Y2hpbGxpcHJvamVjdC5jb20vIjtz
OjExOiJkZXNjcmlwdGlvbiI7czoxOToiVHdpdHRlciBXZWIgSW50ZW50cyI7czo1OiJvcmRl
ciI7czoxOiI1IjtzOjQ6InR5cGUiO3M6MToiMCI7czo1OiJmbGFncyI7czoxOiIzIjtzOjQ6
ImhlbHAiO3M6NDc2OToiCTxoMSBjbGFzcz0idGl0bGUiPjxzcGFuIGNsYXNzPSJjYXBzIj5U
WFA8L3NwYW4+IFR3ZWV0IEludGVudHM8L2gxPgoKCTxwPmFyY190d2l0dGVyX2ludGVudHMg
cmVxdWlyZXMgYXJjX3R3aXR0ZXIgdjMgb3IgaGlnaGVyIHRvIHdvcmsuPC9wPgoKCTxoMiBj
bGFzcz0ic2VjdGlvbiI+VGhlIGFyY190d2l0dGVyX2ludGVudF9mb2xsb3cgdGFnPC9oMj4K
Cgk8aDM+U3ludGF4PC9oMz4KCgk8cD4mbHQ7dHhwOmFyY190d2l0dGVyX2ludGVudF9mb2xs
b3cmZ3Q7Rm9sbG93Jmx0Oy90eHA6YXJjX3R3aXR0ZXJfaW50ZW50X2ZvbGxvdyZndDs8L3A+
CgoJPGgzPlVzYWdlPC9oMz4KCgk8dGFibGU+CgkJPHRyPgoJCQk8dGg+QXR0cmlidXRlPC90
aD4KCQkJPHRoPkRlc2NyaXB0aW9uPC90aD4KCQkJPHRoPkRlZmF1bHQ8L3RoPgoJCQk8dGg+
RXhhbXBsZTwvdGg+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD51c2VyPC90ZD4KCQkJPHRkPlR3
aXR0ZXIgdXNlciBuYW1lIHRvIGZvbGxvdzwvdGQ+CgkJCTx0ZD4gPGVtPmFyY190d2l0dGVy
IHVzZXJuYW1lPC9lbT48L3RkPgoJCQk8dGQ+dXNlcj0mcXVvdDtkcm1vbmtleW5pbmphJnF1
b3Q7PC90ZD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRkPnVzZXJfaWQ8L3RkPgoJCQk8dGQ+VHdp
dHRlciB1c2VyIGlkIHRvIGZvbGxvdyAob3ZlcnJpZGVzIHRoZSB1c2VyIGF0dHJpYnV0ZSk8
L3RkPgoJCQk8dGQ+IDxlbT5hcmNfdHdpdHRlciB1c2VybmFtZTwvZW0+PC90ZD4KCQkJPHRk
PnVzZXI9JnF1b3Q7ZHJtb25rZXluaW5qYSZxdW90OzwvdGQ+CgkJPC90cj4KCTwvdGFibGU+
CgoJPGgyIGNsYXNzPSJzZWN0aW9uIj5UaGUgYXJjX3R3aXR0ZXJfaW50ZW50X2Zhdm9yaXRl
IHRhZzwvaDI+CgoJPGgzPlN5bnRheDwvaDM+CgoJPHA+Jmx0O3R4cDphcmNfdHdpdHRlcl9p
bnRlbnRfZmF2b3JpdGUmZ3Q7RmF2b3JpdGUmbHQ7L3R4cDphcmNfdHdpdHRlcl9pbnRlbnRf
ZmF2b3JpdGUmZ3Q7PC9wPgoKCTxoMz5Vc2FnZTwvaDM+CgoJPHRhYmxlPgoJCTx0cj4KCQkJ
PHRoPkF0dHJpYnV0ZTwvdGg+CgkJCTx0aD5EZXNjcmlwdGlvbjwvdGg+CgkJCTx0aD5EZWZh
dWx0PC90aD4KCQkJPHRoPkV4YW1wbGU8L3RoPgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+aWQ8
L3RkPgoJCQk8dGQ+VHdlZXQgaWQgdG8gZmF2b3VyaXRlPC90ZD4KCQkJPHRkPiA8ZW0+YXJ0
aWNsZSYjODIxNztzIGFzc29jaWF0ZWQgdHdlZXQgZnJvbSBhcmNfdHdpdHRlcjwvZW0+PC90
ZD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRkPnVzZXI8L3RkPgoJCQk8dGQ+VHdpdHRlciB1c2Vy
IG5hbWUgcmVsYXRlZCB0byB0d2VldDwvdGQ+CgkJCTx0ZD4gPGVtPmFyY190d2l0dGVyIHVz
ZXJuYW1lPC9lbT48L3RkPgoJCQk8dGQ+dXNlcj0mcXVvdDtkcm1vbmtleW5pbmphJnF1b3Q7
PC90ZD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRkPnJlbGF0ZWQ8L3RkPgoJCQk8dGQ+Q29tbWEg
c2VwYXJhdGVkIGxpc3Qgb2YgcmVsYXRlZCBUd2l0dGVyIHVzZXJzIHRvIHJlY29tbWVuZCBm
b2xsb3dpbmc8L3RkPgoJCQk8dGQ+IDxlbT51bnNldDwvZW0+PC90ZD4KCQkJPHRkPnJlbGF0
ZWQ9JnF1b3Q7dGV4dHBhdHRlcm4sIHR3aXR0ZXImcXVvdDs8L3RkPgoJCTwvdHI+Cgk8L3Rh
YmxlPgoKCTxoMiBjbGFzcz0ic2VjdGlvbiI+VGhlIGFyY190d2l0dGVyX2ludGVudF9yZXR3
ZWV0IHRhZzwvaDI+CgoJPGgzPlN5bnRheDwvaDM+CgoJPHA+Jmx0O3R4cDphcmNfdHdpdHRl
cl9pbnRlbnRfcmV0d2VldCZndDtSZXR3ZWV0Jmx0Oy90eHA6YXJjX3R3aXR0ZXJfaW50ZW50
X3JldHdlZXQmZ3Q7PC9wPgoKCTxoMz5Vc2FnZTwvaDM+CgoJPHRhYmxlPgoJCTx0cj4KCQkJ
PHRoPkF0dHJpYnV0ZTwvdGg+CgkJCTx0aD5EZXNjcmlwdGlvbjwvdGg+CgkJCTx0aD5EZWZh
dWx0PC90aD4KCQkJPHRoPkV4YW1wbGU8L3RoPgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+aWQ8
L3RkPgoJCQk8dGQ+VHdlZXQgaWQgdG8gcmV0d2VldDwvdGQ+CgkJCTx0ZD4gPGVtPmFydGlj
bGUmIzgyMTc7cyBhc3NvY2lhdGVkIHR3ZWV0IGZyb20gYXJjX3R3aXR0ZXI8L2VtPjwvdGQ+
CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD51c2VyPC90ZD4KCQkJPHRkPlR3aXR0ZXIgdXNlciBu
YW1lIHJlbGF0ZWQgdG8gdHdlZXQ8L3RkPgoJCQk8dGQ+IDxlbT5hcmNfdHdpdHRlciB1c2Vy
bmFtZTwvZW0+PC90ZD4KCQkJPHRkPnVzZXI9JnF1b3Q7ZHJtb25rZXluaW5qYSZxdW90Ozwv
dGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5yZWxhdGVkPC90ZD4KCQkJPHRkPkNvbW1hIHNl
cGFyYXRlZCBsaXN0IG9mIHJlbGF0ZWQgVHdpdHRlciB1c2VycyB0byByZWNvbW1lbmQgZm9s
bG93aW5nPC90ZD4KCQkJPHRkPiA8ZW0+dW5zZXQ8L2VtPjwvdGQ+CgkJCTx0ZD5yZWxhdGVk
PSZxdW90O3RleHRwYXR0ZXJuLCB0d2l0dGVyJnF1b3Q7PC90ZD4KCQk8L3RyPgoJPC90YWJs
ZT4KCgk8aDIgY2xhc3M9InNlY3Rpb24iPlRoZSBhcmNfdHdpdHRlcl9pbnRlbnRfcmVwbHkg
dGFnPC9oMj4KCgk8aDM+U3ludGF4PC9oMz4KCgk8cD4mbHQ7dHhwOmFyY190d2l0dGVyX2lu
dGVudF9yZXBseSZndDtSZXBseSZsdDsvdHhwOmFyY190d2l0dGVyX2ludGVudF9yZXBseSZn
dDs8L3A+CgoJPGgzPlVzYWdlPC9oMz4KCgk8dGFibGU+CgkJPHRyPgoJCQk8dGg+QXR0cmli
dXRlPC90aD4KCQkJPHRoPkRlc2NyaXB0aW9uPC90aD4KCQkJPHRoPkRlZmF1bHQ8L3RoPgoJ
CQk8dGg+RXhhbXBsZTwvdGg+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5pZDwvdGQ+CgkJCTx0
ZD5Ud2VldCBpZCB0byByZXBseSB0bzwvdGQ+CgkJCTx0ZD4gPGVtPmFydGljbGUmIzgyMTc7
cyBhc3NvY2lhdGVkIHR3ZWV0IGZyb20gYXJjX3R3aXR0ZXI8L2VtPjwvdGQ+CgkJPC90cj4K
CQk8dHI+CgkJCTx0ZD51c2VyPC90ZD4KCQkJPHRkPlR3aXR0ZXIgdXNlciBuYW1lIHJlbGF0
ZWQgdG8gdHdlZXQgKHVzZWQgZm9yIHJlY29tbWVuZGVkIGFjY291bnRzKTwvdGQ+CgkJCTx0
ZD4gPGVtPmFyY190d2l0dGVyIHVzZXJuYW1lPC9lbT48L3RkPgoJCQk8dGQ+dXNlcj0mcXVv
dDtkcm1vbmtleW5pbmphJnF1b3Q7PC90ZD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRkPnJlbGF0
ZWQ8L3RkPgoJCQk8dGQ+Q29tbWEgc2VwYXJhdGVkIGxpc3Qgb2YgcmVsYXRlZCBUd2l0dGVy
IHVzZXJzIHRvIHJlY29tbWVuZCBmb2xsb3dpbmc8L3RkPgoJCQk8dGQ+IDxlbT51bnNldDwv
ZW0+PC90ZD4KCQkJPHRkPnJlbGF0ZWQ9JnF1b3Q7dGV4dHBhdHRlcm4sIHR3aXR0ZXImcXVv
dDs8L3RkPgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+dGV4dDwvdGQ+CgkJCTx0ZD5TZXQgc29t
ZSB0ZXh0IGZvciB0aGUgcmVwbHkgdHdlZXQ8L3RkPgoJCQk8dGQ+IDxlbT51bnNldDwvZW0+
PC90ZD4KCQk8L3RyPgoJPC90YWJsZT4KCgk8aDIgY2xhc3M9InNlY3Rpb24iPkxhbmd1YWdl
PC9oMj4KCgk8cD5BbGwgdGhlIGFyY190d2l0dGVyX2ludGVudHMgdGFncyBoYXZlIGFuIG9w
dGlvbmFsICYjODIyMDtsYW5nJiM4MjIxOyBhdHRyaWJ1dGUgZm9yIHNldHRpbmcgdGhlIGxh
bmd1YWdlIG9mIHRoZSBUd2l0dGVyIGludGVyZmFjZS4gVGhlIGZvbGxvd2luZyB2YWx1ZXMv
bGFuZ3VhZ2VzIGFyZSBhdmFpbGFibGU6LTwvcD4KCgk8dGFibGU+CgkJPHRyPgoJCQk8dGg+
QXR0cmlidXRlIHZhbHVlPC90aD4KCQkJPHRoPkxhbmd1YWdlPC90aD4KCQk8L3RyPgoJCTx0
cj4KCQkJPHRkPmVuPC90ZD4KCQkJPHRkPkVuZ2xpc2ggKGRlZmF1bHQpPC90ZD4KCQk8L3Ry
PgoJCTx0cj4KCQkJPHRkPmZyPC90ZD4KCQkJPHRkPkZyZW5jaDwvdGQ+CgkJPC90cj4KCQk8
dHI+CgkJCTx0ZD5pdDwvdGQ+CgkJCTx0ZD5JdGFsaWFuPC90ZD4KCQk8L3RyPgoJCTx0cj4K
CQkJPHRkPmVzPC90ZD4KCQkJPHRkPlNwYW5pc2g8L3RkPgoJCTwvdHI+CgkJPHRyPgoJCQk8
dGQ+a288L3RkPgoJCQk8dGQ+S29yZWFuPC90ZD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRkPmpw
PC90ZD4KCQkJPHRkPkphcGFuZXNlPC90ZD4KCQk8L3RyPgoJPC90YWJsZT4KCgk8aDIgY2xh
c3M9InNlY3Rpb24iPkphdmFTY3JpcHQ8L2gyPgoKCTxwPkFsbCB0aGUgYXJjX3R3aXR0ZXJf
aW50ZW50cyB0YWdzIGhhdmUgdHdvIG9wdGlvbmFsIGF0dHJpYnV0ZXMgdGhhdCByZWxhdGUg
dG8gdGhlIGluY2x1c2lvbiBvZiB0aGUgVHdpdHRlciB3aWRnZXQgSmF2YVNjcmlwdC48L3A+
CgoJPHRhYmxlPgoJCTx0cj4KCQkJPHRoPkF0dHJpYnV0ZTwvdGg+CgkJCTx0aD5EZXNjcmlw
dGlvbjwvdGg+CgkJCTx0aD5EZWZhdWx0PC90aD4KCQkJPHRoPkV4YW1wbGU8L3RoPgoJCTwv
dHI+CgkJPHRyPgoJCQk8dGQ+aW5jbHVkZV9qczwvdGQ+CgkJCTx0ZD5JbmNsdWRlIHRoZSBU
d2l0dGVyIHdpZGdldCBKYXZhU2NyaXB0PC90ZD4KCQkJPHRkPnRydWU8L3RkPgoJCQk8dGQ+
aW5jbHVkZV9qcz0mcXVvdDtmYWxzZSZxdW90OzwvdGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0
ZD5vcHRpbWlzZV9qczwvdGQ+CgkJCTx0ZD5PcHRpbWlzZSB0aGUgSmF2YVNjcmlwdCBieSB1
c2luZyBhIGxvY2FsIHNjcmlwdCByYXRoZXIgdGhhbiB0aGF0IGhvc3RlZCBvbiB0aGUgVHdp
dHRlciBzaXRlPC90ZD4KCQkJPHRkPmZhbHNlPC90ZD4KCQkJPHRkPm9wdGltaXNlX2pzPSZx
dW90O3RydWUmcXVvdDs8L3RkPgoJCTwvdHI+Cgk8L3RhYmxlPgoKCTxwPjxzcGFuIGNsYXNz
PSJjYXBzIj5UWFA8L3NwYW4+IFR3ZWV0IHdpbGwgb25seSBpbmNsdWRlIHRoZSB3aWRnZXQg
SmF2YVNjcmlwdCBvbmNlIG9uIGEgcGFnZSByZWdhcmRsZXNzIG9mIHRoZSBudW1iZXIgb2Yg
dGFncyB1c2VkIHRoYXQgaW5jbHVkZSBpdC48L3A+CgoiO3M6NDoiY29kZSI7czo0NDk4OiJn
bG9iYWwgJHByZWZzLCR0eHBjZmc7CgovLyBhcmNfdHdpdHRlcl9pbnRlbnRzIHJlcXVpcmVz
IGFyY190d2l0dGVyIHYzIG9yIGhpZ2hlcgpyZXF1aXJlX3BsdWdpbignYXJjX3R3aXR0ZXIn
KTsKCmZ1bmN0aW9uIGFyY190d2l0dGVyX2ludGVudF9mb2xsb3coJGF0dHMsICR0aGluZz1u
dWxsKQp7CiAgICBnbG9iYWwgJHByZWZzOwoKICAgIGV4dHJhY3QobEF0dHMoYXJyYXkoCiAg
ICAgICAgJ3VzZXInICAgICAgPT4gJHByZWZzWydhcmNfdHdpdHRlcl91c2VyJ10sCiAgICAg
ICAgJ3VzZXJfaWQnICAgPT4gJycsCiAgICAgICAgJ2xhbmcnICAgICAgPT4gJycsCiAgICAg
ICAgJ2luY2x1ZGVfanMnPT4gdHJ1ZSwKICAgICAgICAnb3B0aW1pc2VfanMnID0+IGZhbHNl
LAogICAgICAgICdjbGFzcycgICAgID0+ICcnCiAgICApLCRhdHRzKSk7CgogICAgJHEgPSAo
JHVzZXJfaWQpID8gJ3VzZXJfaWQ9Jy4kdXNlcl9pZCA6ICdzY3JlZW5fbmFtZT0nLiR1c2Vy
OwoKICAgICRsYW5nID0gX2FyY190d2l0dGVyX2ludGVudHNfbGFuZygkbGFuZyk7CiAgICAk
cSAuPSAnJmFtcDtsYW5nPScudXJsZW5jb2RlKCRsYW5nKTsKCiAgICAkdGhpbmcgPSAoJHRo
aW5nPT09bnVsbCkgPyAnRm9sbG93JyA6IHBhcnNlKCR0aGluZyk7CgogICAgJGh0bWwgPSBo
cmVmKCR0aGluZywnaHR0cDovL3R3aXR0ZXIuY29tL2ludGVudC91c2VyPycuJHEKICAgICAg
LCAnIGNsYXNzPSInLiRjbGFzcy4nIicpOwoKICAgICRqcyA9ICgkaW5jbHVkZV9qcykgPyBf
YXJjX3R3aXR0ZXJfd2lkZ2V0X2pzKCRvcHRpbWlzZV9qcz90cnVlOmZhbHNlKSA6ICcnOwoK
ICAgIHJldHVybiAkanMuJGh0bWw7Cn0KCmZ1bmN0aW9uIGFyY190d2l0dGVyX2ludGVudF9m
YXZvcml0ZSgkYXR0cywgJHRoaW5nPW51bGwpCnsKICAgIGdsb2JhbCAkcHJlZnMsICR0aGlz
YXJ0aWNsZTsKCiAgICBleHRyYWN0KGxBdHRzKGFycmF5KAogICAgICAgICd1c2VyJyAgICAg
ID0+ICRwcmVmc1snYXJjX3R3aXR0ZXJfdXNlciddLAogICAgICAgICdyZWxhdGVkJyAgID0+
ICcnLAogICAgICAgICdpbmNsdWRlX2pzJz0+IHRydWUsCiAgICAgICAgJ29wdGltaXNlX2pz
JyA9PiBmYWxzZSwKICAgICAgICAnbGFuZycgICAgICA9PiAnJywKICAgICAgICAnaWQnICAg
ICAgICA9PiAnJywKICAgICAgICAnY2xhc3MnICAgICA9PiAnJwogICAgKSwkYXR0cykpOwoK
ICAgIGlmICgkaWQgfHwgJHRoaXNhcnRpY2xlWyd0aGlzaWQnXSkgewoKICAgICAgJHEgPSAn
cmVsYXRlZD0nLiR1c2VyOwogICAgICBpZiAoJHJlbGF0ZWQpICRxIC49IHVybGVuY29kZSgo
JHE/JywnOidyZWxhdGVkPScpLiRyZWxhdGVkKTsKCiAgICAgIGlmICghJGlkKSB7CiAgICAg
ICAgJHJvdyA9IHNhZmVfcm93KCJ0d2VldF9pZCIKICAgICAgICAsICdhcmNfdHdpdHRlcics
ICJhcnRpY2xlX2lkPXskdGhpc2FydGljbGVbJ3RoaXNpZCddfSIpOwogICAgICAgIGlmICgh
JGlkID0gJHJvd1sndHdlZXRfaWQnXSkgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICAk
cSAuPSAnJmFtcDt0d2VldF9pZD0nLiRpZDsKCiAgICAgICRsYW5nID0gX2FyY190d2l0dGVy
X2ludGVudHNfbGFuZygkbGFuZyk7CiAgICAgICRxIC49ICcmYW1wO2xhbmc9Jy51cmxlbmNv
ZGUoJGxhbmcpOwoKICAgICAgJHRoaW5nID0gKCR0aGluZz09PW51bGwpID8gJ0Zhdm9yaXRl
JyA6IHBhcnNlKCR0aGluZyk7CgogICAgICAkaHRtbCA9IGhyZWYoJHRoaW5nLCdodHRwOi8v
dHdpdHRlci5jb20vaW50ZW50L2Zhdm9yaXRlPycuJHEKICAgICAgICAsICcgY2xhc3M9Iicu
JGNsYXNzLiciJyk7CgogICAgICAkanMgPSAoJGluY2x1ZGVfanMpID8gX2FyY190d2l0dGVy
X3dpZGdldF9qcygkb3B0aW1pc2VfanM/dHJ1ZTpmYWxzZSkgOiAnJzsKCiAgICAgIHJldHVy
biAkanMuJGh0bWw7CgogICAgfQoKICAgIHJldHVybiBmYWxzZTsKfQoKZnVuY3Rpb24gYXJj
X3R3aXR0ZXJfaW50ZW50X3JldHdlZXQoJGF0dHMsICR0aGluZz1udWxsKQp7CiAgICBnbG9i
YWwgJHByZWZzLCAkdGhpc2FydGljbGU7CgogICAgZXh0cmFjdChsQXR0cyhhcnJheSgKICAg
ICAgICAndXNlcicgICAgICA9PiAkcHJlZnNbJ2FyY190d2l0dGVyX3VzZXInXSwKICAgICAg
ICAncmVsYXRlZCcgICA9PiAnJywKICAgICAgICAnaW5jbHVkZV9qcyc9PiB0cnVlLAogICAg
ICAgICdvcHRpbWlzZV9qcycgPT4gZmFsc2UsCiAgICAgICAgJ2xhbmcnICAgICAgPT4gJycs
CiAgICAgICAgJ2lkJyAgICAgICAgPT4gJycsCiAgICAgICAgJ2NsYXNzJyAgICAgPT4gJycK
ICAgICksJGF0dHMpKTsKCiAgICBpZiAoJGlkIHx8ICR0aGlzYXJ0aWNsZVsndGhpc2lkJ10p
IHsKCiAgICAgICRxID0gJ3JlbGF0ZWQ9Jy4kdXNlcjsKICAgICAgaWYgKCRyZWxhdGVkKSAk
cSAuPSB1cmxlbmNvZGUoKCRxPycsJzoncmVsYXRlZD0nKS4kcmVsYXRlZCk7CgogICAgICBp
ZiAoISRpZCkgewogICAgICAgICRyb3cgPSBzYWZlX3JvdygidHdlZXRfaWQiCiAgICAgICAg
LCAnYXJjX3R3aXR0ZXInLCAiYXJ0aWNsZV9pZD17JHRoaXNhcnRpY2xlWyd0aGlzaWQnXX0i
KTsKICAgICAgICBpZiAoISRpZCA9ICRyb3dbJ3R3ZWV0X2lkJ10pIHJldHVybiBmYWxzZTsK
ICAgICAgfQoKICAgICAgJHEgLj0gJyZhbXA7dHdlZXRfaWQ9Jy4kaWQ7CgogICAgICAkbGFu
ZyA9IF9hcmNfdHdpdHRlcl9pbnRlbnRzX2xhbmcoJGxhbmcpOwogICAgICAkcSAuPSAnJmFt
cDtsYW5nPScudXJsZW5jb2RlKCRsYW5nKTsKCiAgICAgICR0aGluZyA9ICgkdGhpbmc9PT1u
dWxsKSA/ICdSZXR3ZWV0JyA6IHBhcnNlKCR0aGluZyk7CgogICAgICAkaHRtbCA9IGhyZWYo
JHRoaW5nLCdodHRwOi8vdHdpdHRlci5jb20vaW50ZW50L3JldHdlZXQ/Jy4kcQogICAgICAg
ICwgJyBjbGFzcz0iJy4kY2xhc3MuJyInKTsKCiAgICAgICRqcyA9ICgkaW5jbHVkZV9qcykg
PyBfYXJjX3R3aXR0ZXJfd2lkZ2V0X2pzKCRvcHRpbWlzZV9qcz90cnVlOmZhbHNlKSA6ICcn
OwoKICAgICAgcmV0dXJuICRqcy4kaHRtbDsKCiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwp9
CgpmdW5jdGlvbiBhcmNfdHdpdHRlcl9pbnRlbnRfcmVwbHkoJGF0dHMsICR0aGluZz1udWxs
KQp7CiAgICBnbG9iYWwgJHByZWZzLCAkdGhpc2FydGljbGU7CgogICAgZXh0cmFjdChsQXR0
cyhhcnJheSgKICAgICAgICAndXNlcicgICAgICA9PiAkcHJlZnNbJ2FyY190d2l0dGVyX3Vz
ZXInXSwKICAgICAgICAncmVsYXRlZCcgICA9PiAnJywKICAgICAgICAndGV4dCcgICAgICA9
PiAnJywKICAgICAgICAnaW5jbHVkZV9qcyc9PiB0cnVlLAogICAgICAgICdvcHRpbWlzZV9q
cycgPT4gZmFsc2UsCiAgICAgICAgJ2xhbmcnICAgICAgPT4gJycsCiAgICAgICAgJ2lkJyAg
ICAgICAgPT4gJycsCiAgICAgICAgJ2NsYXNzJyAgICAgPT4gJycKICAgICksJGF0dHMpKTsK
CiAgICBpZiAoJGlkIHx8ICR0aGlzYXJ0aWNsZVsndGhpc2lkJ10pIHsKCiAgICAgIGlmICgh
JGlkKSB7CiAgICAgICAgJHJvdyA9IHNhZmVfcm93KCJ0d2VldF9pZCIKICAgICAgICAsICdh
cmNfdHdpdHRlcicsICJhcnRpY2xlX2lkPXskdGhpc2FydGljbGVbJ3RoaXNpZCddfSIpOwog
ICAgICAgIGlmICghJGlkID0gJHJvd1sndHdlZXRfaWQnXSkgcmV0dXJuIGZhbHNlOwogICAg
ICB9CgogICAgICAkcSA9ICdpbl9yZXBseV90bz0nLiRpZDsKCiAgICAgIGlmICgkdXNlcikg
ewogICAgICAgICRxIC49ICcmYW1wO3JlbGF0ZWQ9Jy51cmxlbmNvZGUoJHVzZXIpOwogICAg
ICB9CiAgICAgIGlmICgkcmVsYXRlZCkgewogICAgICAgICRxIC49IHVybGVuY29kZSgoJHVz
ZXI/JywnOicmcmVsYXRlZD0nKS4kcmVsYXRlZCk7CiAgICAgIH0KICAgICAgaWYgKCR0ZXh0
KSB7CiAgICAgICAgJHEgLj0gJyZhbXA7dGV4dD0nLnVybGVuY29kZSgkdGV4dCk7CiAgICAg
IH0KCiAgICAgICRsYW5nID0gX2FyY190d2l0dGVyX2ludGVudHNfbGFuZygkbGFuZyk7CiAg
ICAgICRxIC49ICcmYW1wO2xhbmc9Jy51cmxlbmNvZGUoJGxhbmcpOwoKICAgICAgJHRoaW5n
ID0gKCR0aGluZz09PW51bGwpID8gJ1JlcGx5JyA6IHBhcnNlKCR0aGluZyk7CgogICAgICAk
aHRtbCA9IGhyZWYoJHRoaW5nLCdodHRwOi8vdHdpdHRlci5jb20vaW50ZW50L3R3ZWV0Pycu
JHEKICAgICAgICAsICcgY2xhc3M9IicuJGNsYXNzLiciJyk7CgogICAgICAkanMgPSAoJGlu
Y2x1ZGVfanMpID8gX2FyY190d2l0dGVyX3dpZGdldF9qcygkb3B0aW1pc2VfanM/dHJ1ZTpm
YWxzZSkgOiAnJzsKCiAgICAgIHJldHVybiAkanMuJGh0bWw7CgogICAgfQoKICAgIHJldHVy
biBmYWxzZTsKfQoKLyoKICogU2V0IHRoZSBpbnRlbnQgbGFuZ3VhZ2UKICovCmZ1bmN0aW9u
IF9hcmNfdHdpdHRlcl9pbnRlbnRzX2xhbmcoJGxhbmc9J2VuJykKewogICRsYW5nID0gc3Ry
dG9sb3dlcigkbGFuZyk7CiAgJGxhbmdzID0gYXJyYXkoJ2VuJywgJ2l0JywgJ2VzJywgJ2Zy
JywgJ2tvJywgJ2pwJyk7CiAgcmV0dXJuIChpbl9hcnJheSgkbGFuZywkbGFuZ3MpKSA/ICRs
YW5nIDogJ2VuJzsKfQoKIjtzOjM6Im1kNSI7czozMjoiMTNiNTE2YjI3ZDg5NDk3ZTQzZTM3
ZjZiMDE3OTVhM2MiO30=
