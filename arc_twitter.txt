# arc_twitter v3.0-dev
# <a href="http://www.twitter.com">Twitter</a> for Textpattern
# Andy Carter
# http://redhotchilliproject.com/

# ......................................................................
# This is a plugin for Textpattern - http://textpattern.com/
# To install: textpattern > admin > plugins
# Paste the following text into the 'Install plugin' box:
# ......................................................................

YToxMTp7czo0OiJuYW1lIjtzOjExOiJhcmNfdHdpdHRlciI7czo3OiJ2ZXJzaW9uIjtzOjc6
IjMuMC1kZXYiO3M6NjoiYXV0aG9yIjtzOjExOiJBbmR5IENhcnRlciI7czoxMDoiYXV0aG9y
X3VyaSI7czozMToiaHR0cDovL3JlZGhvdGNoaWxsaXByb2plY3QuY29tLyI7czoxMToiZGVz
Y3JpcHRpb24iO3M6NjA6IjxhIGhyZWY9Imh0dHA6Ly93d3cudHdpdHRlci5jb20iPlR3aXR0
ZXI8L2E+IGZvciBUZXh0cGF0dGVybiI7czo1OiJvcmRlciI7czoxOiI1IjtzOjQ6InR5cGUi
O3M6MToiMSI7czo1OiJmbGFncyI7czoxOiIzIjtzOjQ6ImhlbHAiO3M6MTY5OTE6Igk8aDEg
Y2xhc3M9InRpdGxlIj48c3BhbiBjbGFzcz0iY2FwcyI+VFhQPC9zcGFuPiBUd2VldCAoYXJj
X3R3aXR0ZXIgZm9yIFRleHRwYXR0ZXJuKTwvaDE+CgoJPG9sPgoJCTxsaT48YSBocmVmPSIj
YXJjX3R3aXR0ZXJfYXV0aG9yIj5BdXRob3I8L2E+PC9saT4KCQk8bGk+PGEgaHJlZj0iI2Fy
Y190d2l0dGVyX2luc3RhbGxhdGlvbiI+SW5zdGFsbGF0aW9uIC8gVW5pbnN0YWxsYXRpb248
L2E+PC9saT4KCQk8bGk+PGEgaHJlZj0iI2FyY190d2l0dGVyX3RhZyI+VGhlIGFyY190d2l0
dGVyIHRhZzwvYT48L2xpPgoJCTxsaT48YSBocmVmPSIjYXJjX3R3aXR0ZXJfc2VhcmNoX3Rh
ZyI+VGhlIGFyY190d2l0dGVyX3NlYXJjaCB0YWc8L2E+PC9saT4KCQk8bGk+PGEgaHJlZj0i
I2FyY190d2l0dGVyX3R3ZWV0X2J1dHRvbl90YWciPlRoZSBhcmNfdHdpdHRlcl90d2VldF9i
dXR0b24gdGFnPC9hPjwvbGk+CgkJPGxpPjxhIGhyZWY9IiNhcmNfdHdpdHRlcl9mb2xsb3df
YnV0dG9uX3RhZyI+VGhlIGFyY190d2l0dGVyX2ZvbGxvd19idXR0b24gdGFnPC9hPjwvbGk+
CgkJPGxpPjxhIGhyZWY9IiNhcmNfdHdpdHRlcl90d2VldF91cmwiPlRoZSBhcmNfdHdpdHRl
cl90d2VldF91cmwgdGFnPC9hPjwvbGk+CgkJPGxpPjxhIGhyZWY9IiNhcmNfdHdpdHRlcl90
aW55dXJsIj5UaGUgYXJjX3R3aXR0ZXJfdGlueXVybCB0YWc8L2E+PC9saT4KCQk8bGk+PGEg
aHJlZj0iI2FyY190d2l0dGVyX2NhY2hpbmciPkNhY2hpbmc8L2E+PC9saT4KCQk8bGk+PGEg
aHJlZj0iI2FyY190d2l0dGVyX3ByZWZzIj5QcmVmZXJlbmNlczwvYT48L2xpPgoJCTxsaT48
YSBocmVmPSIjYXJjX3R3aXR0ZXJfYXJ0aWNsZSI+VHdlZXRpbmcgYXJ0aWNsZXM8L2E+PC9s
aT4KCQk8bGk+PGEgaHJlZj0iI2FyY190d2l0dGVyX2FkbWluIj5UaGUgVHdpdHRlciB0YWI8
L2E+PC9saT4KCTwvb2w+CgoJPHA+PHNwYW4gY2xhc3M9ImNhcHMiPlRYUDwvc3Bhbj4gVHdl
ZXQgcHJvdmlkZXMgYWNjZXNzIHRvIHlvdXIgVHdpdHRlciBhY2NvdW50IHRocm91Z2ggYm90
aCB0aGUgYWRtaW4gaW50ZXJmYWNlIGFuZCB0aGUgcHVibGljIHNpZGUgb2YgeW91ciBzaXRl
LiBVcGRhdGUgVHdpdHRlciB3aGVuIHlvdSBwb3N0IGEgbmV3IGFydGljbGUgKHdpdGggYXJ0
aWNsZS1ieS1hcnRpY2xlIG9wdCBvdXQgb3B0aW9uKSwgdXBkYXRlIGFuZCB2aWV3IHlvdXIg
VHdpdHRlciBmZWVkIHRocm91Z2ggdGhlIGFkbWluIFR3aXR0ZXIgdGFiLCBhbmQgZGlzcGxh
eSBUd2l0dGVyIGZlZWRzIG9uIHlvdXIgc2l0ZS48L3A+CgoJPHA+UmVxdWlyZW1lbnRzOi08
L3A+CgoJPHVsPgoJCTxsaT5UZXh0cGF0dGVybiA0LjIrPC9saT4KCQk8bGk+PHNwYW4gY2xh
c3M9ImNhcHMiPlBIUDwvc3Bhbj4gNSBhbmQgY1VSTDwvbGk+Cgk8L3VsPgoKCTxoMiBjbGFz
cz0ic2VjdGlvbiIgaWQ9ImFyY190d2l0dGVyX2F1dGhvciI+QXV0aG9yPC9oMj4KCgk8cD48
YSBocmVmPSJodHRwOi8vcmVkaG90Y2hpbGxpcHJvamVjdC5jb20iPkFuZHkgQ2FydGVyPC9h
Pi4gRm9yIG90aGVyIFRleHRwYXR0ZXJuIHBsdWdpbnMgYnkgbWUgdmlzaXQgbXkgPGEgaHJl
Zj0iaHR0cDovL3JlZGhvdGNoaWxsaXByb2plY3QuY29tL3R4cCI+UGx1Z2lucyBwYWdlPC9h
Pi48L3A+CgoJPHA+VGhhbmtzIHRvIDxhIGhyZWY9Imh0dHA6Ly9tYW5mcmUubmV0LyI+TWlj
aGFlbCBNYW5mcmU8L2E+IGZvciBpbnNwaXJhdGlvbiBmb3IgdGhlIGFydGljbGUgdHdlZXQg
cGFydCBvZiB0aGlzIHBsdWdpbiBiYXNlZCBvbiBoaXMgPHNwYW4gY2xhc3M9InRhZyI+bWVt
X3R3aXR0ZXI8L3NwYW4+IHBsdWdpbi4gIEFkZGl0aW9uYWwgdGhhbmtzIHRvIHRoZSBncmVh
dCBUZXh0cGF0dGVybiBjb21tdW5pdHkgZm9yIGhlbHBpbmcgdG8gdGVzdCB0aGlzIHBsdWdp
biBhbmQgZm9yIHN1Z2dlc3RpbmcgbmV3IGZlYXR1cmVzLiBUaGUgT0F1dGggcGFydCBvZiB0
aGUgcGx1Z2luIGlzIHRoYW5rcyB0byA8YSBocmVmPSJodHRwOi8vdHdpdHRlci5jb20vYWJy
YWhhbSI+QWJyYWhhbSBXaWxsaWFtczwvYT4uPC9wPgoKCTxoMiBjbGFzcz0ic2VjdGlvbiIg
aWQ9ImFyY190d2l0dGVyX2luc3RhbGxhdGlvbiI+SW5zdGFsbGF0aW9uIC8gVW5pbnN0YWxs
YXRpb248L2gyPgoKCTxwPlRvIGluc3RhbGwgZ28gdG8gdGhlICYjODIxNjtwbHVnaW5zJiM4
MjE3OyB0YWIgdW5kZXIgJiM4MjE2O2FkbWluJiM4MjE3OyBhbmQgcGFzdGUgdGhlIHBsdWdp
biBjb2RlIGludG8gdGhlICYjODIxNjtJbnN0YWxsIHBsdWdpbiYjODIxNzsgYm94LCAmIzgy
MTY7dXBsb2FkJiM4MjE3OyBhbmQgdGhlbiAmIzgyMTY7aW5zdGFsbCYjODIxNzsuIEZpbmFs
bHkgYWN0aXZhdGUgdGhlIHBsdWdpbi48L3A+CgoJPHA+QmVmb3JlIHlvdSBzdGFydCB1c2lu
ZyA8c3BhbiBjbGFzcz0idGFnIj5hcmNfdHdpdHRlcjwvc3Bhbj4geW91IHdpbGwgbmVlZCB0
byBtYWtlIHN1cmUgdGhhdCB0aGUgY2FjaGUgZGlyZWN0b3J5IGlzIHdyaXRhYmxlLiBTZWUg
dGhlICYjODIxNjtDYWNoaW5nJiM4MjE3OyBzdWJzZWN0aW9uIGJlbG93IGZvciBmdXJ0aGVy
IGluZm9ybWF0aW9uLjwvcD4KCgk8cD48c3BhbiBjbGFzcz0idGFnIj5hcmNfdHdpdHRlcjwv
c3Bhbj4gc2hvdWxkIG5vdyBiZSByZWFkeSBmb3IgdXNlIG9uIHRoZSBwdWJsaWMtc2lkZSBv
ZiB5b3VyIHNpdGUuPC9wPgoKCTxwPlRvIHVubG9jayB0aGUgYWRtaW4gZmVhdHVyZXMgb2Yg
dGhpcyBwbHVnaW4geW91IHdpbGwgbmVlZCB0byBhc3NvY2lhdGUgeW91ciBzaXRlIHdpdGgg
YSBUd2l0dGVyIGFjY291bnQgYnkgY29ubmVjdGluZyB0byBUd2l0dGVyIGZyb20gdGhlIHBs
dWdpbiYjODIxNztzIG9wdGlvbnMgc2NyZWVuLiBDbGljayBvbiB0aGUgbGluayB0byBjb25u
ZWN0IHRvIFR3aXR0ZXIsIHlvdSB3aWxsIGJlIGFza2VkIHRvIGxvZ2luIHRvIFR3aXR0ZXIs
IGNsaWNraW5nIHRoaXMgbGluayB3aWxsIHRlbXBvcmFyaWx5IHRha2UgeW91IHRvIHRoZSBU
d2l0dGVyIHNpdGUgd2hlcmUgeW91IHdpbGwgYmUgYXNrZWQgdG8gbG9naW4gYW5kIGFwcHJv
dmUgYWNjZXNzIGZvciA8c3BhbiBjbGFzcz0iY2FwcyI+VFhQPC9zcGFuPiBUd2VldCB0byBy
ZWFkIGFuZCB3cml0ZSB0byB5b3VyIFR3aXR0ZXIgYWNjb3VudC4gSWYgYWxsIGlzIHN1Y2Nl
c3NmdWwgeW91IHdpbGwgYmUgcmV0dXJuZWQgdG8gdGhlIG9wdGlvbnMgc2NyZWVuIGFuZCB5
b3VyIHVzZXIgbmFtZSB3aWxsIGFwcGVhci48L3A+CgoJPHA+QXQgYW55IHRpbWUgeW91IGNh
biBkaXNhc3NvY2lhdGUgeW91ciBUd2l0dGVyIGFjY291bnQgd2l0aCA8c3BhbiBjbGFzcz0i
Y2FwcyI+VFhQPC9zcGFuPiBUd2VldCB2aWEgeW91ciBUd2l0dGVyIGFjY291bnQgcHJlZmVy
ZW5jZXMgb24gdGhlIDxhIGhyZWY9Imh0dHA6Ly93d3cudHdpdHRlci5jb20iPlR3aXR0ZXIg
d2Vic2l0ZTwvYT4uPC9wPgoKCTxwPlRvIHVuaW5zdGFsbCA8c3BhbiBjbGFzcz0idGFnIj5h
cmNfdHdpdHRlcjwvc3Bhbj4gc2ltcGx5IGRlbGV0ZSB0aGUgcGx1Z2luIGZyb20gdGhlICYj
ODIxNjtQbHVnaW5zJiM4MjE3OyB0YWIuICBUaGlzIHdpbGwgcmVtb3ZlIHRoZSBwbHVnaW4g
Y29kZSwgZGVsZXRlIHJlbGF0ZWQgcHJlZmVyZW5jZXMgYW5kIGRyb3AgdGhlIDxzcGFuIGNs
YXNzPSJ0YWciPmFyY190d2l0dGVyPC9zcGFuPiB0YWJsZSBmcm9tIHlvdXIgVGV4dHBhdHRl
cm4gZGF0YWJhc2UuPC9wPgoKCTxoMiBjbGFzcz0ic2VjdGlvbiIgaWQ9ImFyY190d2l0dGVy
X3RhZyI+VGhlIGFyY190d2l0dGVyIHRhZzwvaDI+CgoJPGgzPlN5bnRheDwvaDM+CgoJPHA+
Jmx0O3R4cDphcmNfdHdpdHRlciB1c2VyPSZxdW90O2RybW9ua2V5bmluamEmcXVvdDsgLyZn
dDs8L3A+CgoJPGgzPlVzYWdlPC9oMz4KCgk8dGFibGU+CgkJPHRyPgoJCQk8dGg+QXR0cmli
dXRlPC90aD4KCQkJPHRoPkRlc2NyaXB0aW9uPC90aD4KCQkJPHRoPkRlZmF1bHQ8L3RoPgoJ
CQk8dGg+RXhhbXBsZTwvdGg+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD51c2VyPC90ZD4KCQkJ
PHRkPlR3aXR0ZXIgdXNlciBuYW1lPC90ZD4KCQkJPHRkPiA8ZW0+YXJjX3R3aXR0ZXIgdXNl
cm5hbWU8L2VtPjwvdGQ+CgkJCTx0ZD51c2VyPSZxdW90O2RybW9ua2V5bmluamEmcXVvdDs8
L3RkPgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+bGltaXQ8L3RkPgoJCQk8dGQ+TWF4aW11bSBu
dW1iZXIgb2YgdHdlZXRzIHRvIGRpc3BsYXkgKG1heC4gMjAwKTwvdGQ+CgkJCTx0ZD4xMDwv
dGQ+CgkJCTx0ZD5saW1pdD0mcXVvdDsyNSZxdW90OzwvdGQ+CgkJPC90cj4KCQk8dHI+CgkJ
CTx0ZD5kYXRlZm9ybWF0PC90ZD4KCQkJPHRkPkZvcm1hdCB0aGF0IHVwZGF0ZSBkYXRlcyB3
aWxsIGFwcGVhciBhczwvdGQ+CgkJCTx0ZD4gPGVtPkFyY2hpdmUgZGF0ZSBmb3JtYXQ8L2Vt
PjwvdGQ+CgkJCTx0ZD5kYXRlZm9ybWF0PSZxdW90OyViICVPZSwgJUk6JU0gJXAmcXVvdDs8
L3RkPgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+bGFiZWw8L3RkPgoJCQk8dGQ+TGFiZWwgZm9y
IHRoZSB0b3Agb2YgdGhlIGxpc3Q8L3RkPgoJCQk8dGQ+IDxlbT5ubyBsYWJlbDwvZW0+PC90
ZD4KCQkJPHRkPmxhYmVsPSZxdW90O015IFR3aXR0ZXIgdGltZWxpbmUmcXVvdDs8L3RkPgoJ
CTwvdHI+CgkJPHRyPgoJCQk8dGQ+bGFiZWx0YWc8L3RkPgoJCQk8dGQ+SW5kZXBlbmRlbnQg
d3JhcHRhZyBmb3IgbGFiZWw8L3RkPgoJCQk8dGQ+IDxlbT51bnNldDwvZW0+PC90ZD4KCQkJ
PHRkPmxhYmVsdGFnPSZxdW90O2gzJnF1b3Q7PC90ZD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRk
PmJyZWFrPC90ZD4KCQkJPHRkPjxzcGFuIGNsYXNzPSJjYXBzIj48c3BhbiBjbGFzcz0iY2Fw
cyI+SFRNTDwvc3Bhbj48L3NwYW4+IHRhZyAod2l0aG91dCBicmFja2V0cyksIG9yIHN0cmlu
ZywgdXNlZCB0byBzZXBhcmF0ZSB0aGUgdXBkYXRlczwvdGQ+CgkJCTx0ZD5saTwvdGQ+CgkJ
CTx0ZD5icmVhaz0mcXVvdDticiZxdW90OzwvdGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD53
cmFwdGFnPC90ZD4KCQkJPHRkPjxzcGFuIGNsYXNzPSJjYXBzIj48c3BhbiBjbGFzcz0iY2Fw
cyI+SFRNTDwvc3Bhbj48L3NwYW4+IHRhZyB0byBiZSB1c2VkIGFzIHRoZSB3cmFwdGFnLCB3
aXRob3V0IGJyYWNrZXRzPC90ZD4KCQkJPHRkPiA8ZW0+dW5zZXQ8L2VtPjwvdGQ+CgkJCTx0
ZD53cmFwdGFnPSZxdW90O3VsJnF1b3Q7PC90ZD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRkPmNs
YXNzPC90ZD4KCQkJPHRkPjxzcGFuIGNsYXNzPSJjYXBzIj48c3BhbiBjbGFzcz0iY2FwcyI+
Q1NTPC9zcGFuPjwvc3Bhbj4gY2xhc3MgYXR0cmlidXRlIGZvciB3cmFwdGFnPC90ZD4KCQkJ
PHRkPmFyY190d2l0dGVyPC90ZD4KCQkJPHRkPmNsYXNzPSZxdW90O3R3aXR0ZXImcXVvdDs8
L3RkPgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+Y2xhc3NfcG9zdGVkPC90ZD4KCQkJPHRkPjxz
cGFuIGNsYXNzPSJjYXBzIj48c3BhbiBjbGFzcz0iY2FwcyI+Q1NTPC9zcGFuPjwvc3Bhbj4g
Y2xhc3MgYXR0cmlidXRlIGFwcGxpZWQgdG8gc3BhbiB0YWcgYXJvdW5kIHBvc3RlZCBkYXRl
PC90ZD4KCQkJPHRkPmFyY190d2l0dGVyLXBvc3RlZDwvdGQ+CgkJPC90cj4KCTwvdGFibGU+
CgoJPGgzPkV4YW1wbGUgdXNhZ2U8L2gzPgoKCTxwPiZsdDt0eHA6YXJjX3R3aXR0ZXIgdXNl
cj0mcXVvdDtkcm1vbmtleW5pbmphJnF1b3Q7IGxpbWl0PSZxdW90OzUmcXVvdDsgd3JhcHRh
Zz0mcXVvdDt1bCZxdW90OyBicmVhaz0mcXVvdDtsaSZxdW90OyBkYXRlZm9ybWF0PSZxdW90
OyViICVPZSwgJUk6JU0gJXAmcXVvdDsgLyZndDs8L3A+CgoJPHA+UHJvZHVjZXMgYSBidWxs
ZXQgcG9pbnQgbGlzdCBvZiB0aGUgbGFzdCA1IFR3aXR0ZXIgdXBkYXRlcyBmcm9tIGRybW9u
a2V5bmluamEmIzgyMTc7cyBUd2l0dGVyIGZlZWQgd2l0aCBhIGRlZmluZWQgZGF0ZSBmb3Jt
YXQgdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgYXJjaGl2ZSBkYXRlIGZvcm1hdC48L3A+CgoJ
PGgyIGNsYXNzPSJzZWN0aW9uIiBpZD0iYXJjX3R3aXR0ZXJfc2VhcmNoX3RhZyI+VGhlIGFy
Y190d2l0dGVyX3NlYXJjaCB0YWc8L2gyPgoKCTxoMz5TeW50YXg8L2gzPgoKCTxwPiZsdDt0
eHA6YXJjX3R3aXR0ZXJfc2VhcmNoIGhhc2h0YWdzPSZxdW90O3R4cCZxdW90OyAvJmd0Ozwv
cD4KCgk8aDM+VXNhZ2U8L2gzPgoKCTx0YWJsZT4KCQk8dHI+CgkJCTx0aD5BdHRyaWJ1dGU8
L3RoPgoJCQk8dGg+RGVzY3JpcHRpb248L3RoPgoJCQk8dGg+RGVmYXVsdDwvdGg+CgkJCTx0
aD5FeGFtcGxlPC90aD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRkPnNlYXJjaDwvdGQ+CgkJCTx0
ZD5Db21tYSBzZXBhcmF0ZWQgbGlzdCBvZiBzZWFyY2ggd29yZHM8L3RkPgoJCQk8dGQ+IDxl
bT51bnNldDwvZW0+PC90ZD4KCQkJPHRkPnNlYXJjaD0mcXVvdDt0eHAsdGV4dHBhdHRlcm4m
cXVvdDs8L3RkPgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+aGFzaHRhZ3M8L3RkPgoJCQk8dGQ+
Q29tbWEgc2VwYXJhdGVkIGxpc3Qgb2YgaGFzaHRhZ3MgdG8gc2VhcmNoIGZvciAobm90IGlu
Y2x1ZGluZyB0aGUgaGFzaCk8L3RkPgoJCQk8dGQ+IDxlbT51bnNldDwvZW0+PC90ZD4KCQkJ
PHRkPmhhc2h0YWdzPSZxdW90O3R4cCx0ZXh0cGF0dGVybiZxdW90OzwvdGQ+CgkJPC90cj4K
CQk8dHI+CgkJCTx0ZD5yZXBseTwvdGQ+CgkJCTx0ZD5Vc2VybmFtZSBvZiB0d2VldHMgaW4g
cmVwbHkgdG88L3RkPgoJCQk8dGQ+IDxlbT51bnNldDwvZW0+PC90ZD4KCQkJPHRkPnJlcGx5
PSZxdW90O3R3aXR0ZXImcXVvdDs8L3RkPgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+bWVudGlv
bjwvdGQ+CgkJCTx0ZD5Vc2VybmFtZSBvZiB1c2VyIG1lbnRpb25lZCBpbiB0d2VldHMgKDxp
PmkuZS48L2k+IHR3ZWV0cyBjb250YWluaW5nIEB1c2VybmFtZSk8L3RkPgoJCQk8dGQ+IDxl
bT51bnNldDwvZW0+PC90ZD4KCQkJPHRkPm1lbnRpb249JnF1b3Q7dHdpdHRlciZxdW90Ozwv
dGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5saW1pdDwvdGQ+CgkJCTx0ZD5NYXhpbXVtIG51
bWJlciBvZiB0d2VldHMgdG8gZGlzcGxheSAobWF4LiAyMDApPC90ZD4KCQkJPHRkPjEwPC90
ZD4KCQkJPHRkPmxpbWl0PSZxdW90OzI1JnF1b3Q7PC90ZD4KCQk8L3RyPgoJCTx0cj4KCQkJ
PHRkPmRhdGVmb3JtYXQ8L3RkPgoJCQk8dGQ+Rm9ybWF0IHRoYXQgdXBkYXRlIGRhdGVzIHdp
bGwgYXBwZWFyIGFzPC90ZD4KCQkJPHRkPiA8ZW0+QXJjaGl2ZSBkYXRlIGZvcm1hdDwvZW0+
PC90ZD4KCQkJPHRkPmRhdGVmb3JtYXQ9JnF1b3Q7JWIgJU9lLCAlSTolTSAlcCZxdW90Ozwv
dGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5sYWJlbDwvdGQ+CgkJCTx0ZD5MYWJlbCBmb3Ig
dGhlIHRvcCBvZiB0aGUgbGlzdDwvdGQ+CgkJCTx0ZD4gPGVtPm5vIGxhYmVsPC9lbT48L3Rk
PgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+bGFiZWx0YWc8L3RkPgoJCQk8dGQ+SW5kZXBlbmRl
bnQgd3JhcHRhZyBmb3IgbGFiZWw8L3RkPgoJCQk8dGQ+IDxlbT51bnNldDwvZW0+PC90ZD4K
CQk8L3RyPgoJCTx0cj4KCQkJPHRkPmJyZWFrPC90ZD4KCQkJPHRkPjxzcGFuIGNsYXNzPSJj
YXBzIj48c3BhbiBjbGFzcz0iY2FwcyI+SFRNTDwvc3Bhbj48L3NwYW4+IHRhZyAod2l0aG91
dCBicmFja2V0cyksIG9yIHN0cmluZywgdXNlZCB0byBzZXBhcmF0ZSB0aGUgdXBkYXRlczwv
dGQ+CgkJCTx0ZD5saTwvdGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD53cmFwdGFnPC90ZD4K
CQkJPHRkPjxzcGFuIGNsYXNzPSJjYXBzIj48c3BhbiBjbGFzcz0iY2FwcyI+SFRNTDwvc3Bh
bj48L3NwYW4+IHRhZyB0byBiZSB1c2VkIGFzIHRoZSB3cmFwdGFnLCB3aXRob3V0IGJyYWNr
ZXRzPC90ZD4KCQkJPHRkPiA8ZW0+dW5zZXQ8L2VtPjwvdGQ+CgkJPC90cj4KCQk8dHI+CgkJ
CTx0ZD5jbGFzczwvdGQ+CgkJCTx0ZD48c3BhbiBjbGFzcz0iY2FwcyI+PHNwYW4gY2xhc3M9
ImNhcHMiPkNTUzwvc3Bhbj48L3NwYW4+IGNsYXNzIGF0dHJpYnV0ZSBmb3Igd3JhcHRhZzwv
dGQ+CgkJCTx0ZD5hcmNfdHdpdHRlcl9zZWFyY2g8L3RkPgoJCTwvdHI+CgkJPHRyPgoJCQk8
dGQ+Y2xhc3NfdXNlcjwvdGQ+CgkJCTx0ZD48c3BhbiBjbGFzcz0iY2FwcyI+PHNwYW4gY2xh
c3M9ImNhcHMiPkNTUzwvc3Bhbj48L3NwYW4+IGNsYXNzIGF0dHJpYnV0ZSBhcHBsaWVkIHRv
IHNwYW4gdGFnIGFyb3VuZCB1c2VyIG5hbWU8L3RkPgoJCQk8dGQ+YXJjX3R3aXR0ZXItdXNl
cjwvdGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5jbGFzc19wb3N0ZWQ8L3RkPgoJCQk8dGQ+
PHNwYW4gY2xhc3M9ImNhcHMiPjxzcGFuIGNsYXNzPSJjYXBzIj5DU1M8L3NwYW4+PC9zcGFu
PiBjbGFzcyBhdHRyaWJ1dGUgYXBwbGllZCB0byBzcGFuIHRhZyBhcm91bmQgcG9zdGVkIGRh
dGU8L3RkPgoJCQk8dGQ+YXJjX3R3aXR0ZXItcG9zdGVkPC90ZD4KCQk8L3RyPgoJPC90YWJs
ZT4KCgk8aDM+RXhhbXBsZSB1c2FnZTwvaDM+CgoJPHA+Jmx0O3R4cDphcmNfdHdpdHRlcl9z
ZWFyY2ggc2VhcmNoPSZxdW90O3BsdWdpbiZxdW90OyBoYXNodGFncz0mcXVvdDt0eHAsdGV4
dHBhdHRlcm4mcXVvdDsgbGltaXQ9JnF1b3Q7MjUmcXVvdDsgLyZndDs8L3A+CgoJPHA+UHJv
ZHVjZXMgYSBsaXN0IG9mIHR3ZWV0cyBjb250YWluaW5nIHRoZSB3b3JkICYjODIxNjtwbHVn
aW4mIzgyMTc7IGFuZCB0aGUgaGFzaHRhZ3MgJiM4MjE2OyN0eHAmIzgyMTc7IGFuZCAmIzgy
MTY7I3RleHRwYXR0ZXJuJiM4MjE3Oy4gVGhlIHRhZyB3aWxsIHJldHVybiBhIG1heGltdW0g
b2YgMjUgdHdlZXRzLjwvcD4KCgk8aDIgY2xhc3M9InNlY3Rpb24iIGlkPSJhcmNfdHdpdHRl
cl9yZXR3ZWV0X3RhZyI+VGhlIGFyY190d2l0dGVyX3R3ZWV0X2J1dHRvbiB0YWc8L2gyPgoK
CTxwPk91dHB1dHMgdGhlIFR3aXR0ZXIgdHdlZXQgYnV0dG9uIChmb3JtZXJseSAmbHQ7dHhw
OmFyY190d2l0dGVyX3JldHdlZXQgLyZndDspLjwvcD4KCgk8aDM+U3ludGF4PC9oMz4KCgk8
cD4mbHQ7dHhwOmFyY190d2l0dGVyX3R3ZWV0X2J1dHRvbiAvJmd0OzwvcD4KCgk8aDM+VXNh
Z2U8L2gzPgoKCTx0YWJsZT4KCQk8dHI+CgkJCTx0aD5BdHRyaWJ1dGU8L3RoPgoJCQk8dGg+
RGVzY3JpcHRpb248L3RoPgoJCQk8dGg+RGVmYXVsdDwvdGg+CgkJCTx0aD5FeGFtcGxlPC90
aD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRkPnVzZXI8L3RkPgoJCQk8dGQ+VHdpdHRlciB1c2Vy
IG5hbWUgdG8gcXVvdGU8L3RkPgoJCQk8dGQ+IDxlbT5hcmNfdHdpdHRlciB1c2VybmFtZTwv
ZW0+PC90ZD4KCQkJPHRkPnVzZXI9JnF1b3Q7ZHJtb25rZXluaW5qYSZxdW90OzwvdGQ+CgkJ
PC90cj4KCQk8dHI+CgkJCTx0ZD51cmw8L3RkPgoJCQk8dGQ+PHNwYW4gY2xhc3M9ImNhcHMi
PjxzcGFuIGNsYXNzPSJjYXBzIj5VUkw8L3NwYW4+PC9zcGFuPiB0byB0d2VldDwvdGQ+CgkJ
PC90cj4KCQk8dHI+CgkJCTx0ZD50ZXh0PC90ZD4KCQkJPHRkPlR3ZWV0IHRleHQ8L3RkPgoJ
CTwvdHI+CgkJPHRyPgoJCQk8dGQ+Zm9sbG93MTwvdGQ+CgkJCTx0ZD5TdWdnZXN0ZWQgVHdp
dHRlciBhY2NvdW50IHRvIGZvbGxvdywgZm9yIGV4YW1wbGUgeW91ciBvd248L3RkPgoJCQk8
dGQ+QSBUd2l0dGVyIHVzZXIgdG8gcmVjb21tZW5kPC90ZD4KCQkJPHRkPmZvbGxvdzE9JnF1
b3Q7VGV4dHBhdHRlcm4mcXVvdDs8L3RkPgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+Zm9sbG93
MjwvdGQ+CgkJCTx0ZD5BcyBmb2xsb3cxPC90ZD4KCQkJPHRkPiA8ZW0+dW5zZXQ8L2VtPjwv
dGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5sYW5nPC90ZD4KCQkJPHRkPkxhbmd1YWdlPC90
ZD4KCQkJPHRkPmVuPC90ZD4KCQkJPHRkPmxhbmc9JnF1b3Q7ZXMmcXVvdDs8L3RkPgoJCTwv
dHI+CgkJPHRyPgoJCQk8dGQ+Y291bnQ8L3RkPgoJCQk8dGQ+Q291bnQgYm94IHBvc2l0aW9u
LCBvcHRpb25zOiBub25lLCBob3Jpem9udGFsIG9yIHZlcnRpY2FsPC90ZD4KCQkJPHRkPmhv
cml6b250YWw8L3RkPgoJCQk8dGQ+Y291bnQ9JnF1b3Q7bm9uZSZxdW90OzwvdGQ+CgkJPC90
cj4KCQk8dHI+CgkJCTx0ZD5pbmNsdWRlX2pzPC90ZD4KCQkJPHRkPldoZXRoZXIgb3Igbm90
IHRvIGluY2x1ZGUgdGhlIHdpZGdldCBKYXZhU2NyaXB0PC90ZD4KCQkJPHRkPjE8L3RkPgoJ
CQk8dGQ+aW5jbHVkZV9qcz0mcXVvdDswJnF1b3Q7PC90ZD4KCQk8L3RyPgoJCTx0cj4KCQkJ
PHRkPm9wdGltaXNlX2pzPC90ZD4KCQkJPHRkPk9wdGltaXNlIHRoZSBKYXZhU2NyaXB0IGJ5
IHVzaW5nIGEgbG9jYWwgc2NyaXB0IHJhdGhlciB0aGFuIHRoYXQgaG9zdGVkIG9uIHRoZSBU
d2l0dGVyIHNpdGU8L3RkPgoJCQk8dGQ+MDwvdGQ+CgkJCTx0ZD5vcHRpbWlzZV9qcz0mcXVv
dDsxJnF1b3Q7PC90ZD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRkPmNsYXNzPC90ZD4KCQkJPHRk
PjxzcGFuIGNsYXNzPSJjYXBzIj48c3BhbiBjbGFzcz0iY2FwcyI+Q1NTPC9zcGFuPjwvc3Bh
bj4gY2xhc3MgYXR0cmlidXRlIGFwcGxpZWQgdG8gdGhlIHR3ZWV0IGJ1dHRvbjwvdGQ+CgkJ
CTx0ZD50d2l0dGVyLXNoYXJlLWJ1dHRvbjwvdGQ+CgkJPC90cj4KCTwvdGFibGU+CgoJPGgy
IGNsYXNzPSJzZWN0aW9uIiBpZD0iYXJjX3R3aXR0ZXJfZm9sbG93X2J1dHRvbl90YWciPlRo
ZSBhcmNfdHdpdHRlcl9mb2xsb3dfYnV0dG9uIHRhZzwvaDI+CgoJPHA+T3V0cHV0cyB0aGUg
VHdpdHRlciBmb2xsb3cgYnV0dG9uIChhbiBhbHRlcm5hdGl2ZSB2ZXJzaW9uIGlzIGluY2x1
ZGVkIGluIGFyY190d2l0dGVyX2ludGVudHMpLjwvcD4KCgk8aDM+U3ludGF4PC9oMz4KCgk8
cD4mbHQ7dHhwOmFyY190d2l0dGVyX2ZvbGxvd19idXR0b24gLyZndDs8L3A+CgoJPGgzPlVz
YWdlPC9oMz4KCgk8dGFibGU+CgkJPHRyPgoJCQk8dGg+QXR0cmlidXRlPC90aD4KCQkJPHRo
PkRlc2NyaXB0aW9uPC90aD4KCQkJPHRoPkRlZmF1bHQ8L3RoPgoJCQk8dGg+RXhhbXBsZTwv
dGg+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD51c2VyPC90ZD4KCQkJPHRkPlR3aXR0ZXIgdXNl
ciBuYW1lIHRvIGZvbGxvdzwvdGQ+CgkJCTx0ZD4gPGVtPmFyY190d2l0dGVyIHVzZXJuYW1l
PC9lbT48L3RkPgoJCQk8dGQ+dXNlcj0mcXVvdDtkcm1vbmtleW5pbmphJnF1b3Q7PC90ZD4K
CQk8L3RyPgoJCTx0cj4KCQkJPHRkPmxhbmc8L3RkPgoJCQk8dGQ+TGFuZ3VhZ2U8L3RkPgoJ
CQk8dGQ+ZW48L3RkPgoJCQk8dGQ+bGFuZz0mcXVvdDtlcyZxdW90OzwvdGQ+CgkJPC90cj4K
CQk8dHI+CgkJCTx0ZD5jb3VudDwvdGQ+CgkJCTx0ZD5XaGV0aGVyIG9yIG5vdCB0aGUgZm9s
bG93ZXIgY291bnQgaXMgc2hvd248L3RkPgoJCQk8dGQ+MTwvdGQ+CgkJCTx0ZD5jb3VudD0m
cXVvdDswJnF1b3Q7PC90ZD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRkPmluY2x1ZGVfanM8L3Rk
PgoJCQk8dGQ+V2hldGhlciBvciBub3QgdG8gaW5jbHVkZSB0aGUgd2lkZ2V0IEphdmFTY3Jp
cHQ8L3RkPgoJCQk8dGQ+MTwvdGQ+CgkJCTx0ZD5pbmNsdWRlX2pzPSZxdW90OzAmcXVvdDs8
L3RkPgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+b3B0aW1pc2VfanM8L3RkPgoJCQk8dGQ+T3B0
aW1pc2UgdGhlIEphdmFTY3JpcHQgYnkgdXNpbmcgYSBsb2NhbCBzY3JpcHQgcmF0aGVyIHRo
YW4gdGhhdCBob3N0ZWQgb24gdGhlIFR3aXR0ZXIgc2l0ZTwvdGQ+CgkJCTx0ZD4wPC90ZD4K
CQkJPHRkPm9wdGltaXNlX2pzPSZxdW90OzEmcXVvdDs8L3RkPgoJCTwvdHI+CgkJPHRyPgoJ
CQk8dGQ+Y2xhc3M8L3RkPgoJCQk8dGQ+PHNwYW4gY2xhc3M9ImNhcHMiPjxzcGFuIGNsYXNz
PSJjYXBzIj5DU1M8L3NwYW4+PC9zcGFuPiBjbGFzcyBhdHRyaWJ1dGUgYXBwbGllZCB0byB0
aGUgZm9sbG93IGJ1dHRvbjwvdGQ+CgkJCTx0ZD50d2l0dGVyLWZvbGxvdy1idXR0b248L3Rk
PgoJCTwvdHI+Cgk8L3RhYmxlPgoKCTxoMiBjbGFzcz0ic2VjdGlvbiIgaWQ9ImFyY190d2l0
dGVyX3R3ZWV0X3VybCI+YXJjX3R3aXR0ZXJfdHdlZXRfdXJsPC9oMj4KCgk8cD5SZXR1cm5z
IHRoZSA8c3BhbiBjbGFzcz0iY2FwcyI+VVJMPC9zcGFuPiBvZiB0aGUgVHdpdHRlciBzdGF0
dXMgZm9yIGFuIGFydGljbGUuPC9wPgoKCTxoMz5TeW50YXg8L2gzPgoKCTxwPiZsdDt0eHA6
YXJjX3R3aXR0ZXJfdHdlZXRfdXJsIC8mZ3Q7PC9wPgoKCTxwPiZsdDt0eHA6YXJjX3R3aXR0
ZXJfdHdlZXRfdXJsJmd0O0xpbmsgdGV4dCZsdDsvdHhwOmFyY190d2l0dGVyX3R3ZWV0X3Vy
bCZndDs8L3A+CgoJPGgzPlVzYWdlPC9oMz4KCgk8dGFibGU+CgkJPHRyPgoJCQk8dGg+QXR0
cmlidXRlPC90aD4KCQkJPHRoPkRlc2NyaXB0aW9uPC90aD4KCQkJPHRoPkRlZmF1bHQ8L3Ro
PgoJCQk8dGg+RXhhbXBsZTwvdGg+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5pZDwvdGQ+CgkJ
CTx0ZD5UZXh0cGF0dGVybiBhcnRpY2xlIElEPC90ZD4KCQkJPHRkPiA8ZW0+Y3VycmVudCBh
cnRpY2xlPC9lbT48L3RkPgoJCQk8dGQ+aWQ9JnF1b3Q7MSZxdW90OzwvdGQ+CgkJPC90cj4K
CQk8dHI+CgkJCTx0ZD50aXRsZTwvdGQ+CgkJCTx0ZD5UaXRsZSBhdHRyaWJ1dGUgb2YgdGhl
IGxpbms8L3RkPgoJCQk8dGQ+IDxlbT51bnNldDwvZW0+PC90ZD4KCQk8L3RyPgoJCTx0cj4K
CQkJPHRkPmNsYXNzPC90ZD4KCQkJPHRkPjxzcGFuIGNsYXNzPSJjYXBzIj48c3BhbiBjbGFz
cz0iY2FwcyI+Q1NTPC9zcGFuPjwvc3Bhbj4gY2xhc3MgYXR0cmlidXRlIGFwcGxpZWQgdG8g
dGhlIGxpbms8L3RkPgoJCQk8dGQ+IDxlbT51bnNldDwvZW0+PC90ZD4KCQk8L3RyPgoJPC90
YWJsZT4KCgk8aDIgY2xhc3M9InNlY3Rpb24iIGlkPSJhcmNfdHdpdHRlcl90aW55dXJsIj5h
cmNfdHdpdHRlcl90aW55dXJsPC9oMj4KCgk8cD5SZXR1cm5zIHRoZSBzaG9ydGVuZWQgPHNw
YW4gY2xhc3M9ImNhcHMiPlVSTDwvc3Bhbj4gb2YgdGhlIGFydGljbGUgdXNlZCBmb3IgdGhl
IFR3aXR0ZXIgdXBkYXRlLjwvcD4KCgk8aDM+U3ludGF4PC9oMz4KCgk8cD4mbHQ7dHhwOmFy
Y190d2l0dGVyX3Rpbnl1cmwgLyZndDs8L3A+CgoJPHA+Jmx0O3R4cDphcmNfdHdpdHRlcl90
aW55dXJsJmd0O0xpbmsgdGV4dCZsdDsvdHhwOmFyY190d2l0dGVyX3Rpbnl1cmwmZ3Q7PC9w
PgoKCTxoMz5Vc2FnZTwvaDM+CgoJPHRhYmxlPgoJCTx0cj4KCQkJPHRoPkF0dHJpYnV0ZTwv
dGg+CgkJCTx0aD5EZXNjcmlwdGlvbjwvdGg+CgkJCTx0aD5EZWZhdWx0PC90aD4KCQkJPHRo
PkV4YW1wbGU8L3RoPgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+aWQ8L3RkPgoJCQk8dGQ+VGV4
dHBhdHRlcm4gYXJ0aWNsZSBJRDwvdGQ+CgkJCTx0ZD4gPGVtPmN1cnJlbnQgYXJ0aWNsZTwv
ZW0+PC90ZD4KCQkJPHRkPmlkPSZxdW90OzEmcXVvdDs8L3RkPgoJCTwvdHI+CgkJPHRyPgoJ
CQk8dGQ+dGl0bGU8L3RkPgoJCQk8dGQ+VGl0bGUgYXR0cmlidXRlIG9mIHRoZSBsaW5rPC90
ZD4KCQkJPHRkPiA8ZW0+dW5zZXQ8L2VtPjwvdGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5j
bGFzczwvdGQ+CgkJCTx0ZD48c3BhbiBjbGFzcz0iY2FwcyI+PHNwYW4gY2xhc3M9ImNhcHMi
PkNTUzwvc3Bhbj48L3NwYW4+IGNsYXNzIGF0dHJpYnV0ZSBhcHBsaWVkIHRvIHRoZSBsaW5r
PC90ZD4KCQkJPHRkPiA8ZW0+dW5zZXQ8L2VtPjwvdGQ+CgkJPC90cj4KCTwvdGFibGU+CgoJ
PGgyIGNsYXNzPSJzZWN0aW9uIiBpZD0iYXJjX3R3aXR0ZXJfY2FjaGluZyI+Q2FjaGluZzwv
aDI+CgoJPHA+SW4gb3JkZXIgdG8gcHJldmVudCBleGNlc3NpdmUgcmVwZWF0aXRpdmUgY2Fs
bHMgdG8gdGhlIFR3aXR0ZXIgd2Vic2l0ZSBpdCBpcyByZWNvbW1lbmRlZCB0byBjYWNoZSBy
ZXN1bHRzLiBUd2l0dGVyIGxpbWl0cyB0aGUgbnVtYmVyIG9mIGNhbGxzIHRocm91Z2ggdGhl
IDxzcGFuIGNsYXNzPSJjYXBzIj5BUEk8L3NwYW4+LCBhbmQgY29udGludW91cyBjYWxscyB3
aWxsIHJlc3VsdCBpbiBUd2l0dGVyIGNsb3NpbmcgdG8gZnVydGhlciByZXF1ZXN0cy4gQnkg
ZGVmYXVsdCwgYXJjX3R3aXR0ZXIgY2FjaGVzIGZvciAzMCBtaW51dGUgaW50ZXJ2YWxzLjwv
cD4KCgk8dGFibGU+CgkJPHRyPgoJCQk8dGg+QXR0cmlidXRlPC90aD4KCQkJPHRoPkRlc2Ny
aXB0aW9uPC90aD4KCQkJPHRoPkRlZmF1bHQ8L3RoPgoJCQk8dGg+RXhhbXBsZTwvdGg+CgkJ
PC90cj4KCQk8dHI+CgkJCTx0ZD5jYWNoaW5nPC90ZD4KCQkJPHRkPiYjODIxNjsxJiM4MjE3
OyB0byBjYWNoZSBmZWVkLCAmIzgyMTY7MCYjODIxNzsgdG8gdHVybiBjYWNoaW5nIG9mZiAo
bm90IHJlY29tbWVuZGVkKTwvdGQ+CgkJCTx0ZD4xPC90ZD4KCQkJPHRkPmNhY2hpbmc9JnF1
b3Q7MSZxdW90OzwvdGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5jYWNoZV9kaXI8L3RkPgoJ
CQk8dGQ+QWJzb2x1dGUgcGF0aCB0byB0aGUgY2FjaGUgZGlyZWN0b3J5IChtdXN0IGJlIHdy
aXRhYmxlKTwvdGQ+CgkJCTx0ZD4gPGVtPmFyY190d2l0dGVyIHByZWZlcmVuY2VzPC9lbT48
L3RkPgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+Y2FjaGVfdGltZTwvdGQ+CgkJCTx0ZD5UaW1l
IGluIG1pbnV0ZXMgdGhhdCB0aGUgY2FjaGUgZmlsZXMgYXJlIHN0b3JlZCBiZWZvcmUgYmVp
bmcgcmVmcmVzaGVkPC90ZD4KCQkJPHRkPjU8L3RkPgoJCQk8dGQ+Y2FjaGVfdGltZT0mcXVv
dDszMCZxdW90OzwvdGQ+CgkJPC90cj4KCTwvdGFibGU+CgoJPHA+VGhlIGFkbWluIHNpZGUg
b2YgdGhpcyBwbHVnaW4gZW5mb3JjZXMgY2FjaGluZywgYXBhcnQgZnJvbSB3aGVuIGl0IGlz
IHBvc3RpbmcgdG8gVHdpdHRlciAoPGk+ZS5nLjwvaT4gd2hlbiBwb3N0aW5nIG9yIGRlbGV0
aW5nIGFuIHVwZGF0ZSkuPC9wPgoKCTxoMiBjbGFzcz0ic2VjdGlvbiIgaWQ9ImFyY190d2l0
dGVyX3ByZWZzIj5QcmVmZXJlbmNlczwvaDI+CgoJPHA+WW91IGNhbiBhY2Nlc3MgdGhlIHBs
dWdpbnMgY29yZSBwcmVmZXJlbmNlcyBmcm9tIGVpdGhlciB0aGUgUHJlZmVyZW5jZXMgb3Ig
UGx1Z2lucyB0YWJzIGluIGFkbWluLiBTZXR1cCB5b3VyIFR3aXR0ZXIgYWNjb3VudCAoeW91
IHdpbGwgYmUgYXNrZWQgdG8gY29ubmVjdCB2aWEgVHdpdHRlciBhbmQgdGhpcyBuZWVkcyBk
b2luZyBiZWZvcmUgeW91IGNhbiB1c2UgdGhlIHBsdWdpbikgYW5kIGNoYW5nZSB0aGUgY2Fj
aGUgZGlyZWN0b3J5IHVzaW5nIGFyY190d2l0dGVyJiM4MjE3O3MgcHJlZmVyZW5jZXMuIFdp
dGhvdXQgcHJvdmlkaW5nIHlvdXIgYWNjb3VudCBsb2dpbiBkZXRhaWxzIHRoZSBhZG1pbiBh
cmVhIGZlYXR1cmVzIG9mIHRoaXMgcGx1Z2luIHdpbGwgYmUgaW5hY3RpdmUuPC9wPgoKCTxw
PllvdSBjYW4gc2VsZWN0IHRoZSA8c3BhbiBjbGFzcz0iY2FwcyI+VVJMPC9zcGFuPiBzaG9y
dGVuZXIgbWV0aG9kIHlvdSB3YW50IHRvIHVzZSB0byBsaW5rIGJhY2sgdG8geW91ciBhcnRp
Y2xlIG9uIFR3aXR0ZXIuIFBsZWFzZSBub3RlIHRoYXQgaWYgeW91IHNlbGVjdCBzbWRfc2hv
cnRfdXJsIHlvdSB3aWxsIG5lZWQgdG8gaGF2ZSBpbnN0YWxsZWQgYW5kIGFjdGl2YXRlZCB0
aGUgPGEgaHJlZj0iaHR0cDovL3RleHRwYXR0ZXJuLm9yZy9wbHVnaW5zLzEwOTkvc21kX3No
b3J0X3VybCI+PHNwYW4gY2xhc3M9InRhZyI+c21kX3Nob3J0X3VybDwvc3Bhbj4gcGx1Z2lu
PC9hPiBkZXZlbG9wZWQgYnkgU3RlZiBEYXdzb24uPC9wPgoKCTxoMiBjbGFzcz0ic2VjdGlv
biIgaWQ9ImFyY190d2l0dGVyX2FydGljbGUiPlR3ZWV0aW5nIGFydGljbGVzPC9oMj4KCgk8
cD5CeSBkZWZhdWx0IGFyY190d2l0dGVyIHdpbGwgcG9zdCBhbiB1cGRhdGUgdG8gVHdpdHRl
ciBpbmNsdWRpbmcgYSBzaG9ydGVuZWQgPHNwYW4gY2xhc3M9ImNhcHMiPlVSTDwvc3Bhbj4g
dG8geW91ciBhcnRpY2xlLiBPbmx5IGxpdmUgYW5kIGFjdGl2ZSBhcnRpY2xlcyB3aWxsIGJl
IHNlbnQgdG8gVHdpdHRlciwgPGk+aS5lLjwvaT4gYXJ0aWNsZXMgcG9zdGVkIGluIHRoZSBm
dXR1cmUgb3IgYXMgc3RpY2t5IGFydGljbGVzIHdpbGwgbm90IGJlIHNlbnQuIElmIHlvdXIg
YXJ0aWNsZSBpcyBzdWNjZXNzZnVsbHkgc3VibWl0dGVkIHRvIFR3aXR0ZXIgdGhlIHVwZGF0
ZSB3aWxsIGFwcGVhciBpbiBwbGFjZSBvZiB0aGUgVHdpdHRlciBvcHRpb24gb24gdGhlIHJp
Z2h0LWhhbmQtc2lkZSBvZiB0aGUgYXJ0aWNsZSBlZGl0IHNjcmVlbi48L3A+CgoJPHA+VHdl
ZXRzIGFyZSBzZW50IGluIHRoZSBmb2xsb3dpbmcgZm9ybWF0OiA8ZW0+VHdlZXQgcHJlZml4
PC9lbT4gPGVtPkFydGljbGUgdGl0bGU8L2VtPiA8ZW0+U2hvcnRlbmVkIDxzcGFuIGNsYXNz
PSJjYXBzIj5VUkw8L3NwYW4+PC9lbT4gPGVtPlR3ZWV0IHN1ZmZpeDwvZW0+LiBZb3UgY2Fu
IGNoYW5nZSB0aGUgcHJlZml4IGFuZCBzdWZmaXggb24gYW4gYXJ0aWNsZS1ieS1hcnRpY2xl
IGJhc2lzIGJ5IGNoYW5naW5nIHRoZSB0d2VldCBvcHRpb25zIHVuZGVyICYjODIxNjtVcGRh
dGUgVHdpdHRlciYjODIxNzsgb24gdGhlIGFydGljbGUgZWRpdG9yIHNjcmVlbi4gVGhlIGRl
ZmF1bHQgPGVtPlR3ZWV0IHByZWZpeDwvZW0+IGNhbiBiZSBzZXQgdW5kZXIgdGhlIDxzcGFu
IGNsYXNzPSJ0YWciPmFyY190d2l0dGVyPC9zcGFuPiBwcmVmZXJlbmNlcyBzY3JlZW4gKHRo
ZSBkZWZhdWx0IG9uIGluc3RhbGxhdGlvbiBpcyAmIzgyMjA7SnVzdCBwb3N0ZWQ6JiM4MjIx
OykuPC9wPgoKCTxwPlBsZWFzZSBub3RlIHRoYXQgb25jZSBhbiBhcnRpY2xlIGhhcyBiZWVu
IHR3ZWV0ZWQgdGhlIHR3ZWV0IGNhbm5vdCBiZSBlZGl0ZWQuPC9wPgoKCTxoMiBjbGFzcz0i
c2VjdGlvbiIgaWQ9ImFyY190d2l0dGVyX2FkbWluIj5UaGUgVHdpdHRlciB0YWI8L2gyPgoK
CTxwPlVuZGVyIHRoZSBFeHRlbnNpb25zIHRhYiAodGhpcyBjYW4gYmUgY2hhbmdlZCBmcm9t
IHRoZSBwbHVnaW4mIzgyMTc7cyBwcmVmZXJlbmNlIHBhZ2UpIGEgbmV3IFR3aXR0ZXIgdGFi
IHNob3VsZCBhcHBlYXIgb25jZSB5b3UgaGF2ZSBjb25uZWN0ZWQgeW91ciBzaXRlIHRvIHlv
dXIgVHdpdHRlciBhY2NvdW50LiBGcm9tIGhlcmUgeW91IHdpbGwgYmUgYWJsZSB0byBzdWJt
aXQgbmV3IFR3aXR0ZXIgdXBkYXRlcywgdmlldyBiYXNpYyBhY2NvdW50IHN0YXRpc3RpY3Ms
IGFuZCBjaGVjayBvdXQgeW91ciByZWNlbnQgdXBkYXRlcyAoaW5jbHVkaW5nIHRoZSBvcHRp
b24gdG8gZGVsZXRlIHlvdXIgdHdlZXRzKS48L3A+IjtzOjQ6ImNvZGUiO3M6NzQ5NTY6Imds
b2JhbCAkcHJlZnMsJHR4cGNmZywkYXJjX3R3aXR0ZXJfY29uc3VtZXJLZXksJGFyY190d2l0
dGVyX2NvbnN1bWVyU2VjcmV0OwoKJGFyY190d2l0dGVyID0gYXJyYXkoKTsKCiRhcmNfdHdp
dHRlcl9jb25zdW1lcktleSA9ICduS2NYc2x3elpoQmQwa2ZLTWV0blBBJzsKJGFyY190d2l0
dGVyX2NvbnN1bWVyU2VjcmV0ID0gJ0M2blNQQ0wzZWVIR1RCaEtDZ3dkOW9jbGN1RDBzckI4
V1ZrZlhRWUM1NCc7CgphZGRfcHJpdnMoJ3BsdWdpbl9wcmVmcy5hcmNfdHdpdHRlcicsJzEs
MicpOwpyZWdpc3Rlcl9jYWxsYmFjaygnYXJjX3R3aXR0ZXJfaW5zdGFsbCcsJ3BsdWdpbl9s
aWZlY3ljbGUuYXJjX3R3aXR0ZXInLCAnaW5zdGFsbGVkJyk7CnJlZ2lzdGVyX2NhbGxiYWNr
KCdhcmNfdHdpdHRlcl91bmluc3RhbGwnLCdwbHVnaW5fbGlmZWN5Y2xlLmFyY190d2l0dGVy
JywgJ2RlbGV0ZWQnKTsKcmVnaXN0ZXJfY2FsbGJhY2soJ2FyY190d2l0dGVyX3ByZWZzJywn
cGx1Z2luX3ByZWZzLmFyY190d2l0dGVyJyk7CgovKgogKiBTZXR1cCBpbml0aWFsIHByZWZl
cmVuY2VzIGlmIG5vdCBpbiB0aGUgdHhwX3ByZWZzIHRhYmxlLgogKi8KaWYgKCFpc3NldCgk
cHJlZnNbJ2FyY190d2l0dGVyX3VzZXInXSkpCiAgICBzZXRfcHJlZignYXJjX3R3aXR0ZXJf
dXNlcicsICcnLCAnYXJjX3R3aXR0ZXInLCAxLCAndGV4dF9pbnB1dCcpOwppZiAoIWlzc2V0
KCRwcmVmc1snYXJjX3R3aXR0ZXJfcHJlZml4J10pKQogIHNldF9wcmVmKCdhcmNfdHdpdHRl
cl9wcmVmaXgnLCdKdXN0IHBvc3RlZDonLCAnYXJjX3R3aXR0ZXInLCAyLCAndGV4dF9pbnB1
dCcpOwppZiAoIWlzc2V0KCRwcmVmc1snYXJjX3R3aXR0ZXJfY2FjaGVfZGlyJ10pKQogIHNl
dF9wcmVmKCdhcmNfdHdpdHRlcl9jYWNoZV9kaXInLCR0eHBjZmdbJ3R4cGF0aCddLiRwcmVm
c1sndGVtcGRpciddLCAnYXJjX3R3aXR0ZXInLCAxLCAndGV4dF9pbnB1dCcpOwppZiAoIWlz
c2V0KCRwcmVmc1snYXJjX3R3aXR0ZXJfdHdlZXRfZGVmYXVsdCddKSkKICBzZXRfcHJlZign
YXJjX3R3aXR0ZXJfdHdlZXRfZGVmYXVsdCcsIDEsICdhcmNfdHdpdHRlcicsIDIsICd5ZXNu
b1JhZGlvJyk7CmlmICghaXNzZXQoJHByZWZzWydhcmNfdHdpdHRlcl91cmxfbWV0aG9kJ10p
KQogIHNldF9wcmVmKCdhcmNfdHdpdHRlcl91cmxfbWV0aG9kJywgJ3Rpbnl1cmwnLCAnYXJj
X3R3aXR0ZXInLCAyLAogICAgJ2FyY190d2l0dGVyX3VybF9tZXRob2Rfc2VsZWN0Jyk7Cmlm
ICghaXNzZXQoJHByZWZzWydhcmNfc2hvcnRfdXJsJ10pKQogIHNldF9wcmVmKCdhcmNfc2hv
cnRfdXJsJywgMCwgJ2FyY190d2l0dGVyJywgMiwgJ3llc25vUmFkaW8nKTsKaWYgKCFpc3Nl
dCgkcHJlZnNbJ2FyY19zaG9ydF9zaXRlX3VybCddKSkKICBzZXRfcHJlZignYXJjX3Nob3J0
X3NpdGVfdXJsJywgJHByZWZzWydzaXRldXJsJ10sICdhcmNfdHdpdHRlcicsIDIsICd0ZXh0
X2lucHV0Jyk7Ci8vIE1ha2Ugc3VyZSB0aGF0IHRoZSBUd2l0dGVyIHRhYiBoYXMgYmVlbiBk
ZWZpbmVkCmlmICghaXNzZXQoJHByZWZzWydhcmNfdHdpdHRlcl90YWInXSkpIHsKICBzZXRf
cHJlZignYXJjX3R3aXR0ZXJfdGFiJywgJ2V4dGVuc2lvbnMnLCAnYXJjX3R3aXR0ZXInLCAy
LAogICAgJ2FyY190d2l0dGVyX3RhYl9zZWxlY3QnKTsKICAgICRwcmVmc1snYXJjX3R3aXR0
ZXJfdGFiJ10gPSAnZXh0ZW5zaW9ucyc7Cn0KCi8vIENoZWNrIGlmIGFyY19zaG9ydF91cmwg
aXMgZW5hYmxlZAppZiAoKGlzc2V0KCRwcmVmc1snYXJjX3Nob3J0X3VybCddKSYmJHByZWZz
WydhcmNfc2hvcnRfdXJsJ10pCnx8IChpc3NldCgkcHJlZnNbJ2FyY19zaG9ydF91cmxfbWV0
aG9kJ10pJiYkcHJlZnNbJ2FyY190d2l0dGVyX3VybF9tZXRob2QnXT09J2FyY190d2l0dGVy
JykpIHsKICByZWdpc3Rlcl9jYWxsYmFjaygnYXJjX3Nob3J0X3VybF9yZWRpcmVjdCcsICd0
eHBfZGllJywgNDA0KTsKfQoKaWYgKEB0eHBpbnRlcmZhY2UgPT0gJ2FkbWluJykgewogICAg
aWYgKCFlbXB0eSgkcHJlZnNbJ2FyY190d2l0dGVyX3VzZXInXSkKICAgICAgICAmJiAhZW1w
dHkoJHByZWZzWydhcmNfdHdpdHRlcl9hY2Nlc3NUb2tlbiddKQogICAgICAgICYmICFlbXB0
eSgkcHJlZnNbJ2FyY190d2l0dGVyX2FjY2Vzc1Rva2VuU2VjcmV0J10pICkgewoKICAgICAg
ICBpZiAoJHByZWZzWydhcmNfdHdpdHRlcl90YWInXSkgewogICAgICAgICAgICBhZGRfcHJp
dnMoJ2FyY19hZG1pbl90d2l0dGVyJywgJzEsMiwzLDQnKTsKICAgICAgICAgICAgcmVnaXN0
ZXJfdGFiKCRwcmVmc1snYXJjX3R3aXR0ZXJfdGFiJ10sICdhcmNfYWRtaW5fdHdpdHRlcics
ICdUd2l0dGVyJyk7CiAgICAgICAgICAgIHJlZ2lzdGVyX2NhbGxiYWNrKCdhcmNfYWRtaW5f
dHdpdHRlcicsICdhcmNfYWRtaW5fdHdpdHRlcicpOwogICAgICAgIH0KCiAgICAgICAgcmVn
aXN0ZXJfY2FsbGJhY2soJ2FyY19hcnRpY2xlX3R3ZWV0JywgJ3BpbmcnKTsKICAgICAgICBy
ZWdpc3Rlcl9jYWxsYmFjaygnYXJjX2FydGljbGVfdHdlZXQnLCAnYXJ0aWNsZScsICdlZGl0
JywgMSk7CiAgICAgICAgcmVnaXN0ZXJfY2FsbGJhY2soJ2FyY19hcHBlbmRfdHdpdHRlcics
ICdhcnRpY2xlX3VpJywgJ3N0YXR1cycpOwogICAgfQp9CgovKgogICAgUHVibGljLXNpZGUg
ZnVuY3Rpb25zCiAgICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09CiovCgpmdW5jdGlvbiBhcmNfdHdpdHRlcigkYXR0
cykKewogIGdsb2JhbCAkcHJlZnMsJGFyY190d2l0dGVyX2NvbnN1bWVyS2V5LCAkYXJjX3R3
aXR0ZXJfY29uc3VtZXJTZWNyZXQ7CgogIGV4dHJhY3QobEF0dHMoYXJyYXkoCiAgICAndXNl
cicgICAgICA9PiAkcHJlZnNbJ2FyY190d2l0dGVyX3VzZXInXSwKICAgICdwYXNzd29yZCcg
ID0+ICcnLAogICAgJ3RpbWVsaW5lJyAgPT4gJ3VzZXInLAogICAgJ2xpbWl0JyAgICAgPT4g
JzEwJywKICAgICdyZXR3ZWV0cycgID0+IGZhbHNlLAogICAgJ2RhdGVmb3JtYXQnPT4gJHBy
ZWZzWydhcmNoaXZlX2RhdGVmb3JtYXQnXSwKICAgICdjYWNoaW5nJyAgID0+ICcxJywKICAg
ICdjYWNoZV9kaXInID0+ICRwcmVmc1snYXJjX3R3aXR0ZXJfY2FjaGVfZGlyJ10sCiAgICAn
Y2FjaGVfdGltZSc9PiAnNScsCiAgICAnbGFiZWwnICAgICA9PiAnJywKICAgICdsYWJlbHRh
ZycgID0+ICcnLAogICAgJ2JyZWFrJyAgICAgPT4gJ2xpJywKICAgICd3cmFwdGFnJyAgID0+
ICcnLAogICAgJ2NsYXNzJyAgICAgPT4gX19GVU5DVElPTl9fLAogICAgJ2NsYXNzX3Bvc3Rl
ZCcgPT4gX19GVU5DVElPTl9fLictcG9zdGVkJwogICAgKSwkYXR0cykpOwoKICAkdHdpdCA9
IG5ldyBhcmNfVHdpdHRlcigkYXJjX3R3aXR0ZXJfY29uc3VtZXJLZXksICRhcmNfdHdpdHRl
cl9jb25zdW1lclNlY3JldCk7CgogIGlmICgkY2FjaGluZykgeyAgLy8gdHVybiBvbiBjYWNo
aW5nLCByZWNvbW1lbmRlZCAoZGVmYXVsdCkKICAgICR0d2l0LT5zZXRDYWNoaW5nKHRydWUp
OwogICAgJHR3aXQtPmNhY2hlRGlyKCRjYWNoZV9kaXIpOwogICAgJHR3aXQtPmNhY2hlVGlt
ZSgkY2FjaGVfdGltZSk7CiAgfSBlbHNlIHsgIC8vIHR1cm4gb2ZmIGNhY2hpbmcsIG5vdCBy
ZWNvbW1lbmRlZCBvdGhlciB0aGFuIGZvciB0ZXN0aW5nCiAgICAkdHdpdC0+c2V0Q2FjaGlu
ZyhmYWxzZSk7CiAgfQoKICBzd2l0Y2ggKCR0aW1lbGluZSkgewogICAgY2FzZSAnaG9tZSc6
IGNhc2UgJ2ZyaWVuZHMnOgogICAgICAkdGltZWxpbmUgPSAnc3RhdHVzZXMvZnJpZW5kc190
aW1lbGluZSc7IGJyZWFrOwogICAgY2FzZSAnbWVudGlvbnMnOgogICAgICAkdGltZWxpbmUg
PSAnc3RhdHVzZXMvbWVudGlvbnMnOyBicmVhazsKICAgIGNhc2UgJ3VzZXInOiBkZWZhdWx0
OiAkdGltZWxpbmUgPSAnc3RhdHVzZXMvdXNlcl90aW1lbGluZSc7CiAgfQoKICAkb3V0ID0g
YXJyYXkoKTsKICAkeG1sID0gJHR3aXQtPmdldCgkdGltZWxpbmUKICAgICwgYXJyYXkoJ3Nj
cmVlbl9uYW1lJz0+JHVzZXIsJ2NvdW50Jz0+JGxpbWl0LCdpbmNsdWRlX3J0cyc9PiRyZXR3
ZWV0cykpOwogIGlmICgkeG1sKSB7CiAgICAkdHdlZXRzID0gQCR4bWwtPnhwYXRoKCcvc3Rh
dHVzZXMvc3RhdHVzJyk7CiAgICBpZiAoJHR3ZWV0cykgZm9yZWFjaCAoJHR3ZWV0cyBhcyAk
dHdlZXQpIHsKICAgICAgJHRpbWUgPSBzdHJ0b3RpbWUoaHRtbGVudGl0aWVzKCR0d2VldC0+
Y3JlYXRlZF9hdCkpOwogICAgICAkZGF0ZSA9IHNhZmVfc3RyZnRpbWUoJGRhdGVmb3JtYXQs
JHRpbWUpOwogICAgICAkb3V0W10gPSBhcmNfVHdpdHRlcjo6bWFrZUxpbmtzKGh0bWxlbnRp
dGllcygkdHdlZXQtPnRleHQsIEVOVF9RVU9URVMsJ1VURi04JykpCiAgICAgICAgLicgJy50
YWcoaHRtbGVudGl0aWVzKCRkYXRlKSwnc3BhbicsJyBjbGFzcz0iJy4kY2xhc3NfcG9zdGVk
LiciJyk7CiAgICB9CgogICAgcmV0dXJuIGRvTGFiZWwoJGxhYmVsLCAkbGFiZWx0YWcpLmRv
V3JhcCgkb3V0LCAkd3JhcHRhZywgJGJyZWFrLCAkY2xhc3MpOwogIH0KCn0KCmZ1bmN0aW9u
IGFyY190d2l0dGVyX3NlYXJjaCgkYXR0cykKewogICAgZ2xvYmFsICRwcmVmcywkYXJjX3R3
aXR0ZXJfY29uc3VtZXJLZXksICRhcmNfdHdpdHRlcl9jb25zdW1lclNlY3JldDsKCiAgICBl
eHRyYWN0KGxBdHRzKGFycmF5KAogICAgICAgICd1c2VyJyAgICAgID0+ICRwcmVmc1snYXJj
X3R3aXR0ZXJfdXNlciddLAogICAgICAgICdzZWFyY2gnICAgID0+ICcnLAogICAgICAgICdo
YXNodGFncycgID0+ICcnLAogICAgICAgICd1c2VyJyAgICAgID0+ICcnLAogICAgICAgICdy
ZXBseScgICAgID0+ICcnLAogICAgICAgICdtZW50aW9uJyAgID0+ICcnLAogICAgICAgICds
aW1pdCcgICAgID0+ICcxMCcsCiAgICAgICAgJ2xhbmcnICAgICAgPT4gJycsCiAgICAgICAg
J2RhdGVmb3JtYXQnPT4gJHByZWZzWydhcmNoaXZlX2RhdGVmb3JtYXQnXSwKICAgICAgICAn
Y2FjaGluZycgICA9PiAnMScsCiAgICAgICAgJ2NhY2hlX2RpcicgPT4gJHByZWZzWydhcmNf
dHdpdHRlcl9jYWNoZV9kaXInXSwKICAgICAgICAnY2FjaGVfdGltZSc9PiAnNScsCiAgICAg
ICAgJ2xhYmVsJyAgICAgPT4gJycsCiAgICAgICAgJ2xhYmVsdGFnJyAgPT4gJycsCiAgICAg
ICAgJ2JyZWFrJyAgICAgPT4gJ2xpJywKICAgICAgICAnd3JhcHRhZycgICA9PiAnJywKICAg
ICAgICAnY2xhc3MnICAgICA9PiBfX0ZVTkNUSU9OX18sCiAgICAgICAgJ2NsYXNzX3Bvc3Rl
ZCcgPT4gX19GVU5DVElPTl9fLictcG9zdGVkJywKICAgICAgICAnY2xhc3NfdXNlcicgICA9
PiBfX0ZVTkNUSU9OX18uJy11c2VyJwogICAgKSwkYXR0cykpOwoKICAgICAgICAkdHdpdCA9
IG5ldyBhcmNfVHdpdHRlcigkYXJjX3R3aXR0ZXJfY29uc3VtZXJLZXkKICAgICAgICAgICAg
LCAkYXJjX3R3aXR0ZXJfY29uc3VtZXJTZWNyZXQpOwoKICAgICAgICBpZiAoJGNhY2hpbmcp
IHsgIC8vIHR1cm4gb24gY2FjaGluZywgcmVjb21tZW5kZWQgKGRlZmF1bHQpCiAgICAgICAg
ICAgICR0d2l0LT5zZXRDYWNoaW5nKHRydWUpOwogICAgICAgICAgICAkdHdpdC0+Y2FjaGVE
aXIoJGNhY2hlX2Rpcik7CiAgICAgICAgICAgICR0d2l0LT5jYWNoZVRpbWUoJGNhY2hlX3Rp
bWUpOwogICAgICAgIH0gZWxzZSB7ICAvLyB0dXJuIG9mZiBjYWNoaW5nLCBub3QgcmVjb21t
ZW5kZWQgb3RoZXIgdGhhbiBmb3IgdGVzdGluZwogICAgICAgICAgICAkdHdpdC0+c2V0Q2Fj
aGluZyhmYWxzZSk7CiAgICAgICAgfQoKICAgICAgICAvLyBjb25zdHJ1Y3Qgc2VhcmNoIHF1
ZXJ5CiAgICAgICAgaWYgKCFlbXB0eSgkc2VhcmNoKSkgewogICAgICAgICAgICAkdGVybXMg
PSBleHBsb2RlKCcsJywkc2VhcmNoKTsgJHRlcm1zID0gYXJyYXlfbWFwKCd0cmltJywkdGVy
bXMpOwogICAgICAgICAgICAkc2VhcmNoID0gaW1wbG9kZSgnICcsJHRlcm1zKTsKICAgICAg
ICB9CiAgICAgICAgaWYgKCRoYXNodGFncykgewogICAgICAgICAgICAkaGFzaGVzID0gZXhw
bG9kZSgnLCcsJGhhc2h0YWdzKTsgJGhhc2hlcyA9IGFycmF5X21hcCgndHJpbScsJGhhc2hl
cyk7CiAgICAgICAgICAgICRzZWFyY2guPSAoKCRzZWFyY2gpPycgJzonJykuJyMnLmltcGxv
ZGUoJyAjJywkaGFzaGVzKTsKICAgICAgICB9CiAgICAgICAgaWYgKCRyZXBseSkgewogICAg
ICAgICAgICAkc2VhcmNoLj0gKCgkc2VhcmNoKT8nICc6JycpLid0bzonLnRyaW0oJHJlcGx5
KTsKICAgICAgICB9CiAgICAgICAgaWYgKCR1c2VyKSB7CiAgICAgICAgICAgICRzZWFyY2gu
PSAoKCRzZWFyY2gpPycgJzonJykuJ2Zyb206Jy50cmltKCR1c2VyKTsKICAgICAgICB9CiAg
ICAgICAgaWYgKCRtZW50aW9uKSB7CiAgICAgICAgICAgICRzZWFyY2guPSAoKCRzZWFyY2gp
PycgJzonJykuJ0AnLnRyaW0oJG1lbnRpb24pOwogICAgICAgIH0KCiAgICAgICAgaWYgKGVt
cHR5KCRzZWFyY2gpKSB7CiAgICAgICAgICAgIHJldHVybiAnJzsKICAgICAgICB9IGVsc2Ug
ewogICAgICAgICAgICAkc2VhcmNoID0gdXJsZW5jb2RlKCRzZWFyY2gpOwogICAgICAgIH0K
CiAgICAgICAgJG91dCA9IGFycmF5KCk7CiAgICAgICAgJHR3ZWV0cyA9ICR0d2l0LT5nZXQo
J2h0dHA6Ly9zZWFyY2gudHdpdHRlci5jb20vc2VhcmNoLmF0b20/cT0nLiRzZWFyY2gKICAg
ICAgICAgICAgLCBhcnJheSgncnBwJz0+JGxpbWl0LCdsYW5nJz0+JGxhbmcpKTsKCiAgICAg
ICAgaWYgKCR0d2VldHMpIHsgZm9yZWFjaCAoJHR3ZWV0cy0+ZW50cnkgYXMgJHR3ZWV0KSB7
CiAgICAgICAgICAgIHByZWdfbWF0Y2goIi8oLiopIFwoKC4qKVwpLyIsJHR3ZWV0LT5hdXRo
b3ItPm5hbWUsJG1hdGNoZXMpOwogICAgICAgICAgICBsaXN0KCRhdXRob3IsJHVuYW1lLCRu
YW1lKSA9ICRtYXRjaGVzOwogICAgICAgICAgICAkdGltZSA9IHN0cnRvdGltZShodG1sZW50
aXRpZXMoJHR3ZWV0LT5wdWJsaXNoZWQpKTsKICAgICAgICAgICAgJGRhdGUgPSBzYWZlX3N0
cmZ0aW1lKCRkYXRlZm9ybWF0LCR0aW1lKTsKICAgICAgICAgICAgJHRleHQgPSAkdHdlZXQt
PnRpdGxlOwogICAgICAgICAgICAkb3V0W10gPSB0YWcoaHJlZihodG1sZW50aXRpZXMoJHVu
YW1lKSwkdHdlZXQtPmF1dGhvci0+dXJpLAogICAgICAgICAgICAgICAgJyB0aXRsZT0iJy5o
dG1sZW50aXRpZXMoJG5hbWUpLiciJykuJzogJywnc3BhbicKICAgICAgICAgICAgICAgICAg
ICAsJyBjbGFzcz0iJy4kY2xhc3NfdXNlci4nIicpCiAgICAgICAgICAgICAgICAuYXJjX1R3
aXR0ZXI6Om1ha2VMaW5rcyhodG1sZW50aXRpZXMoJHRleHQsIEVOVF9RVU9URVMsJ1VURi04
JykpCiAgICAgICAgICAgICAgICAuJyAnLnRhZyhodG1sZW50aXRpZXMoJGRhdGUpLCdzcGFu
JwogICAgICAgICAgICAgICAgICAgICwnIGNsYXNzPSInLiRjbGFzc19wb3N0ZWQuJyInKTsK
ICAgICAgICB9IHJldHVybiBkb0xhYmVsKCRsYWJlbCwgJGxhYmVsdGFnKQogICAgICAgICAg
ICAuZG9XcmFwKCRvdXQsICR3cmFwdGFnLCAkYnJlYWssICRjbGFzcyk7IH0KCn0KCmZ1bmN0
aW9uIGFyY190d2l0dGVyX3R3ZWV0KCRhdHRzKSB7CiAgICBnbG9iYWwgJHRoaXNhcnRpY2xl
OwoKICAgIGV4dHJhY3QobEF0dHMoYXJyYXkoCiAgICAgICdpZCcgICAgICAgID0+ICR0aGlz
YXJ0aWNsZVsndGhpc2lkJ10sCiAgICAgICdpbmNsdWRlX3VybCcgICA9PiB0cnVlCiAgICAp
LCRhdHRzKSk7CgogICAgaWYgKCRpZCkgewogICAgICAvLyBGZXRjaCBhcmNfdHdpdHRlciBz
dHVmZiB0byBidWlsZCB0d2VldCBmcm9tCiAgICAgICR0d2VldCA9ICgkaW5jbHVkZV91cmwp
ID8gc2FmZV9yb3coInR3ZWV0IiwgJ2FyY190d2l0dGVyJywgImFydGljbGVfaWQ9eyRpZH0i
KQogICAgICAgIDogc2FmZV9yb3coIlJFUExBQ0UodHdlZXQsQ09OQ0FUKCcgJyx0aW55dXJs
KSwnJykgQVMgdHdlZXQiCiAgICAgICAgICAsICdhcmNfdHdpdHRlcicsICJhcnRpY2xlX2lk
PXskaWR9Iik7CiAgICB9CgogICAgaWYgKCR0d2VldFsndHdlZXQnXSkgewogICAgICByZXR1
cm4gYXJjX1R3aXR0ZXI6Om1ha2VMaW5rcygKICAgICAgICBodG1sZW50aXRpZXMoJHR3ZWV0
Wyd0d2VldCddLCBFTlRfUVVPVEVTLCdVVEYtOCcpKTsKICAgIH0KfQoKZnVuY3Rpb24gYXJj
X3R3aXR0ZXJfdHdlZXRfdXJsKCRhdHRzLCAkdGhpbmc9bnVsbCkgewogICAgZ2xvYmFsICR0
aGlzYXJ0aWNsZSwkcHJlZnM7CgogICAgZXh0cmFjdChsQXR0cyhhcnJheSgKICAgICAgJ2lk
JyAgICAgID0+ICR0aGlzYXJ0aWNsZVsndGhpc2lkJ10sCiAgICAgICd0aXRsZScgICA9PiAn
JywKICAgICAgJ2NsYXNzJyAgID0+ICcnCiAgICApLCRhdHRzKSk7CgogICAgaWYgKCRpZCkg
ewogICAgICAvLyBGZXRjaCBhcmNfdHdpdHRlciBzdHVmZiB0byBidWlsZCB0d2VldCBmcm9t
CiAgICAgICR0d2VldCA9IHNhZmVfcm93KCJ0d2VldF9pZCIKICAgICAgICAsICdhcmNfdHdp
dHRlcicsICJhcnRpY2xlX2lkPXskaWR9Iik7CiAgICB9CgogICAgaWYgKCR0d2VldFsndHdl
ZXRfaWQnXSkgewogICAgICAkdXJsID0gImh0dHA6Ly90d2l0dGVyLmNvbS8iLiRwcmVmc1sn
YXJjX3R3aXR0ZXJfdXNlciddLiIvc3RhdHVzLyIuJHR3ZWV0Wyd0d2VldF9pZCddOwogICAg
ICBpZiAoJHRoaW5nPT09bnVsbCkgewogICAgICAgIHJldHVybiAkdXJsOwogICAgICB9CiAg
ICAgIHJldHVybiBocmVmKHBhcnNlKCR0aGluZyksICR1cmwsCiAgICAgICAgKCR0aXRsZSA/
ICcgdGl0bGU9IicuJHRpdGxlLiciJyA6ICcnKQogICAgICAgIC4oJGNsYXNzID8gJyBjbGFz
cz0iJy4kY2xhc3MuJyInIDogJycpKTsKICAgIH0KfQoKZnVuY3Rpb24gYXJjX3R3aXR0ZXJf
dGlueXVybCgkYXR0cywgJHRoaW5nPW51bGwpIHsKICAgIGdsb2JhbCAkdGhpc2FydGljbGU7
CgogICAgZXh0cmFjdChsQXR0cyhhcnJheSgKICAgICAgJ2lkJyAgICAgID0+ICR0aGlzYXJ0
aWNsZVsndGhpc2lkJ10sCiAgICAgICd0aXRsZScgICA9PiAnJywKICAgICAgJ2NsYXNzJyAg
ID0+ICcnCiAgICApLCRhdHRzKSk7CgogICAgaWYgKCRpZCkgewogICAgICAvLyBGZXRjaCBh
cmNfdHdpdHRlciBzdHVmZiB0byBidWlsZCB0d2VldCBmcm9tCiAgICAgICR0d2VldCA9IHNh
ZmVfcm93KCJ0aW55dXJsIgogICAgICAgICwgJ2FyY190d2l0dGVyJywgImFydGljbGVfaWQ9
eyRpZH0iKTsKICAgIH0KCiAgICBpZiAoJHR3ZWV0Wyd0aW55dXJsJ10pIHsKICAgICAgaWYg
KCR0aGluZz09PW51bGwpIHsKICAgICAgICByZXR1cm4gJHR3ZWV0Wyd0aW55dXJsJ107CiAg
ICAgIH0KCiAgICAgIHJldHVybiBocmVmKHBhcnNlKCR0aGluZyksICR0d2VldFsndGlueXVy
bCddLAogICAgICAgICgkdGl0bGUgPyAnIHRpdGxlPSInLiR0aXRsZS4nIicgOiAnJykKICAg
ICAgICAuKCRjbGFzcyA/ICcgY2xhc3M9IicuJGNsYXNzLiciJyA6ICcnKSk7CiAgICB9Cn0K
Ci8qCiAqIFB1YmxpYyB0YWcgZm9yIG91dHB1dHRpbmcgd2lkZ2V0IEpTCiAqLwpmdW5jdGlv
biBhcmNfdHdpdHRlcl93aWRnZXRfanMoJGF0dHMpCnsKICBleHRyYWN0KGxBdHRzKGFycmF5
KAogICAgICAgICdvcHRpbWlzZScgPT4gZmFsc2UKICAgICksJGF0dHMpKTsKCiAgcmV0dXJu
IF9hcmNfdHdpdHRlcl93aWRnZXRfanMoJG9wdGltaXNlKTsKfQoKZnVuY3Rpb24gX2FyY190
d2l0dGVyX3dpZGdldF9qcygkb3B0aW1pc2U9dHJ1ZSkKewogIGdsb2JhbCAkYXJjX3R3aXR0
ZXI7CgogIC8vIENoZWNrIGlmIHdpZGdldCBKUyBoYXMgYWxyZWFkeSBiZWVuIG91dHB1dAog
IGlmICgkYXJjX3R3aXR0ZXJbJ3dpZGdldF9qcyddKSByZXR1cm47CgogIGlmICgkb3B0aW1p
c2U9PWZhbHNlKSB7CiAgICByZXR1cm4gJzxzY3JpcHQgc3JjPSJodHRwOi8vcGxhdGZvcm0u
dHdpdHRlci5jb20vd2lkZ2V0cy5qcyIgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij48L3Njcmlw
dD4nOwogIH0KCiAgJGpzID0gPDw8SlMKPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQi
PgooZnVuY3Rpb24oKSB7CiAgaWYgKHdpbmRvdy5fX3R3aXR0ZXJJbnRlbnRIYW5kbGVyKSBy
ZXR1cm47CiAgdmFyIGludGVudFJlZ2V4ID0gL3R3aXR0ZXJcLmNvbShcOlxkezIsNH0pP1wv
aW50ZW50XC8oXHcrKS8sCiAgICAgIHdpbmRvd09wdGlvbnMgPSAnc2Nyb2xsYmFycz15ZXMs
cmVzaXphYmxlPXllcyx0b29sYmFyPW5vLGxvY2F0aW9uPXllcycsCiAgICAgIHdpZHRoID0g
NTUwLAogICAgICBoZWlnaHQgPSA0MjAsCiAgICAgIHdpbkhlaWdodCA9IHNjcmVlbi5oZWln
aHQsCiAgICAgIHdpbldpZHRoID0gc2NyZWVuLndpZHRoOwoKICBmdW5jdGlvbiBoYW5kbGVJ
bnRlbnQoZSkgewogICAgZSA9IGUgfHwgd2luZG93LmV2ZW50OwogICAgdmFyIHRhcmdldCA9
IGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudCwKICAgICAgICBtLCBsZWZ0LCB0b3A7CgogICAg
d2hpbGUgKHRhcmdldCAmJiB0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAhPT0gJ2En
KSB7CiAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlOwogICAgfQoKICAgIGlmICh0
YXJnZXQgJiYgdGFyZ2V0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdhJyAmJiB0YXJn
ZXQuaHJlZikgewogICAgICBtID0gdGFyZ2V0LmhyZWYubWF0Y2goaW50ZW50UmVnZXgpOwog
ICAgICBpZiAobSkgewogICAgICAgIGxlZnQgPSBNYXRoLnJvdW5kKCh3aW5XaWR0aCAvIDIp
IC0gKHdpZHRoIC8gMikpOwogICAgICAgIHRvcCA9IDA7CgogICAgICAgIGlmICh3aW5IZWln
aHQgPiBoZWlnaHQpIHsKICAgICAgICAgIHRvcCA9IE1hdGgucm91bmQoKHdpbkhlaWdodCAv
IDIpIC0gKGhlaWdodCAvIDIpKTsKICAgICAgICB9CgogICAgICAgIHdpbmRvdy5vcGVuKHRh
cmdldC5ocmVmLCAnaW50ZW50Jywgd2luZG93T3B0aW9ucyArICcsd2lkdGg9JyArIHdpZHRo
ICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcsaGVpZ2h0
PScgKyBoZWlnaHQgKyAnLGxlZnQ9JyArIGxlZnQgKyAnLHRvcD0nICsgdG9wKTsKICAgICAg
ICBlLnJldHVyblZhbHVlID0gZmFsc2U7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCAmJiBl
LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIH0KICAgIH0KICB9CgogIGlmIChkb2N1bWVudC5h
ZGRFdmVudExpc3RlbmVyKSB7CiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGlj
aycsIGhhbmRsZUludGVudCwgZmFsc2UpOwogIH0gZWxzZSBpZiAoZG9jdW1lbnQuYXR0YWNo
RXZlbnQpIHsKICAgIGRvY3VtZW50LmF0dGFjaEV2ZW50KCdvbmNsaWNrJywgaGFuZGxlSW50
ZW50KTsKICB9CiAgd2luZG93Ll9fdHdpdHRlckludGVudEhhbmRsZXIgPSB0cnVlOwp9KCkp
Owo8L3NjcmlwdD4KSlM7CiAgJGFyY190d2l0dGVyWyd3aWRnZXRfanMnXSA9IHRydWU7CiAg
cmV0dXJuICRqczsKfQoKLy8gRGVwcmVjYXRlZCBhcmNfdHdpdHRlcl9yZXR3ZWV0IHRhZywg
dXNlIGFyY190d2l0dGVyX3R3ZWV0X2J1dHRvbiBpbnN0ZWFkCmZ1bmN0aW9uIGFyY190d2l0
dGVyX3JldHdlZXQoJGF0dHMsICR0aGluZz1udWxsKQp7CiAgcmV0dXJuIGFyY190d2l0dGVy
X3R3ZWV0X2J1dHRvbigkYXR0cywgJHRoaW5nPW51bGwpOwp9CmZ1bmN0aW9uIGFyY190d2l0
dGVyX3R3ZWV0X2J1dHRvbigkYXR0cywgJHRoaW5nPW51bGwpCnsKICAgIGdsb2JhbCAkcHJl
ZnMsJGFyY190d2l0dGVyX2NvbnN1bWVyS2V5LCAkYXJjX3R3aXR0ZXJfY29uc3VtZXJTZWNy
ZXQ7CiAgICBnbG9iYWwgJHRoaXNhcnRpY2xlOwoKICAgIGV4dHJhY3QobEF0dHMoYXJyYXko
CiAgICAgICAgJ3VzZXInICAgICAgICA9PiAkcHJlZnNbJ2FyY190d2l0dGVyX3VzZXInXSwg
Ly8gdmlhIHVzZXIgYWNjb3VudAogICAgICAgICd1cmwnICAgICAgICAgPT4gJycsCiAgICAg
ICAgJ3RleHQnICAgICAgICA9PiAnJywKICAgICAgICAnZm9sbG93MScgICAgID0+ICcnLAog
ICAgICAgICdmb2xsb3cyJyAgICAgPT4gJycsCiAgICAgICAgJ2xhbmcnICAgICAgICA9PiAn
JywKICAgICAgICAnY291bnQnICAgICAgID0+ICdob3Jpem9udGFsJywKICAgICAgICAnaW5j
bHVkZV9qcycgID0+IHRydWUsCiAgICAgICAgJ29wdGltaXNlX2pzJyA9PiBmYWxzZSwKICAg
ICAgICAnd3JhcHRhZycgICAgID0+ICcnLAogICAgICAgICdjbGFzcycgICAgICAgPT4gJ3R3
aXR0ZXItc2hhcmUtYnV0dG9uJwogICAgKSwkYXR0cykpOwoKICAgICRxID0gJyc7IC8vIHF1
ZXJ5IHN0cmluZwoKICAgIGlmICgkaWQ9JHRoaXNhcnRpY2xlWyd0aGlzaWQnXSkgewogICAg
ICAvLyBGZXRjaCBhcmNfdHdpdHRlciBzdHVmZiB0byBidWlsZCB0d2VldCBmcm9tCiAgICAg
ICRyb3cgPSBzYWZlX3JvdygiUkVQTEFDRSh0d2VldCxDT05DQVQoJyAnLHRpbnl1cmwpLCcn
KSBBUyB0d2VldCx0aW55dXJsIgogICAgICAgICwgJ2FyY190d2l0dGVyJywgImFydGljbGVf
aWQ9eyRpZH0iKTsKCiAgICAgIGlmICgkdXJsPT0nJykgewogICAgICAgICR1cmwgPSAoJHVy
bCkgPyAkdXJsIDogcGVybWxpbmt1cmwoJHRoaXNhcnRpY2xlKTsKICAgICAgICAkcSA9ICd1
cmw9Jy51cmxlbmNvZGUoJHVybCk7CiAgICAgIH0KICAgICAgaWYgKCR0ZXh0PT0nJykgewog
ICAgICAgICR0ZXh0ID0gKCRyb3dbJ3R3ZWV0J10pID8gJHJvd1sndHdlZXQnXSA6ICR0aGlz
YXJ0aWNsZVsndGl0bGUnXTsKICAgICAgfQogICAgICAkcSAuPSAoJHEgPyAnJmFtcDsnIDog
JycpLid0ZXh0PScudXJsZW5jb2RlKCR0ZXh0KTsKICAgIH0KICAgIGlmICgkdXNlcikgewog
ICAgICAkcSAuPSAoJHEgPyAnJmFtcDsnIDogJycpLid2aWE9Jy51cmxlbmNvZGUoJHVzZXIp
OwogICAgfQogICAgaWYgKCRmb2xsb3cxJiYkZm9sbG93MikgewogICAgICAkcSAuPSAoJHEg
PyAnJmFtcDsnIDogJycpLidyZWxhdGVkPScudXJsZW5jb2RlKCRmb2xsb3cxLic6Jy4kZm9s
bG93Mik7CiAgICB9IGVsc2VpZiAoJGZvbGxvdzF8fCRmb2xsb3cyKSB7CiAgICAgICRxIC49
ICgkcSA/ICcmYW1wOycgOiAnJykuJ3JlbGF0ZWQ9Jy51cmxlbmNvZGUoJGZvbGxvdzEuJGZv
bGxvdzIpOwogICAgfQoKICAgIHN3aXRjaCAoJGxhbmcpIHsKICAgICAgY2FzZSAnZnInOiBi
cmVhazsgY2FzZSAnZGUnOiBicmVhazsgY2FzZSAnZXMnOiBicmVhazsgY2FzZSAnanAnOiBi
cmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICAkbGFuZyA9ICdlbic7CiAgICB9CiAgICAk
cSAuPSAoJHEgPyAnJmFtcDsnIDogJycpLidsYW5nPScudXJsZW5jb2RlKCRsYW5nKTsKCiAg
ICBzd2l0Y2ggKCRjb3VudCkgewogICAgICBjYXNlICdub25lJzogYnJlYWs7IGNhc2UgJ3Zl
cnRpY2FsJzogYnJlYWs7CiAgICAgIGRlZmF1bHQ6CiAgICAgICAgJGNvdW50ID0gJ2hvcml6
b250YWwnOwogICAgfQogICAgJHEgLj0gKCRxID8gJyZhbXA7JyA6ICcnKS4nY291bnQ9Jy51
cmxlbmNvZGUoJGNvdW50KTsKCiAgICAkdGhpbmcgPSAoJHRoaW5nPT09bnVsbCkgPyAnVHdl
ZXQnIDogcGFyc2UoJHRoaW5nKTsKCiAgICAkaHRtbCA9IGhyZWYoJHRoaW5nLCdodHRwOi8v
dHdpdHRlci5jb20vc2hhcmU/Jy4kcQogICAgICAsICcgY2xhc3M9IicuJGNsYXNzLiciJyk7
CgogICAgJGpzID0gKCRpbmNsdWRlX2pzKSA/IF9hcmNfdHdpdHRlcl93aWRnZXRfanMoJG9w
dGltaXNlX2pzP3RydWU6ZmFsc2UpIDogJyc7CgogICAgcmV0dXJuICRqcy4kaHRtbDsKfQoK
LyoKICogVHdpdHRlciBGb2xsb3cgYnV0dG9uCiAqLwpmdW5jdGlvbiBhcmNfdHdpdHRlcl9m
b2xsb3dfYnV0dG9uKCRhdHRzLCAkdGhpbmc9bnVsbCkKewogICAgZ2xvYmFsICRwcmVmcywk
YXJjX3R3aXR0ZXJfY29uc3VtZXJLZXksICRhcmNfdHdpdHRlcl9jb25zdW1lclNlY3JldDsK
ICAgIGdsb2JhbCAkdGhpc2FydGljbGU7CgogICAgZXh0cmFjdChsQXR0cyhhcnJheSgKICAg
ICAgICAndXNlcicgICAgICAgID0+ICRwcmVmc1snYXJjX3R3aXR0ZXJfdXNlciddLCAvLyB2
aWEgdXNlciBhY2NvdW50CiAgICAgICAgJ2xhbmcnICAgICAgICA9PiAnJywKICAgICAgICAn
Y291bnQnICAgICAgID0+IHRydWUsCiAgICAgICAgJ2luY2x1ZGVfanMnICA9PiB0cnVlLAog
ICAgICAgICdvcHRpbWlzZV9qcycgPT4gZmFsc2UsCiAgICAgICAgJ2NsYXNzJyAgICAgICA9
PiAndHdpdHRlci1mb2xsb3ctYnV0dG9uJwogICAgKSwkYXR0cykpOwoKICAgICRhdHRzID0g
Jyc7IC8vIGRhdGEgYXR0cmlidXRlcwoKICAgIHN3aXRjaCAoJGxhbmcpIHsKICAgICAgY2Fz
ZSAnZnInOiBicmVhazsgY2FzZSAnZGUnOiBicmVhazsgY2FzZSAnZXMnOiBicmVhazsgY2Fz
ZSAnanAnOiBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICAkbGFuZyA9ICdlbic7CiAg
ICB9CiAgICAkYXR0cyAuPSAnIGRhdGEtbGFuZz0iJy51cmxlbmNvZGUoJGxhbmcpLiciJzsK
CiAgICAkYXR0cyAuPSAnIGRhdGEtc2hvdy1jb3VudD0iJy4oJGNvdW50Pyd0cnVlJzonZmFs
c2UnKS4nIic7CgogICAgJHRoaW5nID0gKCR0aGluZz09PW51bGwpID8gJ0ZvbGxvdyBAJy4k
dXNlciA6IHBhcnNlKCR0aGluZyk7CgogICAgJGh0bWwgPSBocmVmKCR0aGluZywnaHR0cDov
L3R3aXR0ZXIuY29tLycudXJsZW5jb2RlKCR1c2VyKQogICAgICAsICcgY2xhc3M9IicuJGNs
YXNzLiciJy4kYXR0cyk7CgogICAgJGpzID0gKCRpbmNsdWRlX2pzKSA/IF9hcmNfdHdpdHRl
cl93aWRnZXRfanMoJG9wdGltaXNlX2pzP3RydWU6ZmFsc2UpIDogJyc7CgogICAgcmV0dXJu
ICRqcy4kaHRtbDsKfQoKLyoKICAgIEFkbWluLXNpZGUgZnVuY3Rpb25zCiAgICA9PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09CiovCgovLyBJbnN0YWxsYXRpb24gZnVuY3Rpb24gLSBidWlsZHMgTXlTUUwgdGFibGUK
ZnVuY3Rpb24gYXJjX3R3aXR0ZXJfaW5zdGFsbCgpCnsKCiAgICAvLyBGb3IgZmlyc3QgaW5z
dGFsbCwgY3JlYXRlIHRhYmxlIGZvciB0d2VldHMKICAgICRzcWwgPSAiQ1JFQVRFIFRBQkxF
IElGIE5PVCBFWElTVFMgIi5QRlguImFyY190d2l0dGVyICI7CiAgICAkc3FsLj0gIihhcmNf
dHdpdHRlcmlkIElOVEVHRVIgQVVUT19JTkNSRU1FTlQgUFJJTUFSWSBLRVksCiAgICAgICAg
YXJ0aWNsZV9pZCBJTlRFR0VSKDExKSwKICAgICAgICB0d2VldF9pZCBCSUdJTlQoMjApLAog
ICAgICAgIHR3ZWV0IFZBUkNIQVIoMTQwKSwKICAgICAgICB0aW55dXJsIFZBUkNIQVIoMzAp
KTsiOwoKICAgIGlmICghc2FmZV9xdWVyeSgkc3FsKSkgewogICAgICAgIHJldHVybiAnRXJy
b3IgLSB1bmFibGUgdG8gY3JlYXRlIGFyY190d2l0dGVyIHRhYmxlJzsKICAgIH0KCn0KCi8v
IFVuaW5zdGFsbCBmdW5jdGlvbiAtIGRlbGV0ZXMgTXlTUUwgdGFibGUgYW5kIHJlbGF0ZWQg
cHJlZmVyZW5jZXMKZnVuY3Rpb24gYXJjX3R3aXR0ZXJfdW5pbnN0YWxsKCkKewoKICAgICRz
cWwgPSAiRFJPUCBUQUJMRSBJRiBFWElTVFMgIi5QRlguImFyY190d2l0dGVyOyI7CiAgICBp
ZiAoIXNhZmVfcXVlcnkoJHNxbCkpIHsKICAgICAgICByZXR1cm4gJ0Vycm9yIC0gdW5hYmxl
IHRvIGRlbGV0ZSBhcmNfdHdpdHRlciB0YWJsZSc7CiAgICB9CgogICAgJHNxbCA9ICJERUxF
VEUgRlJPTSAgIi5QRlguInR4cF9wcmVmcyBXSEVSRSBldmVudD0nYXJjX3R3aXR0ZXInOyI7
CiAgICBpZiAoIXNhZmVfcXVlcnkoJHNxbCkpIHsKICAgICAgICByZXR1cm4gJ0Vycm9yIC0g
dW5hYmxlIHRvIGRlbGV0ZSBhcmNfdHdpdHRlciBwcmVmZXJlbmNlcyc7CiAgICB9Cgp9CmZ1
bmN0aW9uIGFyY190d2l0dGVyX3VybF9tZXRob2Rfc2VsZWN0KCRuYW1lLCAkdmFsKQp7CiAg
ICAkbWV0aG9kcyA9IGFycmF5KCd0aW55dXJsJyA9PiAnVGlueXVybCcsCiAgICAgICdpc2dk
JyA9PiAnSXMuZ2QnLAogICAgICAnYXJjX3R3aXR0ZXInID0+ICdUWFAgVHdlZXQnLAogICAg
ICAnc21kJyA9PiAnc21kX3Nob3J0X3VybCcpOwogICAgcmV0dXJuIHNlbGVjdElucHV0KCRu
YW1lLCAkbWV0aG9kcywgJHZhbCk7Cn0KZnVuY3Rpb24gYXJjX3R3aXR0ZXJfdGFiX3NlbGVj
dCgkbmFtZSwgJHZhbCkKewogICAgJHRhYnMgPSBhcnJheSgnY29udGVudCcgPT4gJ0NvbnRl
bnQnLAogICAgICAgICdleHRlbnNpb25zJyA9PiAnRXh0ZW5zaW9ucycsCiAgICAgICAgJycg
PT4gJ0hpZGRlbicpOwogICAgcmV0dXJuIHNlbGVjdElucHV0KCRuYW1lLCAkdGFicywgJHZh
bCk7Cn0KLy8gUHJvdmlkZSBpbnRlcmZhY2UgZm9yIHNldHRpbmcgcHJlZmVyZW5jZXMKZnVu
Y3Rpb24gYXJjX3R3aXR0ZXJfcHJlZnMoJGV2ZW50LCRzdGVwKQp7CgogICAgZ2xvYmFsICRw
cmVmcywkYXJjX3R3aXR0ZXJfY29uc3VtZXJLZXksJGFyY190d2l0dGVyX2NvbnN1bWVyU2Vj
cmV0OwoKICAgICR1c2VyICAgICAgICAgID0gJHByZWZzWydhcmNfdHdpdHRlcl91c2VyJ107
CiAgICAkcHJlZml4ICAgICAgICA9ICRwcmVmc1snYXJjX3R3aXR0ZXJfcHJlZml4J107CiAg
ICAkdHdlZXRfZGVmYXVsdCA9ICRwcmVmc1snYXJjX3R3aXR0ZXJfdHdlZXRfZGVmYXVsdCdd
OwogICAgJHVybF9tZXRob2QgICAgPSAkcHJlZnNbJ2FyY190d2l0dGVyX3VybF9tZXRob2Qn
XTsKICAgICRzaG9ydF91cmwgICAgID0gJHByZWZzWydhcmNfc2hvcnRfdXJsJ107CiAgICAk
c2hvcnRfc2l0ZV91cmw9ICRwcmVmc1snYXJjX3Nob3J0X3NpdGVfdXJsJ107CiAgICAkY2Fj
aGVfZGlyICAgICA9ICRwcmVmc1snYXJjX3R3aXR0ZXJfY2FjaGVfZGlyJ107CiAgICAkdGFi
ICAgICAgICAgICA9ICRwcmVmc1snYXJjX3R3aXR0ZXJfdGFiJ107CgogICAgc3dpdGNoICgk
c3RlcCkgewogICAgICAgIGNhc2UgJ3ByZWZzX3NhdmUnOiBwYWdldG9wKCdUWFAgVHdlZXQn
LCAnUHJlZmVyZW5jZXMgc2F2ZWQnKTsgYnJlYWs7CiAgICAgICAgY2FzZSAncmVnaXN0ZXIn
OiBwYWdldG9wKCdUWFAgVHdlZXQnLCdDb25uZWN0IHRvIFR3aXR0ZXInKTsgYnJlYWs7CiAg
ICAgICAgY2FzZSAndmFsaWRhdGUnOgogICAgICAgIGRlZmF1bHQ6IHBhZ2V0b3AoJ1RYUCBU
d2VldCcpOwogICAgfQoKICAgICRodG1sID0gJyc7CgogICAgaWYgKCRzdGVwPT0ncmVnaXN0
ZXInKSB7IC8vIE9BdXRoIHJlZ2lzdHJhdGlvbiBwcm9jZXNzCiAgICAgICAgJHR3aXQgPSBu
ZXcgYXJjX3R3aXR0ZXIoJGFyY190d2l0dGVyX2NvbnN1bWVyS2V5CiAgICAgICAgICAgICwg
JGFyY190d2l0dGVyX2NvbnN1bWVyU2VjcmV0KTsKCiAgICAgICAgLy8gQnVpbGQgYSBjYWxs
YmFjayBVUkwgZm9yIFR3aXR0ZXIgdG8gcmV0dXJuIHRvIHRoZSBuZXh0IHN0YWdlCiAgICAg
ICAgJGNhbGxiYWNrVVJMID0gJHR3aXQtPmNhbGxiYWNrVVJMKCRldmVudCwndmFsaWRhdGUn
KTsKCiAgICAgICAgJHJlcXVlc3QgPSAkdHdpdC0+Z2V0UmVxdWVzdFRva2VuKCRjYWxsYmFj
a1VSTCk7CiAgICAgICAgJHJlcXVlc3RfdG9rZW4gPSAkcmVxdWVzdFsib2F1dGhfdG9rZW4i
XTsKICAgICAgICAkcmVxdWVzdF90b2tlbl9zZWNyZXQgPSAkcmVxdWVzdFsib2F1dGhfdG9r
ZW5fc2VjcmV0Il07CgogICAgICAgIHNldF9wcmVmKCdhcmNfdHdpdHRlcl9yZXF1ZXN0VG9r
ZW4nLCRyZXF1ZXN0X3Rva2VuCiAgICAgICAgICAgICwgJ2FyY190d2l0dGVyJywyKTsKICAg
ICAgICBzZXRfcHJlZignYXJjX3R3aXR0ZXJfcmVxdWVzdFRva2VuU2VjcmV0JywkcmVxdWVz
dF90b2tlbl9zZWNyZXQKICAgICAgICAgICAgLCAnYXJjX3R3aXR0ZXInLDIpOwoKICAgICAg
ICAkaHRtbC49IHN0YXJ0VGFibGUoJ2VkaXQnKS4KICAgICAgICAgICAgICAgIHRyKHRkKAog
ICAgICAgICAgICAgICAgICAgICgnPHA+Jy5ocmVmKCdTaWduLWluIHRvIFR3aXR0ZXInCiAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAsJHR3aXQtPmdldEF1dGhvcml6ZVVSTCgkcmVx
dWVzdCkpCiAgICAgICAgICAgICAgICAgICAgICAgIC4nIGFuZCBmb2xsb3cgdGhlIGluc3Ry
dWN0aW9ucyB0byBhbGxvdyBUWFAgVHdlZXQgdG8gdXNlIHlvdXIgYWNjb3VudC4gSWYgeW91
IGFyZSBhbHJlYWR5IHNpZ25lZCBpbiB0byBUd2l0dGVyIHRoZW4gdGhhdCBhY2NvdW50IHdp
bGwgYmUgYXNzb2NpYXRlZCB3aXRoIFRYUCBUd2VldCBzbyB5b3UgbWF5IG5lZWQgdG8gc2ln
biBvdXQgZmlyc3QgaWYgeW91IHdhbnQgdG8gdXNlIGEgZGlmZmVyZW50IGFjY291bnQuPC9w
PicpCiAgICAgICAgICAgICAgICApKS5lbmRUYWJsZSgpOwogICAgfSBlbHNlaWYgKCRzdGVw
PT0ndmFsaWRhdGUnKSB7CiAgICAgICAgJHR3aXQgPSBuZXcgYXJjX3R3aXR0ZXIoJGFyY190
d2l0dGVyX2NvbnN1bWVyS2V5CiAgICAgICAgICAgICwgJGFyY190d2l0dGVyX2NvbnN1bWVy
U2VjcmV0LCAkcHJlZnNbJ2FyY190d2l0dGVyX3JlcXVlc3RUb2tlbiddCiAgICAgICAgICAg
ICwgJHByZWZzWydhcmNfdHdpdHRlcl9yZXF1ZXN0VG9rZW5TZWNyZXQnXSk7CiAgICAgICAg
Ly8gQXNrIFR3aXR0ZXIgZm9yIGFuIGFjY2VzcyB0b2tlbiAoYW5kIGFuIGFjY2VzcyB0b2tl
biBzZWNyZXQpCiAgICAgICAgJHJlcXVlc3QgPSAkdHdpdC0+Z2V0QWNjZXNzVG9rZW4oIGdw
cygnb2F1dGhfdmVyaWZpZXInKSApOwogICAgICAgICRhY2Nlc3NfdG9rZW4gPSAkcmVxdWVz
dFsnb2F1dGhfdG9rZW4nXTsKICAgICAgICAkYWNjZXNzX3Rva2VuX3NlY3JldCA9ICRyZXF1
ZXN0WydvYXV0aF90b2tlbl9zZWNyZXQnXTsKICAgICAgICAkdXNlciA9ICRyZXF1ZXN0Wydz
Y3JlZW5fbmFtZSddOwogICAgICAgIC8vIFN0b3JlIHRoZSBhY2Nlc3MgdG9rZW4gYW5kIHNl
Y3JldAogICAgICAgIHNldF9wcmVmKCdhcmNfdHdpdHRlcl9hY2Nlc3NUb2tlbicsJGFjY2Vz
c190b2tlbiwgJ2FyY190d2l0dGVyJywyKTsKICAgICAgICBzZXRfcHJlZignYXJjX3R3aXR0
ZXJfYWNjZXNzVG9rZW5TZWNyZXQnLCRhY2Nlc3NfdG9rZW5fc2VjcmV0CiAgICAgICAgICAg
ICwgJ2FyY190d2l0dGVyJywyKTsKICAgICAgICBzZXRfcHJlZignYXJjX3R3aXR0ZXJfdXNl
cicsJHVzZXIpOwogICAgICAgICRwcmVmc1snYXJjX3R3aXR0ZXJfYWNjZXNzVG9rZW4nXSA9
ICRhY2Nlc3NfdG9rZW47CiAgICAgICAgJHByZWZzWydhcmNfdHdpdHRlcl9hY2Nlc3NUb2tl
blNlY3JldCddID0gJGFjY2Vzc190b2tlbl9zZWNyZXQ7CiAgICAgICAgdW5zZXQoJHR3aXQp
OwogICAgfQoKICAgIGlmICgkc3RlcD09InByZWZzX3NhdmUiKSB7CiAgICAgICAgJHByZWZp
eCA9IHRyaW0oZ3BzKCdhcmNfdHdpdHRlcl9wcmVmaXgnKSk7CiAgICAgICAgJHR3ZWV0X2Rl
ZmF1bHQgPSBncHMoJ2FyY190d2l0dGVyX3R3ZWV0X2RlZmF1bHQnKTsKICAgICAgICAkdXJs
X21ldGhvZCA9IGdwcygnYXJjX3R3aXR0ZXJfdXJsX21ldGhvZCcpOwogICAgICAgICRzaG9y
dF91cmwgPSBncHMoJ2FyY19zaG9ydF91cmwnKTsKICAgICAgICAkc2hvcnRfc2l0ZV91cmwg
PSBncHMoJ2FyY19zaG9ydF9zaXRlX3VybCcpOwogICAgICAgICRjYWNoZV9kaXIgPSBncHMo
J2FyY190d2l0dGVyX2NhY2hlX2RpcicpOwogICAgICAgICR0YWIgPSBncHMoJ2FyY190d2l0
dGVyX3RhYicpOwogICAgICAgIGlmIChzdHJsZW4oJHByZWZpeCk8PTIwKSB7CiAgICAgICAg
ICAgIHNldF9wcmVmKCdhcmNfdHdpdHRlcl9wcmVmaXgnLCRwcmVmaXgpOwogICAgICAgIH0g
ZWxzZSB7CiAgICAgICAgICAgICRwcmVmaXggPSAkcHJlZnNbJ2FyY190d2l0dGVyX3ByZWZp
eCddOwogICAgICAgIH0KICAgICAgICAkdHdlZXRfZGVmYXVsdCA9ICgkdHdlZXRfZGVmYXVs
dCkgPyAxIDogMDsKICAgICAgICAkc2hvcnRfdXJsID0gKCRzaG9ydF91cmwpID8gMSA6IDA7
CiAgICAgICAgaWYgKCEkc2hvcnRfc2l0ZV91cmwpICRzaG9ydF9zaXRlX3VybCA9ICRwcmVm
c1snc2l0ZXVybCddOwogICAgICAgIHNldF9wcmVmKCdhcmNfdHdpdHRlcl90d2VldF9kZWZh
dWx0JywkdHdlZXRfZGVmYXVsdCk7CiAgICAgICAgc2V0X3ByZWYoJ2FyY19zaG9ydF91cmwn
LCRzaG9ydF91cmwpOwogICAgICAgIHNldF9wcmVmKCdhcmNfdHdpdHRlcl91cmxfbWV0aG9k
JywkdXJsX21ldGhvZCk7CiAgICAgICAgc2V0X3ByZWYoJ2FyY19zaG9ydF9zaXRlX3VybCcs
JHNob3J0X3NpdGVfdXJsKTsKICAgICAgICBzZXRfcHJlZignYXJjX3R3aXR0ZXJfY2FjaGVf
ZGlyJywkY2FjaGVfZGlyKTsKICAgICAgICBzZXRfcHJlZignYXJjX3R3aXR0ZXJfdGFiJywk
dGFiKTsKICAgIH0KCiAgICBpZiAoICRzdGVwIT0ncmVnaXN0ZXInICkgewogICAgICAgIGlm
ICggaXNzZXQoJHByZWZzWydhcmNfdHdpdHRlcl9hY2Nlc3NUb2tlbiddKQogICAgICAgICYm
IGlzc2V0KCRwcmVmc1snYXJjX3R3aXR0ZXJfYWNjZXNzVG9rZW5TZWNyZXQnXSkgKSB7CiAg
ICAgICAgICAgICR0d2l0ID0gbmV3IGFyY190d2l0dGVyKCRhcmNfdHdpdHRlcl9jb25zdW1l
cktleQogICAgICAgICAgICAgICAgLCAkYXJjX3R3aXR0ZXJfY29uc3VtZXJTZWNyZXQsICRw
cmVmc1snYXJjX3R3aXR0ZXJfYWNjZXNzVG9rZW4nXQogICAgICAgICAgICAgICAgLCAkcHJl
ZnNbJ2FyY190d2l0dGVyX2FjY2Vzc1Rva2VuU2VjcmV0J10pOwogICAgICAgICAgICAkcmVn
aXN0ZXJVUkwgPSAkdHdpdC0+Y2FsbGJhY2tVUkwoJGV2ZW50LCdyZWdpc3RlcicpOwogICAg
ICAgICAgICAkaHRtbC49IHN0YXJ0VGFibGUoJ2xpc3QnKS5mb3JtKAogICAgICAgICAgICAg
ICAgdHIoCiAgICAgICAgICAgICAgICAgICAgdGRjcyhoZWQoJ1R3aXR0ZXIgYWNjb3VudCBk
ZXRhaWxzJywgMiksMikKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC50cigK
ICAgICAgICAgICAgICAgICAgICB0ZGEoJzxsYWJlbCBmb3I9ImFyY190d2l0dGVyX3VzZXIi
PlR3aXR0ZXIgdXNlcm5hbWU8L2xhYmVsPicsCiAgICAgICAgICAgICAgICAgICAgICAgICcg
c3R5bGU9InRleHQtYWxpZ246IHJpZ2h0OyB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOyInKQog
ICAgICAgICAgICAgICAgICAgIC50ZCgKICAgICAgICAgICAgICAgICAgICAgICAgKCRwcmVm
c1snYXJjX3R3aXR0ZXJfdXNlciddKSA/CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAk
dXNlci4nICgnLmhyZWYoJ1JlLWNvbm5lY3QnLCRyZWdpc3RlclVSTCkuJyknCiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICA6ICc8ZW0+dW5rbm93bjwvZW0+JwogICAgICAgICAgICAg
ICAgICAgICAgICAgICAgLmhyZWYoJ0Nvbm5lY3QgdG8gVHdpdHRlcicsJHJlZ2lzdGVyVVJM
KSkKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC50cigKICAgICAgICAgICAg
ICAgICAgICB0ZGNzKGhlZCgnVHdlZXQgc2V0dGluZ3MnLCAyKSwyKQogICAgICAgICAgICAg
ICAgKQogICAgICAgICAgICAgICAgLnRyKAogICAgICAgICAgICAgICAgICAgIHRkYSgnPGxh
YmVsIGZvcj0iYXJjX3R3aXR0ZXJfY2FjaGVfZGlyIj5Ud2VldCBwcmVmaXg8L2xhYmVsPics
CiAgICAgICAgICAgICAgICAgICAgICAgICcgc3R5bGU9InRleHQtYWxpZ246IHJpZ2h0OyB2
ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOyInKQogICAgICAgICAgICAgICAgICAgIC50ZChmSW5w
dXQoJ3RleHQnLCdhcmNfdHdpdHRlcl9wcmVmaXgnLCRwcmVmaXgsJycsJycsJycsJycsJycs
J2FyY190d2l0dGVyX3ByZWZpeCcpKQogICAgICAgICAgICAgICAgKS50cigKICAgICAgICAg
ICAgICAgICAgICB0ZGEoJzxsYWJlbCBmb3I9ImFyY190d2l0dGVyX3R3ZWV0X2RlZmF1bHQi
PlR3ZWV0IGFydGljbGVzIGJ5IGRlZmF1bHQ8L2xhYmVsPicsCiAgICAgICAgICAgICAgICAg
ICAgICAgICcgc3R5bGU9InRleHQtYWxpZ246IHJpZ2h0OyB2ZXJ0aWNhbC1hbGlnbjogbWlk
ZGxlOyInKQogICAgICAgICAgICAgICAgICAgIC50ZCh5ZXNub1JhZGlvKCdhcmNfdHdpdHRl
cl90d2VldF9kZWZhdWx0JywgJHR3ZWV0X2RlZmF1bHQsICcnLCAnYXJjX3R3aXR0ZXJfdHdl
ZXRfZGVmYXVsdCcpKQogICAgICAgICAgICAgICAgKS50cigKICAgICAgICAgICAgICAgICAg
ICB0ZGEoJzxsYWJlbCBmb3I9ImFyY190d2l0dGVyX3VybF9tZXRob2QiPlVSTCBzaG9ydG5l
cjwvbGFiZWw+JywKICAgICAgICAgICAgICAgICAgICAgICAgJyBzdHlsZT0idGV4dC1hbGln
bjogcmlnaHQ7IHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7IicpCiAgICAgICAgICAgICAgICAg
ICAgLnRkKGFyY190d2l0dGVyX3VybF9tZXRob2Rfc2VsZWN0KCdhcmNfdHdpdHRlcl91cmxf
bWV0aG9kJywkdXJsX21ldGhvZCkpCiAgICAgICAgICAgICAgICApLnRyKAogICAgICAgICAg
ICAgICAgICAgIHRkY3MoaGVkKCdUWFAgVHdlZXQgc2hvcnQgVVJMJywgMiksMikKICAgICAg
ICAgICAgICAgICkKICAgICAgICAgICAgICAgIC50cigKICAgICAgICAgICAgICAgICAgICB0
ZGEoJzxsYWJlbCBmb3I9ImFyY19zaG9ydF91cmwiPkVuYWJsZSBUWFAgVHdlZXQgc2hvcnQg
VVJMIHJlZGlyZWN0PC9sYWJlbD4nLAogICAgICAgICAgICAgICAgICAgICAgICAnIHN0eWxl
PSJ0ZXh0LWFsaWduOiByaWdodDsgdmVydGljYWwtYWxpZ246IG1pZGRsZTsiJykKICAgICAg
ICAgICAgICAgICAgICAudGQoeWVzbm9SYWRpbygnYXJjX3Nob3J0X3VybCcsICRzaG9ydF91
cmwsICcnLCAnYXJjX3Nob3J0X3VybCcpKSwKICAgICAgICAgICAgICAgICAgICAnIGlkPSJh
cmNfc2hvcnRfdXJsLW9uX29mZiInCiAgICAgICAgICAgICAgICApLnRyKAogICAgICAgICAg
ICAgICAgICAgIHRkYSgnPGxhYmVsIGZvcj0iYXJjX3Nob3J0X3NpdGVfdXJsIj5UWFAgVHdl
ZXQgc2hvcnQgc2l0ZSBVUkw8L2xhYmVsPicsCiAgICAgICAgICAgICAgICAgICAgICAgICcg
c3R5bGU9InRleHQtYWxpZ246IHJpZ2h0OyB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOyInKQog
ICAgICAgICAgICAgICAgICAgIC50ZChmSW5wdXQoJ3RleHQnLCdhcmNfc2hvcnRfc2l0ZV91
cmwnLCRzaG9ydF9zaXRlX3VybCwnJywnJywnJywnJywnJywnYXJjX3Nob3J0X3NpdGVfdXJs
JykpLAogICAgICAgICAgICAgICAgICAgICcgaWQ9ImFyY19zaG9ydF9zaXRlX3VybC1vcHRp
b24iJwogICAgICAgICAgICAgICAgKS50cigKICAgICAgICAgICAgICAgICAgICB0ZGNzKGhl
ZCgnVHdpdHRlciB0YWInLCAyKSwyKQogICAgICAgICAgICAgICAgKS50cigKICAgICAgICAg
ICAgICAgICAgICB0ZGEoJzxsYWJlbCBmb3I9ImFyY190d2l0dGVyX3RhYiI+TG9jYXRpb24g
b2YgVHdpdHRlciB0YWI8L2xhYmVsPicsCiAgICAgICAgICAgICAgICAgICAgICAgICcgc3R5
bGU9InRleHQtYWxpZ246IHJpZ2h0OyB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOyInKQogICAg
ICAgICAgICAgICAgICAgIC50ZChhcmNfdHdpdHRlcl90YWJfc2VsZWN0KCdhcmNfdHdpdHRl
cl90YWInLCR0YWIpKQogICAgICAgICAgICAgICAgKS50cigKICAgICAgICAgICAgICAgICAg
ICB0ZGNzKGhlZCgnQ2FjaGUnLCAyKSwyKQogICAgICAgICAgICAgICAgKQogICAgICAgICAg
ICAgICAgLnRyKAogICAgICAgICAgICAgICAgICAgIHRkYSgnPGxhYmVsIGZvcj0iYXJjX3R3
aXR0ZXJfY2FjaGVfZGlyIj5DYWNoZSBkaXJlY3Rvcnk8L2xhYmVsPicsCiAgICAgICAgICAg
ICAgICAgICAgICAgICcgc3R5bGU9InRleHQtYWxpZ246IHJpZ2h0OyB2ZXJ0aWNhbC1hbGln
bjogbWlkZGxlOyInKQogICAgICAgICAgICAgICAgICAgIC50ZChmSW5wdXQoJ3RleHQnLCdh
cmNfdHdpdHRlcl9jYWNoZV9kaXInLCRjYWNoZV9kaXIsJycsJycsJycsJycsJycsJ2FyY190
d2l0dGVyX2NhY2hlX2RpcicpKQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAg
LnRyKAogICAgICAgICAgICAgICAgICAgIHRkYSgKICAgICAgICAgICAgICAgICAgICAgICAg
ZklucHV0KCdzdWJtaXQnLCAnU3VibWl0JywgZ1R4dCgnc2F2ZV9idXR0b24nKSwgJ3B1Ymxp
c2gnKQogICAgICAgICAgICAgICAgICAgICAgICAubi5zSW5wdXQoJ3ByZWZzX3NhdmUnKQog
ICAgICAgICAgICAgICAgICAgICAgICAubi5lSW5wdXQoJ3BsdWdpbl9wcmVmcy5hcmNfdHdp
dHRlcicpCiAgICAgICAgICAgICAgICAgICAgLCAnIGNvbHNwYW49IjIiIGNsYXNzPSJub2xp
bmUiJykpKQogICAgICAgICAgICAgICAgLmVuZFRhYmxlKCk7CiAgICAgICAgfSBlbHNlaWYg
KCAkc3RlcCE9J3JlZ2lzdGVyJyApIHsKICAgICAgICAgICAgJHJlZ2lzdGVyVVJMID0gYXJj
X3R3aXR0ZXI6OmNhbGxiYWNrVVJMKCRldmVudCwncmVnaXN0ZXInKTsKICAgICAgICAgICAg
JGh0bWwuPSBzdGFydFRhYmxlKCdsaXN0JykuZm9ybSgKICAgICAgICAgICAgICAgIHRyKAog
ICAgICAgICAgICAgICAgICAgIHRkY3MoaGVkKCdUd2l0dGVyIGFjY291bnQgZGV0YWlscycs
IDIpLDIpCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAudHIoCiAgICAgICAg
ICAgICAgICAgICAgdGRhKCc8bGFiZWwgZm9yPSJhcmNfdHdpdHRlcl91c2VyIj5Ud2l0dGVy
IHVzZXJuYW1lPC9sYWJlbD4nLAogICAgICAgICAgICAgICAgICAgICAgICAnIHN0eWxlPSJ0
ZXh0LWFsaWduOiByaWdodDsgdmVydGljYWwtYWxpZ246IG1pZGRsZTsiJykKICAgICAgICAg
ICAgICAgICAgICAudGQoCiAgICAgICAgICAgICAgICAgICAgICAgICgnPGVtPnVua25vd248
L2VtPiAoJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmhyZWYoJ0Nvbm5lY3QgdG8g
VHdpdHRlcicsJHJlZ2lzdGVyVVJMKS4nKScpCiAgICAgICAgICAgICAgICApKSkKICAgICAg
ICAgICAgICAgIC5lbmRUYWJsZSgpOwogICAgICAgIH0KICAgIH0KCiAgICAvLyBTZXQgalF1
ZXJ5IGZvciBzd2l0Y2hpbmcgb24vb2ZmIHJlbGV2YW50IGFyY19zaG9ydF91cmwgZmllbGRz
CiAgICAkanMgPSA8PDxKUwo8c2NyaXB0IGxhbmd1YWdlPSJqYXZhc2NyaXB0IiB0eXBlPSJ0
ZXh0L2phdmFzY3JpcHQiPgokKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpewogIHZhciBv
bm9mZiA9ICQoJyNhcmNfc2hvcnRfdXJsLW9uX29mZicpOwogIHZhciBhcmNfc2hvcnRfdXJs
X29mZiA9ICQoJyNhcmNfc2hvcnRfdXJsLWFyY19zaG9ydF91cmwtMCcpOwogIHZhciB1cmwg
PSAkKCcjYXJjX3Nob3J0X3NpdGVfdXJsLW9wdGlvbicpOwogIHZhciB1cmxfbWV0aG9kID0g
JCgnc2VsZWN0W25hbWU9ImFyY190d2l0dGVyX3VybF9tZXRob2QiXScpOwoKICBpZiAoYXJj
X3Nob3J0X3VybF9vZmYuYXR0cignY2hlY2tlZCcpPT10cnVlCiAgJiYgJCgnb3B0aW9uOnNl
bGVjdGVkJywgdXJsX21ldGhvZCkudmFsKCkhPSdhcmNfdHdpdHRlcicpIHsKICAgIHVybC5o
aWRlKCk7CiAgfQogICQoJ2lucHV0Jywgb25vZmYpLmNoYW5nZShmdW5jdGlvbigpewogICAg
aWYgKCQoJ29wdGlvbjpzZWxlY3RlZCcsIHVybF9tZXRob2QpLnZhbCgpIT0nYXJjX3R3aXR0
ZXInKSB7CiAgICAgIGFyY19zaG9ydF91cmxfb2ZmLmF0dHIoJ2NoZWNrZWQnKT09dHJ1ZSA/
IHVybC5oaWRlKCkgOiB1cmwuc2hvdygpOwogICAgfQogIH0pOwoKICBpZiAoJCgnb3B0aW9u
OnNlbGVjdGVkJywgdXJsX21ldGhvZCkudmFsKCk9PSdhcmNfdHdpdHRlcicpIHsKICAgIG9u
b2ZmLmhpZGUoKTsgdXJsLnNob3coKTsKICB9CiAgdXJsX21ldGhvZC5jaGFuZ2UoZnVuY3Rp
b24oKXsKICAgIGlmICgkKCdvcHRpb246c2VsZWN0ZWQnLCB1cmxfbWV0aG9kKS52YWwoKT09
J2FyY190d2l0dGVyJykgewogICAgICBvbm9mZi50b2dnbGUoKTsgdXJsLnNob3coKTsKICAg
IH0gZWxzZSB7CiAgICAgIG9ub2ZmLnRvZ2dsZSgpOwogICAgICBhcmNfc2hvcnRfdXJsX29m
Zi5hdHRyKCdjaGVja2VkJyk9PXRydWUgPyB1cmwuaGlkZSgpIDogdXJsLnNob3coKTsKICAg
IH0KICB9KQp9KTsKPC9zY3JpcHQ+CkpTOwoKICAgIGVjaG8gJGpzLiRodG1sOwp9CgovLyBB
ZGQgVHdpdHRlciB0YWIgdG8gVGV4dHBhdHRlcm4KZnVuY3Rpb24gYXJjX2FkbWluX3R3aXR0
ZXIoJGV2ZW50LCRzdGVwKQp7CiAgICBnbG9iYWwgJHByZWZzLCAkYXJjX3R3aXR0ZXJfY29u
c3VtZXJLZXksICRhcmNfdHdpdHRlcl9jb25zdW1lclNlY3JldDsKCiAgICAkdHdpdCA9IG5l
dyBhcmNfdHdpdHRlcigkYXJjX3R3aXR0ZXJfY29uc3VtZXJLZXkKICAgICAgICAgICAgLCAk
YXJjX3R3aXR0ZXJfY29uc3VtZXJTZWNyZXQsICRwcmVmc1snYXJjX3R3aXR0ZXJfYWNjZXNz
VG9rZW4nXQogICAgICAgICAgICAsICRwcmVmc1snYXJjX3R3aXR0ZXJfYWNjZXNzVG9rZW5T
ZWNyZXQnXSk7CgogICAgJHR3aXQtPmNhY2hlRGlyKCRwcmVmc1snYXJjX3R3aXR0ZXJfY2Fj
aGVfZGlyJ10pOwoKICAgICR4bWwgPSAkdHdpdC0+Z2V0KCd1c2Vycy9zaG93JwogICAgICAg
ICwgYXJyYXkoJ3NjcmVlbl9uYW1lJz0+JHByZWZzWydhcmNfdHdpdHRlcl91c2VyJ10pKTsK
ICAgICR0d2l0dGVyVXNlciA9IEAkeG1sLT54cGF0aCgnL3VzZXInKTsKICAgICR0d2l0dGVy
VXNlciA9ICR0d2l0dGVyVXNlclswXTsKICAgICR0d2l0dGVyVXNlclVSTCA9ICdodHRwOi8v
d3d3LnR3aXR0ZXIuY29tLycuJHR3aXR0ZXJVc2VyLT5zY3JlZW5fbmFtZTsKCiAgICBpZiAo
JHN0ZXA9PSJ0d2VldCIpIHsgLy8gcG9zdCBhbiB1cGRhdGUgdG8gVHdpdHRlcgoKICAgICAg
ICAvLyBmZXRjaCBhbmQgY2xlYW4gbWVzc2FnZQogICAgICAgICRtZXNzYWdlID0gc3RyaXBf
dGFncyhncHMoJ21lc3NhZ2UnKSk7CiAgICAgICAgJGNvdW50ID0gc3RybGVuKCRtZXNzYWdl
KTsKCiAgICAgICAgaWYgKCRjb3VudDw9MTQwICYmICRjb3VudD4wKSB7IC8vIHBvc3QgdXBk
YXRlCiAgICAgICAgICAgICRyZXN1bHQgPSAkdHdpdC0+cG9zdCgnc3RhdHVzZXMvdXBkYXRl
JywgYXJyYXkoJ3N0YXR1cycgPT4gJG1lc3NhZ2UpKTsKICAgICAgICB9IGVsc2UgeyAvLyBt
ZXNzYWdlIHRvbyBsb25nLCBKYXZhU2NyaXB0IGludGVyZmFjZSBzaG91bGQgcHJldmVudCB0
aGlzCiAgICAgICAgICAgICRyZXN1bHQgPSBmYWxzZTsKICAgICAgICB9CgogICAgICAgIHBh
Z2V0b3AoJ1R3aXR0ZXInLAogICAgICAgICAgICAoKCRyZXN1bHQhPWZhbHNlKT8nVHdpdHRl
ciB1cGRhdGVkJzonRXJyb3IgdXBkYXRpbmcgVHdpdHRlcicpKTsKCiAgICB9IGVsc2VpZiAo
JHN0ZXA9PSJkZWxldGUiKSB7IC8vIGRlbGV0ZSBhbiB1cGRhdGUgZnJvbSBUd2l0dGVyCgog
ICAgICAgICRpZCA9IHN0cmlwX3RhZ3MoZ3BzKCdpZCcpKTsKICAgICAgICBpZiAoJGlkKSB7
CiAgICAgICAgICAgICR0d2l0LT5kZWxldGUoJ3N0YXR1c2VzL2Rlc3Ryb3knLiRpZCk7CiAg
ICAgICAgICAgIHNhZmVfZGVsZXRlKCdhcmNfdHdpdHRlcicsInR3ZWV0X2lkID0gJGlkIik7
CiAgICAgICAgfQoKICAgICAgICBwYWdldG9wKCdUd2l0dGVyJywnVHdpdHRlciB1cGRhdGVk
Jyk7CgogICAgfSBlbHNlIHsKCiAgICAgICAgcGFnZXRvcCgnVHdpdHRlcicpOwoKICAgIH0K
CiAgICAvLyBQcmVwYXJlIEphdmFTY3JpcHQgdG8gY3JlYXRlIFR3aXR0ZXIgdXBkYXRlIGlu
dGVyZmFjZQoKICAgICRqcyA9ICc8c2NyaXB0IGxhbmd1YWdlPSJqYXZhc2NyaXB0IiB0eXBl
PSJ0ZXh0L2phdmFzY3JpcHQiPic7CiAgICAkanMuPSAiJChkb2N1bWVudCkucmVhZHkoZnVu
Y3Rpb24oKXsKICAgICAgICAgICAgdmFyIGNvdW50ZXJTdHlsZSA9ICdmb250LXdlaWdodDpi
b2xkO2Zsb2F0OnJpZ2h0O2ZvbnQtc2l6ZToyZW07bGluZS1oZWlnaHQ6MS4yZW07JzsKICAg
ICAgICAgICAgJCgnI3R3ZWV0Y291bnQnKS5hdHRyKCdzdHlsZScsIGNvdW50ZXJTdHlsZSsn
Y29sb3I6I2NjYzsnKTsKICAgICAgICAgICAgJCgnI21lc3NhZ2UnKS5rZXl1cChmdW5jdGlv
bigpIHsKICAgICAgICAgICAgICAgIHZhciBjb3VudCA9IDE0MC0kKCcjbWVzc2FnZScpLnZh
bCgpLmxlbmd0aDsKICAgICAgICAgICAgICAgICQoJyN0d2VldGNvdW50JykuaHRtbChjb3Vu
dCsnJyk7IC8vIGhhY2sgdG8gZm9yY2Ugb3V0cHV0IG9mIDAKICAgICAgICAgICAgICAgIGlm
IChjb3VudDwwKSB7CiAgICAgICAgICAgICAgICAgICAgJCgnaW5wdXQucHVibGlzaCcpLmF0
dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7CiAgICAgICAgICAgICAgICB9IGVsc2Ugewog
ICAgICAgICAgICAgICAgICAgICQoJ2lucHV0LnB1Ymxpc2gnKS5hdHRyKCdkaXNhYmxlZCcs
ICcnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChjb3VudDwwKSB7
CiAgICAgICAgICAgICAgICAgICAgJCgnI3R3ZWV0Y291bnQnKS5hdHRyKCdzdHlsZScsIGNv
dW50ZXJTdHlsZSsnY29sb3I6I2YwMDsnKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAo
Y291bnQ8MTApIHsKICAgICAgICAgICAgICAgICAgICAkKCcjdHdlZXRjb3VudCcpLmF0dHIo
J3N0eWxlJywgY291bnRlclN0eWxlKydjb2xvcjojMDAwOycpOwogICAgICAgICAgICAgICAg
fSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkKCcjdHdlZXRjb3VudCcpLmF0dHIoJ3N0
eWxlJywgY291bnRlclN0eWxlKydjb2xvcjojY2NjOycpOwogICAgICAgICAgICAgICAgfQog
ICAgICAgICAgICB9KQogICAgICAgIH0pOyI7CiAgICAkanMuPSAiPC9zY3JpcHQ+IjsKCiAg
ICAkb3V0ID0gJyc7CiAgICAkeG1sID0gJHR3aXQtPmdldCgnc3RhdHVzZXMvdXNlcl90aW1l
bGluZScKICAgICAgICAsIGFycmF5KCdzY3JlZW5fbmFtZSc9PiRwcmVmc1snYXJjX3R3aXR0
ZXJfdXNlciddLCdjb3VudCc9PjI1KSk7CiAgICAkdHdlZXRzID0gQCR4bWwtPnhwYXRoKCcv
c3RhdHVzZXMvc3RhdHVzJyk7CiAgICBpZiAoJHR3ZWV0cykgZm9yZWFjaCAoJHR3ZWV0cyBh
cyAkdHdlZXQpIHsKICAgICAgICAkdGltZSA9IHN0cnRvdGltZShodG1sZW50aXRpZXMoJHR3
ZWV0LT5jcmVhdGVkX2F0KSk7CiAgICAgICAgJGRhdGUgPSBzYWZlX3N0cmZ0aW1lKCRwcmVm
c1snYXJjaGl2ZV9kYXRlZm9ybWF0J10sJHRpbWUpOwogICAgICAgICRvdXQuPSB0cih0ZCgk
ZGF0ZSwnc3BhbicpCiAgICAgICAgICAgIC50ZChhcmNfVHdpdHRlcjo6bWFrZUxpbmtzKGh0
bWxlbnRpdGllcygkdHdlZXQtPnRleHQKICAgICAgICAgICAgICAgICwgRU5UX1FVT1RFUywn
VVRGLTgnKSkpCiAgICAgICAgICAgIC50ZChkTGluaygnYXJjX2FkbWluX3R3aXR0ZXInLCdk
ZWxldGUnLCdpZCcsJHR3ZWV0LT5pZCwnJykpCiAgICAgICAgICAgICk7CiAgICB9CgogICAg
JGh0bWwgPSBzdGFydFRhYmxlKCdlZGl0JykKICAgICAgICAgICAgLnRyKHRkKAogICAgICAg
ICAgICBncmFmKCc8aW1nIHNyYz0iJy4kdHdpdHRlclVzZXItPnByb2ZpbGVfaW1hZ2VfdXJs
LiciIGFsdD0iVHdpdHRlciBhdmF0YXIiIC8+JwogICAgICAgICAgICAsJyBzdHlsZT0iZmxv
YXQ6bGVmdDtwYWRkaW5nOjJweDsiJykKICAgICAgICAgICAgLmdyYWYoaHJlZigkdHdpdHRl
clVzZXItPm5hbWUsJHR3aXR0ZXJVc2VyVVJMKSwnIHN0eWxlPSJmb250LXNpemU6MS4yZW07
Zm9udC13ZWlnaHQ6Ym9sZDsiJykKICAgICAgICAgICAgLmdyYWYoaHJlZigkdHdpdHRlclVz
ZXItPmZyaWVuZHNfY291bnQuJyBmb2xsb3dpbmcnLCR0d2l0dGVyVXNlclVSTC4nL2ZvbGxv
d2luZycpCiAgICAgICAgICAgIC4nLCAnLmhyZWYoJHR3aXR0ZXJVc2VyLT5mb2xsb3dlcnNf
Y291bnQuJyBmb2xsb3dlcnMnLCR0d2l0dGVyVXNlclVSTC4nL2ZvbGxvd2VycycpCiAgICAg
ICAgICAgIC4nLCAnLmhyZWYoJHR3aXR0ZXJVc2VyLT5zdGF0dXNlc19jb3VudC4nIHVwZGF0
ZXMnLCR0d2l0dGVyVXNlclVSTCkpKSkKICAgICAgICAgICAgLnRyKHRkKGZvcm0oCiAgICAg
ICAgICAgIGdyYWYoIlVwZGF0ZSBUd2l0dGVyLi4uPHNwYW4gaWQ9J3R3ZWV0Y291bnQnIHN0
eWxlPSdmb250LXdlaWdodDpib2xkO2Zsb2F0OnJpZ2h0Oyc+MTQwPC9zcGFuPiIpCiAgICAg
ICAgICAgIC50ZXh0X2FyZWEoJ21lc3NhZ2UnLCc1MCcsJzU1MCcsJycsJ21lc3NhZ2UnKQog
ICAgICAgICAgICAuZUlucHV0KCdhcmNfYWRtaW5fdHdpdHRlcicpCiAgICAgICAgICAgIC5z
SW5wdXQoJ3R3ZWV0JykuYnIKICAgICAgICAgICAgLmZJbnB1dCgnc3VibWl0JywndXBkYXRl
JyxnVHh0KCdVcGRhdGUnKSwncHVibGlzaCcpCiAgICAgICAgKSkpCiAgICAgICAgLmVuZFRh
YmxlKCk7CgogICAgLy8gQXR0YWNoIHJlY2VudCBUd2l0dGVyIHVwZGF0ZXMKCiAgICAkaHRt
bC49IHN0YXJ0VGFibGUoJ2xpc3QnLCcnLCcnLCcnLCc5MCUnKQogICAgICAgIC4kb3V0CiAg
ICAgICAgLmVuZFRhYmxlKCk7CgogICAgLy8gT3V0cHV0IEphdmFTY3JpcHQgYW5kIEhUTUwK
CiAgICBlY2hvICRqcy4kaHRtbDsKfQoKLy8gQWRkIFR3aXR0ZXIgb3B0aW9ucyB0byBhcnRp
Y2xlIGFydGljbGUgc2NyZWVuCmZ1bmN0aW9uIGFyY19hcHBlbmRfdHdpdHRlcigkZXZlbnQs
ICRzdGVwLCAkZGF0YSwgJHJzMSkKewogICAgZ2xvYmFsICRwcmVmcywgJGFyY190d2l0dGVy
OwogICAgJHByZWZpeCA9IHRyaW0oZ3BzKCdhcmNfdHdpdHRlcl9wcmVmaXgnKSk7CiAgICAk
cHJlZml4ID0gKCRwcmVmaXgpID8gJHByZWZpeCA6ICRwcmVmc1snYXJjX3R3aXR0ZXJfcHJl
Zml4J107CiAgICAkc3VmZml4ID0gdHJpbShncHMoJ2FyY190d2l0dGVyX3N1ZmZpeCcpKTsK
CiAgICBpZiAoJHJzMVsnSUQnXSkgewogICAgICAgICRzcWwgPSAiU0VMRUNUIHR3ZWV0X2lk
LHR3ZWV0IEZST00gIi5QRlguImFyY190d2l0dGVyIFdIRVJFIGFydGljbGVfaWQ9Ii4kcnMx
WydJRCddLiI7IjsKICAgICAgICAkcnMyID0gc2FmZV9xdWVyeSgkc3FsKTsgJHJzMiA9IG5l
eHRSb3coJHJzMik7CiAgICB9IGVsc2UgeyAvLyBuZXcgYXJ0aWNsZQogICAgICAgICRyczIg
PSAnJzsKICAgIH0KCiAgICBpZiAoJHJzMVsnSUQnXSAmJiAkcnMyWyd0d2VldF9pZCddKSB7
CiAgICAgICAgJGNvbnRlbnQgPSBhcmNfVHdpdHRlcjo6bWFrZUxpbmtzKCRyczJbJ3R3ZWV0
J10pOwogICAgICAgIHJldHVybiAkZGF0YS5maWVsZHNldCgkY29udGVudCwgJ1R3aXR0ZXIg
dXBkYXRlJywgJ2FyY190d2l0dGVyJyk7CiAgICB9IGVsc2UgewogICAgICAgICR2YXIgPSBn
cHMoJ2FyY190d2VldF90aGlzJyk7CiAgICAgICAgJHZhciA9ICgkcnMxWydJRCddJiYhJHZh
cikgPyAwIDogJHByZWZzWydhcmNfdHdpdHRlcl90d2VldF9kZWZhdWx0J107CiAgICAgICAg
JGNvbnRlbnQgID0gdGFnKHllc25vUmFkaW8oJ2FyY190d2VldF90aGlzJywgJHZhciwgJycs
ICdhcmNfdHdlZXRfdGhpcycpLCdwJyk7CiAgICAgICAgJGNvbnRlbnQgLj0gdGFnKGhyZWYo
J09wdGlvbnMnLCcjYXJjX3R3aXR0ZXJfb3B0aW9ucycpLCdwJywnIGNsYXNzPSJwbGFpbiBs
ZXZlciIgc3R5bGU9Im1hcmdpbi10b3A6NXB4OyInKTsKICAgICAgICAkY29udGVudCAuPSB0
YWcodGFnKHRhZygnVHdlZXQgcHJlZml4JywnbGFiZWwnLCAnIGZvcj0iYXJjX3R3aXR0ZXJf
cHJlZml4IicpCiAgICAgICAgICAgIC5mSW5wdXQoJ3RleHQnLCdhcmNfdHdpdHRlcl9wcmVm
aXgnLCRwcmVmaXgsJ2VkaXQnLCcnLCcnLCcyMicsJycsJ2FyY190d2l0dGVyX3ByZWZpeCcp
LCdwJykKICAgICAgICAgICAgLnRhZyh0YWcoJ1R3ZWV0IHN1ZmZpeCAoZWcgI2hhc2h0YWdz
KScsJ2xhYmVsJywgJyBmb3I9ImFyY190d2l0dGVyX3N1ZmZpeCInKQogICAgICAgICAgICAu
ZklucHV0KCd0ZXh0JywnYXJjX3R3aXR0ZXJfc3VmZml4Jywkc3VmZml4LCdlZGl0JywnJywn
JywnMjInLCcnLCdhcmNfdHdpdHRlcl9zdWZmaXgnKSwncCcpCiAgICAgICAgICAgICwnZGl2
JywnIGlkPSJhcmNfdHdpdHRlcl9vcHRpb25zIiBjbGFzcz0idG9nZ2xlIiBzdHlsZT0iZGlz
cGxheTpub25lIicpOwogICAgICAgIGlmIChpc3NldCgkYXJjX3R3aXR0ZXJbJ2Vycm9yJ10p
KSB7CiAgICAgICAgICAgICRjb250ZW50IC49ICc8cD4nLiRhcmNfdHdpdHRlclsnZXJyb3In
XS4nPC9wPic7CiAgICAgICAgfQogICAgICAgIHJldHVybiAkZGF0YS5maWVsZHNldCgkY29u
dGVudCwgJ1VwZGF0ZSBUd2l0dGVyJywgJ2FyY190d2l0dGVyJyk7CiAgICB9Cgp9CgovLyBV
cGRhdGUgVHdpdHRlciB3aXRoIHBvc3RlZCBhcnRpY2xlCmZ1bmN0aW9uIGFyY19hcnRpY2xl
X3R3ZWV0KCRldmVudCwkc3RlcCkKewogICAgZ2xvYmFsICRwcmVmcywgJGFyY190d2l0dGVy
LCAkYXJjX3R3aXR0ZXJfY29uc3VtZXJLZXkKICAgICAgICAsICRhcmNfdHdpdHRlcl9jb25z
dW1lclNlY3JldDsKCiAgICAkYXJ0aWNsZV9pZCA9IGVtcHR5KCRHTE9CQUxTWydJRCddKSA/
IGdwcygnSUQnKSA6ICRHTE9CQUxTWydJRCddOwogICAgaWYgKCFlbXB0eSgkYXJ0aWNsZV9p
ZCkpIHsKCiAgICAgICAgaW5jbHVkZV9vbmNlIHR4cGF0aC4nL3B1Ymxpc2gvdGFnaGFuZGxl
cnMucGhwJzsKCiAgICAgICAgJGFydGljbGUgPSBzYWZlX3JvdygiSUQsIFRpdGxlLCBTZWN0
aW9uLCBQb3N0ZWQiLCAndGV4dHBhdHRlcm4nLAogICAgICAgICAgICAiSUQ9eyRhcnRpY2xl
X2lkfSBBTkQgU3RhdHVzPTQgQU5EIG5vdygpPj1Qb3N0ZWQiKTsKCiAgICAgICAgaWYgKCRh
cnRpY2xlICYmIGdwcygnYXJjX3R3ZWV0X3RoaXMnKSkgeyAvLyB0d2VldCBhcnRpY2xlCgog
ICAgICAgICAgICAvLyBOZWVkIHRvIG1hbnVhbGx5IHVwZGF0ZSB0aGUgJ1VSTCBvbmx5IHRp
dGxlJyBiZWZvcmUgYnVpbGRpbmcgdGhlCiAgICAgICAgICAgIC8vIFVSTAogICAgICAgICAg
ICAkYXJ0aWNsZVsndXJsX3RpdGxlJ10gPSBncHMoJ3VybF90aXRsZScpOwogICAgICAgICAg
ICAvLyBNYWtlIHNob3J0IFVSTAogICAgICAgICAgICAkdXJsID0gcGVybWxpbmt1cmwoJGFy
dGljbGUpOwogICAgICAgICAgICAkc2hvcnRfdXJsID0gYXJjX3Nob3J0ZW5fdXJsKCR1cmws
JHByZWZzWydhcmNfdHdpdHRlcl91cmxfbWV0aG9kJ10sCiAgICAgICAgICAgICAgICBhcnJh
eSgnaWQnPT4kYXJ0aWNsZV9pZCkpOwoKICAgICAgICAgICAgaWYgKCEkc2hvcnRfdXJsKSB7
IC8vIEZhaWxlZCB0byBvYnRhaW4gYSBzaG9ydGVuZWQgVVJMLCBkbyBub3QgdHdlZXQhCiAg
ICAgICAgICAgICAgICAkYXJjX3R3aXR0ZXJbJ2Vycm9yJ10gPSAnVW5hYmxlIHRvIG9idGFp
biBhIHNob3J0IFVSTCBmb3IgdGhpcyBhcnRpY2xlLic7CgogICAgICAgICAgICAgICAgcmV0
dXJuIGZhbHNlOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBDb25zdHJ1Y3QgVHdp
dHRlciB1cGRhdGUKICAgICAgICAgICAgJHByZWZpeCAgPSB0cmltKGdwcygnYXJjX3R3aXR0
ZXJfcHJlZml4JykpOwogICAgICAgICAgICAkcHJlX2xlbiA9IHN0cmxlbigkcHJlZml4KTsK
ICAgICAgICAgICAgJHByZWZpeCAgPSAoJHByZWZpeCAmJiAkcHJlX2xlbjw9MjApID8gJHBy
ZWZpeC4nICcgOiAnJzsKICAgICAgICAgICAgJHN1ZmZpeCAgPSB0cmltKGdwcygnYXJjX3R3
aXR0ZXJfc3VmZml4JykpOwogICAgICAgICAgICAkc3VmX2xlbiA9IHN0cmxlbigkc3VmZml4
KTsKICAgICAgICAgICAgJHN1ZmZpeCAgPSAoJHN1ZmZpeCAmJiAkc3VmX2xlbjw9NDApID8g
JyAnLiRzdWZmaXggOiAnJzsKICAgICAgICAgICAgJHVybF9sZW4gPSBzdHJsZW4oJHNob3J0
X3VybCkrMTsgLy8gY291bnQgVVJMIGxlbmd0aCArIDEgZm9yIHByZWZpeGVkIHNwYWNlCiAg
ICAgICAgICAgIGlmICgkcHJlZml4KSAkcHJlX2xlbiArPSAxOwogICAgICAgICAgICBpZiAo
JHN1ZmZpeCkgJHN1Zl9sZW4gKz0gMTsKICAgICAgICAgICAgaWYgKChzdHJsZW4oJGFydGlj
bGVbJ1RpdGxlJ10pKyR1cmxfbGVuKyRwcmVfbGVuKyRzdWZfbGVuKT4xNDApIHsKICAgICAg
ICAgICAgICAgICRhcnRpY2xlWydUaXRsZSddID0gc3Vic3RyKCRhcnRpY2xlWydUaXRsZSdd
LDAsMTM1LSR1cmxfbGVuLSRwcmVfbGVuLSRzdWZfbGVuKS4nLi4uJzsKICAgICAgICAgICAg
fQogICAgICAgICAgICAkdHdlZXQgPSAkcHJlZml4LiRhcnRpY2xlWydUaXRsZSddLiIgIi4k
c2hvcnRfdXJsLiRzdWZmaXg7CgogICAgICAgICAgICAvLyBVcGRhdGUgVHdpdHRlcgogICAg
ICAgICAgICAkdHdpdCA9IG5ldyBhcmNfdHdpdHRlcigkYXJjX3R3aXR0ZXJfY29uc3VtZXJL
ZXkKICAgICAgICAgICAgICAgICwgJGFyY190d2l0dGVyX2NvbnN1bWVyU2VjcmV0LCAkcHJl
ZnNbJ2FyY190d2l0dGVyX2FjY2Vzc1Rva2VuJ10KICAgICAgICAgICAgICAgICwgJHByZWZz
WydhcmNfdHdpdHRlcl9hY2Nlc3NUb2tlblNlY3JldCddKTsKICAgICAgICAgICAgJHJlc3Vs
dCA9ICR0d2l0LT5wb3N0KCdzdGF0dXNlcy91cGRhdGUnLCBhcnJheSgnc3RhdHVzJyA9PiAk
dHdlZXQpKTsKCiAgICAgICAgICAgICR0d2VldF9pZCA9IChpc19vYmplY3QoJHJlc3VsdCkp
ID8gJHJlc3VsdFswXS0+aWQgOiAwOwoKICAgICAgICAgICAgaWYgKCR0d2VldF9pZCkgewoK
ICAgICAgICAgICAgICAgICR0d2VldCA9IGFkZHNsYXNoZXMoJHR3ZWV0KTsKCiAgICAgICAg
ICAgICAgICAvLyB1cGRhdGUgYXJjX3R3aXR0ZXIgdGFibGUgd2l0aCB0d2VldAogICAgICAg
ICAgICAgICAgJHNxbCA9ICJJTlNFUlQgSU5UTyAiLlBGWC4iYXJjX3R3aXR0ZXIgKGFydGlj
bGVfaWQsdHdlZXRfaWQsdHdlZXQsdGlueXVybCkgIjsKICAgICAgICAgICAgICAgICRzcWwu
PSAiVkFMVUVTKCRhcnRpY2xlX2lkLCR0d2VldF9pZCxcIiR0d2VldFwiLCckc2hvcnRfdXJs
Jyk7IjsKICAgICAgICAgICAgICAgIHNhZmVfcXVlcnkoJHNxbCk7CgogICAgICAgICAgICAg
ICAgcmV0dXJuIHRydWU7CgogICAgICAgICAgICB9IGVsc2UgewoKICAgICAgICAgICAgICAg
ICRhcmNfdHdpdHRlclsnZXJyb3InXSA9ICdUd2l0dGVyIHJlc3BvbnNlOiAnCiAgICAgICAg
ICAgICAgICAgICAgLiR0d2l0LT5odHRwX2NvZGU7CiAgICAgICAgICAgICAgICByZXR1cm4g
ZmFsc2U7CgogICAgICAgICAgICB9CgogICAgICAgIH0KCiAgICB9CgogICAgcmV0dXJuIGZh
bHNlOwoKfQoKLyoKICogU2hvcnRlbiBVUkxzIHVzaW5nIHZhcmlvdXMgbWV0aG9kcwogKi8K
CmZ1bmN0aW9uIGFyY19zaG9ydGVuX3VybCgkdXJsLCAkbWV0aG9kPScnLCAkYXR0cz1hcnJh
eSgpKQp7CiAgZ2xvYmFsICRwcmVmczsKCiAgJGNoID0gY3VybF9pbml0KCk7CiAgY3VybF9z
ZXRvcHQoJGNoLCBDVVJMT1BUX0hFQURFUiwgMCk7CiAgY3VybF9zZXRvcHQoJGNoLCBDVVJM
T1BUX1JFVFVSTlRSQU5TRkVSLCB0cnVlKTsKICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRf
VElNRU9VVCwgMTApOwoKICBzd2l0Y2ggKCRtZXRob2QpIHsKICAgIGNhc2UgJ3NtZCc6IC8v
IGNyZWF0ZSBhIHNob3J0ZW5lZCBVUkwgdXNpbmcgU01EIFNob3J0IFVSTAogICAgICByZXR1
cm4gKCRhdHRzWydpZCddKSA/IGh1LiRhdHRzWydpZCddIDogZmFsc2U7IGJyZWFrOwogICAg
Y2FzZSAnYXJjX3R3aXR0ZXInOiAvLyBuYXRpdmUgVVJMIHNob3J0ZW5pbmcKCiAgICAgIHJl
dHVybiAoJGF0dHNbJ2lkJ10pID8gUFJPVE9DT0wuJHByZWZzWydhcmNfc2hvcnRfc2l0ZV91
cmwnXS4nLycuJGF0dHNbJ2lkJ10gOiBmYWxzZTsKICAgICAgYnJlYWs7CgogICAgY2FzZSAn
aXNnZCc6CgogICAgICAkdSA9ICdodHRwOi8vaXMuZ2QvYXBpLnBocD9sb25ndXJsPScudXJs
ZW5jb2RlKCR1cmwpOwogICAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfVVJMLCAkdSk7
CgogICAgICAkdGlueXVybCA9IGN1cmxfZXhlYygkY2gpOwogICAgICBpZiAoJHRpbnl1cmwh
PSdFcnJvcicgJiYgJHRpbnl1cmwhPScnKSB7CiAgICAgICAgcmV0dXJuICR0aW55dXJsOwog
ICAgICB9IGVsc2UgewogICAgICAgIHRyaWdnZXJfZXJyb3IoJ2FyY190d2l0dGVyIGZhaWxl
ZCB0byBnZXQgYSBpcy5nZCBVUkwgZm9yICcKICAgICAgICAgICAgLiR1cmwsRV9VU0VSX1dB
Uk5JTkcpOwogICAgICB9CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ3Rpbnl1cmwnOiBkZWZh
dWx0OiAvLyBjcmVhdGUgYSBzaG9ydGVuZWQgVVJMIHVzaW5nIFRpbnlVUkwKCiAgICAgICR1
ID0gJ2h0dHA6Ly90aW55dXJsLmNvbS9hcGktY3JlYXRlLnBocD91cmw9Jy51cmxlbmNvZGUo
JHVybCk7CiAgICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9VUkwsICR1KTsKICAgICAg
JHRpbnl1cmwgPSBjdXJsX2V4ZWMoJGNoKTsKICAgICAgaWYgKCR0aW55dXJsIT0nRXJyb3In
ICYmICR0aW55dXJsIT0nJykgewogICAgICAgIHJldHVybiAkdGlueXVybDsKICAgICAgfSBl
bHNlIHsKICAgICAgICB0cmlnZ2VyX2Vycm9yKCdhcmNfdHdpdHRlciBmYWlsZWQgdG8gZ2V0
IGEgVGlueVVSTCBmb3IgJy4kdXJsLEVfVVNFUl9XQVJOSU5HKTsKICAgICAgfQoKICB9Cgog
IHJldHVybiBmYWxzZTsgLy8gZmFpbAoKfQoKLyoKICogU2hvcnRlbmVkIFVSTCByZWRpcmVj
dCBiYXNlZCBvbiBzbWRfc2hvcnRfdXJsCiAqLwpmdW5jdGlvbiBhcmNfc2hvcnRfdXJsX3Jl
ZGlyZWN0KCRldmVudCwgJHN0ZXApIHsKICBnbG9iYWwgJHByZWZzOwoKICAkaGF2ZV9pZCA9
IDA7CgogIC8vIENoZWNrIGlmIHRoZXJlIGlzIGFuIGF2YWlsYWJsZSBzaG9ydCBzaXRlIHVy
bCBhbmQgaWYgaXQgaXMgYmVpbmcgdXNlZCBpbgogIC8vIHRoaXMgaW5zdGFuY2UKICAkc2hv
cnRfc2l0ZV91cmwgPSAkcHJlZnNbJ2FyY19zaG9ydF9zaXRlX3VybCddOwogIGlmICgkc2hv
cnRfc2l0ZV91cmwpIHsKICAgICRzaG9ydF9zaXRlX3VybCA9IFBST1RPQ09MLiRzaG9ydF9z
aXRlX3VybC4nLyc7CiAgICAkdXJsX3BhcnRzID0gcGFyc2VfdXJsKCRzaG9ydF9zaXRlX3Vy
bCk7CiAgICAkcmUgPSAnI14nLiR1cmxfcGFydHNbJ3BhdGgnXS4nKFswLTldLiopIyc7CiAg
ICAkaGF2ZV9pZCA9IHByZWdfbWF0Y2goJHJlLCAkX1NFUlZFUlsnUkVRVUVTVF9VUkknXSwg
JG0pOwogIH0KCiAgLy8gRmFsbCBiYWNrIHRvIHN0YW5kYXJkIHNpdGUgdXJsIChzbWRfc2hv
cnRfdXJsIGJlaGF2aW91cikKICBpZiAoJGhhdmVfaWQpIHsKICAgICR1cmxfcGFydHMgPSBw
YXJzZV91cmwoaHUpOwogICAgJHJlID0gJyNeJy4kdXJsX3BhcnRzWydwYXRoJ10uJyhbMC05
XS4qKSMnOwogICAgJGhhdmVfaWQgPSBwcmVnX21hdGNoKCRyZSwgJF9TRVJWRVJbJ1JFUVVF
U1RfVVJJJ10sICRtKTsKICB9CgogIC8vIERvIHRoZSByZWRpcmVjdCBpZiB3ZSd2ZSBnb3Qg
YW4gYXJ0aWNsZSBpZAogIGlmICgkaGF2ZV9pZCkgewoJICAkaWQgPSAkbVsxXTsKCSAgJHBl
cm1saW5rID0gcGVybWxpbmt1cmxfaWQoJGlkKTsKCgkgIGlmICgkcGVybWxpbmspIHsKCQkg
IG9iX2VuZF9jbGVhbigpOwoKCQkgIC8vIFN0dXBpZCwgb3ZlciB0aGUgdG9wIGhlYWRlciBz
ZXR0aW5nIGZvciBJRQoJCSAgaGVhZGVyKCJTdGF0dXM6IDMwMSIpOwoJCSAgaGVhZGVyKCJI
VFRQLzEuMCAzMDEgTW92ZWQgUGVybWFuZW50bHkiKTsKCQkgIGhlYWRlcigiTG9jYXRpb246
ICIuJHBlcm1saW5rLCBUUlVFLCAzMDEpOwoKCQkgIC8vIEluIGNhc2UgdGhlIGhlYWRlcigp
IG1ldGhvZCBmYWlscywgZmFsbCBiYWNrIG9uIGEgY2xhc3NpYyByZWRpcmVjdAoJCSAgZWNo
byAnPGh0bWw+PGhlYWQ+PE1FVEEgSFRUUC1FUVVJVj0iUmVmcmVzaCIgQ09OVEVOVD0iMDtV
Ukw9JwoJCSAgICAuJHBlcm1saW5rLiciPjwvaGVhZD48Ym9keT48L2JvZHk+PC9odG1sPic7
CgkJICBkaWUoKTsKCSAgfQogIH0KCn0KCi8qCiAqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
CiovCgpjbGFzcyBhcmNfdHdpdHRlciBleHRlbmRzIFR3aXR0ZXJPQXV0aCB7CiAgICAvLyBD
YWNoaW5nIHZhcmlhYmxlcwogICAgcHJpdmF0ZSAkX2NhY2hlID0gdHJ1ZTsKICAgIHByaXZh
dGUgJF9jYWNoZV9kaXIgPSAnLi90bXAnOwogICAgcHJpdmF0ZSAkX2NhY2hlX3RpbWUgPSAx
ODAwOyAvLyAzMCBtaW51dGUgY2FjaGUKCiAgICBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkY29u
c3VtZXJfa2V5LCAkY29uc3VtZXJfc2VjcmV0LCAkb2F1dGhfdG9rZW4gPSBOVUxMCiAgICAg
ICAgLCAkb2F1dGhfdG9rZW5fc2VjcmV0ID0gTlVMTCkKICAgIHsKICAgICAgICBwYXJlbnQ6
Ol9fY29uc3RydWN0KCRjb25zdW1lcl9rZXksICRjb25zdW1lcl9zZWNyZXQsICRvYXV0aF90
b2tlbgogICAgICAgICAgICAsICRvYXV0aF90b2tlbl9zZWNyZXQpOwogICAgICAgICR0aGlz
LT5mb3JtYXQgPSAneG1sJzsKICAgICAgICAkdGhpcy0+dGltZW91dCA9IDE1OwogICAgICAg
ICR0aGlzLT5jb25uZWN0dGltZW91dCA9IDE1OwogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlv
biBjYWxsYmFja1VSTCgkZXZlbnQsJHN0ZXApCiAgICB7CiAgICAgICAgcmV0dXJuIHByZWdf
cmVwbGFjZSgnL1w/LiovJywgJycsUFJPVE9DT0wuJF9TRVJWRVJbJ1NFUlZFUl9OQU1FJ10u
JF9TRVJWRVJbJ1JFUVVFU1RfVVJJJ10pCiAgICAgICAgICAuJz9ldmVudD0nLiRldmVudC4n
JmFtcDtzdGVwPScuJHN0ZXA7CiAgICB9CgogICAgLy8gY3JlYXRlIFR3aXR0ZXIgYW5kIGV4
dGVybmFsIGxpbmtzIGluIHRleHQKICAgIHB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gbWFrZUxp
bmtzKCR0ZXh0KQogICAgewogICAgICAgICR1cmwgPSAnL1xiKGh0dHB8aHR0cHN8ZnRwKTpc
L1wvKFtBLVowLTldW0EtWjAtOV8tXSooPzpcLltBLVowLTldW0EtWjAtOV8tXSopKyk6Pyhc
ZCspP1wvPyhbXC9cdytcLl0rKVxiL2knOwogICAgICAgICR0ZXh0ID0gcHJlZ19yZXBsYWNl
KCR1cmwsICI8YSBocmVmPSckMCc+JDA8L2E+IiwgJHRleHQpOwogICAgICAgICR1cmwgPSAn
L1xiKF58XHMpd3d3LihbYS16X0EtWjAtOV0rKSgoXC5bYS16XSspKylcYi9pJzsKICAgICAg
ICAkdGV4dCA9IHByZWdfcmVwbGFjZSgkdXJsLCAiPGEgaHJlZj0naHR0cDovL3d3dy4kMiQz
Jz53d3cuJDIkMzwvYT4iLCAkdGV4dCk7CiAgICAgICAgJHRleHQgPSBwcmVnX3JlcGxhY2Uo
Ii8oXnxccylAKFthLXpfQS1aMC05XSspLyIsCiAgICAgICAgICAgICIkMUA8YSBocmVmPSdo
dHRwOi8vdHdpdHRlci5jb20vJDInPiQyPC9hPiIsJHRleHQpOwogICAgICAgICR0ZXh0ID0g
cHJlZ19yZXBsYWNlKCIvKF58XHMpKFwjKFthLXpfQS1aMC05Ol8tXSspKS8iLAogICAgICAg
ICAgICAiJDE8YSBocmVmPSdodHRwOi8vdHdpdHRlci5jb20vc2VhcmNoP3E9JTIzJDMnPiQy
PC9hPiIsJHRleHQpOwogICAgICAgIHJldHVybiAkdGV4dDsKICB9CgogICAgcHVibGljIGZ1
bmN0aW9uIGdldCgkdXJsLCAkcGFyYW1zID0gYXJyYXkoKSkKICAgIHsKICAgICAgICAkYXBp
X3VybCA9IG1kNSgkdXJsLnVybGVuY29kZShzZXJpYWxpemUoJHBhcmFtcykpKTsKICAgICAg
ICAkZGF0YSA9ICcnOwoKICAgICAgICBpZiAoJHRoaXMtPl9jYWNoZSkgeyAvLyBjaGVjayBm
b3IgY2FjaGVkIHhtbAoKICAgICAgICAgICAgJGRhdGEgPSAkdGhpcy0+X3JldHJpZXZlQ2Fj
aGUoJGFwaV91cmwpOwoKICAgICAgICB9CiAgICAgICAgaWYgKGVtcHR5KCRkYXRhKSkgewog
ICAgICAgICAgICAkZGF0YSA9IHBhcmVudDo6Z2V0KCR1cmwsICRwYXJhbXMpOwogICAgICAg
ICAgICBpZiAoJHRoaXMtPmh0dHBfY29kZT09PTIwMCAmJiAkeG1sPXNpbXBsZXhtbF9sb2Fk
X3N0cmluZygkZGF0YSkpIHsgLy8gc2F2ZSBjYWNoZQogICAgICAgICAgICAgICAgJGZpbGUg
PSAkdGhpcy0+X2NhY2hlX2Rpci4nLycuJGFwaV91cmw7CiAgICAgICAgICAgICAgICBmaWxl
X3B1dF9jb250ZW50cygkZmlsZSwkZGF0YSxMT0NLX0VYKTsKICAgICAgICAgICAgICAgIHJl
dHVybiAkeG1sOwogICAgICAgICAgICB9IGVsc2UgeyAvLyBmYWlsZWQgdG8gcmV0cmlldmUg
ZGF0YSBmcm9tIFR3aXR0ZXIKCiAgICAgICAgICAgICAgICBpZiAoJHRoaXMtPl9jYWNoZSkg
eyAvLyBhdHRlbXB0IHRvIGZvcmNlIGNhY2hlZCB4bWwgcmV0dXJuCgogICAgICAgICAgICAg
ICAgICAgICRkYXRhID0gJHRoaXMtPl9yZXRyaWV2ZUNhY2hlKCRhcGlfdXJsLHRydWUpOwog
ICAgICAgICAgICAgICAgICAgIGlmICgkZGF0YSkgcmV0dXJuIEBzaW1wbGV4bWxfbG9hZF9z
dHJpbmcoJGRhdGEpOwoKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1
cm4gZmFsc2U7CgogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsgLy8gcmV0dXJuIGNh
Y2hlZCB4bWwKICAgICAgICAgICAgcmV0dXJuIEBzaW1wbGV4bWxfbG9hZF9zdHJpbmcoJGRh
dGEpOwogICAgICAgIH0KICAgIH0gLy9lbmQgZ2V0KCkKCiAgICBmdW5jdGlvbiBwb3N0KCR1
cmwsICRwYXJhbXMgPSBhcnJheSgpKQogICAgewogICAgICAgICRkYXRhID0gcGFyZW50Ojpw
b3N0KCR1cmwsJHBhcmFtcyk7CiAgICAgICAgcmV0dXJuIHNpbXBsZXhtbF9sb2FkX3N0cmlu
ZygkZGF0YSk7CiAgICB9CgogICAgZnVuY3Rpb24gZGVsZXRlKCR1cmwsICRwYXJhbXMgPSBh
cnJheSgpKQogICAgewogICAgICAgICRkYXRhID0gcGFyZW50OjpkZWxldGUoJHVybCwkcGFy
YW1zKTsKICAgICAgICByZXR1cm4gc2ltcGxleG1sX2xvYWRfc3RyaW5nKCRkYXRhKTsKICAg
IH0KCiAgICAvLyBDYWNoZSBtZXRob2RzCgogICAgcHVibGljIGZ1bmN0aW9uIHNldENhY2hp
bmcoJGNhY2hlPXRydWUpCiAgICB7CiAgICAgICAgJHRoaXMtPl9jYWNoZSA9ICgkY2FjaGUp
ID8gdHJ1ZSA6IGZhbHNlOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIHB1Ymxp
YyBmdW5jdGlvbiBjYWNoZURpcigkbG9jKQogICAgewogICAgICAgICR0aGlzLT5fY2FjaGVf
ZGlyID0gJGxvYzsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBwdWJsaWMgZnVu
Y3Rpb24gY2FjaGVUaW1lKCRtaW5zKQogICAgewogICAgICAgICR0aGlzLT5fY2FjaGVfdGlt
ZSA9ICRtaW5zKjYwOyAvLyBjb252ZXJ0IG1pbnV0ZXMgaW50byBzZWNvbmRzCiAgICAgICAg
cmV0dXJuIHRydWU7CiAgICB9CgogICAgcHJpdmF0ZSBmdW5jdGlvbiBfcmV0cmlldmVDYWNo
ZSgkdXJsLCRvdmVyaWRlX3RpbWVvdXQ9ZmFsc2UpCiAgICB7CiAgICAgICAgJGZpbGUgPSAk
dGhpcy0+X2NhY2hlX2Rpci4nLycuJHVybDsKICAgICAgICBpZiAoZmlsZV9leGlzdHMoJGZp
bGUpKSB7CgogICAgICAgICAgICAkZGlmZiA9IHRpbWUoKSAtIGZpbGVtdGltZSgkZmlsZSk7
CiAgICAgICAgICAgIGlmICgkb3ZlcmlkZV90aW1lb3V0IHx8ICRkaWZmIDwgJHRoaXMtPl9j
YWNoZV90aW1lKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmlsZV9nZXRfY29udGVudHMo
JGZpbGUpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIGZh
bHNlOwogICAgICAgICAgICB9CgogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVy
biBmYWxzZTsKICAgICAgICB9CiAgICB9Cn0KCi8qCiAqIEFicmFoYW0gV2lsbGlhbXMgKGFi
cmFoYW1AYWJyYWguYW0pIGh0dHA6Ly9hYnJhaC5hbQogKgogKiBUaGUgZmlyc3QgUEhQIExp
YnJhcnkgdG8gc3VwcG9ydCBPQXV0aCBmb3IgVHdpdHRlcidzIFJFU1QgQVBJLgogKi8KCi8q
KgogKiBUd2l0dGVyIE9BdXRoIGNsYXNzCiAqLwpjbGFzcyBUd2l0dGVyT0F1dGggewogIC8q
IENvbnRhaW5zIHRoZSBsYXN0IEhUVFAgc3RhdHVzIGNvZGUgcmV0dXJuZWQuICovCiAgcHVi
bGljICRodHRwX2NvZGU7CiAgLyogQ29udGFpbnMgdGhlIGxhc3QgQVBJIGNhbGwuICovCiAg
cHVibGljICR1cmw7CiAgLyogU2V0IHVwIHRoZSBBUEkgcm9vdCBVUkwuICovCiAgcHVibGlj
ICRob3N0ID0gImh0dHBzOi8vYXBpLnR3aXR0ZXIuY29tLzEvIjsKICAvKiBTZXQgdGltZW91
dCBkZWZhdWx0LiAqLwogIHB1YmxpYyAkdGltZW91dCA9IDMwOwogIC8qIFNldCBjb25uZWN0
IHRpbWVvdXQuICovCiAgcHVibGljICRjb25uZWN0dGltZW91dCA9IDMwOwogIC8qIFZlcmlm
eSBTU0wgQ2VydC4gKi8KICBwdWJsaWMgJHNzbF92ZXJpZnlwZWVyID0gRkFMU0U7CiAgLyog
UmVzcG9ucyBmb3JtYXQuICovCiAgcHVibGljICRmb3JtYXQgPSAnanNvbic7CiAgLyogRGVj
b2RlIHJldHVybmVkIGpzb24gZGF0YS4gKi8KICBwdWJsaWMgJGRlY29kZV9qc29uID0gVFJV
RTsKICAvKiBDb250YWlucyB0aGUgbGFzdCBIVFRQIGhlYWRlcnMgcmV0dXJuZWQuICovCiAg
cHVibGljICRodHRwX2luZm87CiAgLyogU2V0IHRoZSB1c2VyYWduZXQuICovCiAgcHVibGlj
ICR1c2VyYWdlbnQgPSAnVHdpdHRlck9BdXRoIHYwLjIuMC1iZXRhMic7CiAgLyogSW1tZWRp
YXRlbHkgcmV0cnkgdGhlIEFQSSBjYWxsIGlmIHRoZSByZXNwb25zZSB3YXMgbm90IHN1Y2Nl
c3NmdWwuICovCiAgLy9wdWJsaWMgJHJldHJ5ID0gVFJVRTsKCgoKCiAgLyoqCiAgICogU2V0
IEFQSSBVUkxTCiAgICovCiAgZnVuY3Rpb24gYWNjZXNzVG9rZW5VUkwoKSAgeyByZXR1cm4g
J2h0dHBzOi8vYXBpLnR3aXR0ZXIuY29tL29hdXRoL2FjY2Vzc190b2tlbic7IH0KICBmdW5j
dGlvbiBhdXRoZW50aWNhdGVVUkwoKSB7IHJldHVybiAnaHR0cHM6Ly90d2l0dGVyLmNvbS9v
YXV0aC9hdXRoZW50aWNhdGUnOyB9CiAgZnVuY3Rpb24gYXV0aG9yaXplVVJMKCkgICAgeyBy
ZXR1cm4gJ2h0dHBzOi8vdHdpdHRlci5jb20vb2F1dGgvYXV0aG9yaXplJzsgfQogIGZ1bmN0
aW9uIHJlcXVlc3RUb2tlblVSTCgpIHsgcmV0dXJuICdodHRwczovL2FwaS50d2l0dGVyLmNv
bS9vYXV0aC9yZXF1ZXN0X3Rva2VuJzsgfQoKICAvKioKICAgKiBEZWJ1ZyBoZWxwZXJzCiAg
ICovCiAgZnVuY3Rpb24gbGFzdFN0YXR1c0NvZGUoKSB7IHJldHVybiAkdGhpcy0+aHR0cF9z
dGF0dXM7IH0KICBmdW5jdGlvbiBsYXN0QVBJQ2FsbCgpIHsgcmV0dXJuICR0aGlzLT5sYXN0
X2FwaV9jYWxsOyB9CgogIC8qKgogICAqIGNvbnN0cnVjdCBUd2l0dGVyT0F1dGggb2JqZWN0
CiAgICovCiAgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJGNvbnN1bWVyX2tleSwgJGNvbnN1bWVy
X3NlY3JldCwgJG9hdXRoX3Rva2VuID0gTlVMTCwgJG9hdXRoX3Rva2VuX3NlY3JldCA9IE5V
TEwpIHsKICAgICR0aGlzLT5zaGExX21ldGhvZCA9IG5ldyBPQXV0aFNpZ25hdHVyZU1ldGhv
ZF9ITUFDX1NIQTEoKTsKICAgICR0aGlzLT5jb25zdW1lciA9IG5ldyBPQXV0aENvbnN1bWVy
KCRjb25zdW1lcl9rZXksICRjb25zdW1lcl9zZWNyZXQpOwogICAgaWYgKCFlbXB0eSgkb2F1
dGhfdG9rZW4pICYmICFlbXB0eSgkb2F1dGhfdG9rZW5fc2VjcmV0KSkgewogICAgICAkdGhp
cy0+dG9rZW4gPSBuZXcgT0F1dGhDb25zdW1lcigkb2F1dGhfdG9rZW4sICRvYXV0aF90b2tl
bl9zZWNyZXQpOwogICAgfSBlbHNlIHsKICAgICAgJHRoaXMtPnRva2VuID0gTlVMTDsKICAg
IH0KICB9CgoKICAvKioKICAgKiBHZXQgYSByZXF1ZXN0X3Rva2VuIGZyb20gVHdpdHRlcgog
ICAqCiAgICogQHJldHVybnMgYSBrZXkvdmFsdWUgYXJyYXkgY29udGFpbmluZyBvYXV0aF90
b2tlbiBhbmQgb2F1dGhfdG9rZW5fc2VjcmV0CiAgICovCiAgZnVuY3Rpb24gZ2V0UmVxdWVz
dFRva2VuKCRvYXV0aF9jYWxsYmFjayA9IE5VTEwpIHsKICAgICRwYXJhbWV0ZXJzID0gYXJy
YXkoKTsKICAgIGlmICghZW1wdHkoJG9hdXRoX2NhbGxiYWNrKSkgewogICAgICAkcGFyYW1l
dGVyc1snb2F1dGhfY2FsbGJhY2snXSA9ICRvYXV0aF9jYWxsYmFjazsKICAgIH0KICAgICRy
ZXF1ZXN0ID0gJHRoaXMtPm9BdXRoUmVxdWVzdCgkdGhpcy0+cmVxdWVzdFRva2VuVVJMKCks
ICdHRVQnLCAkcGFyYW1ldGVycyk7CiAgICAkdG9rZW4gPSBPQXV0aFV0aWw6OnBhcnNlX3Bh
cmFtZXRlcnMoJHJlcXVlc3QpOwogICAgJHRoaXMtPnRva2VuID0gbmV3IE9BdXRoQ29uc3Vt
ZXIoJHRva2VuWydvYXV0aF90b2tlbiddLCAkdG9rZW5bJ29hdXRoX3Rva2VuX3NlY3JldCdd
KTsKICAgIHJldHVybiAkdG9rZW47CiAgfQoKICAvKioKICAgKiBHZXQgdGhlIGF1dGhvcml6
ZSBVUkwKICAgKgogICAqIEByZXR1cm5zIGEgc3RyaW5nCiAgICovCiAgZnVuY3Rpb24gZ2V0
QXV0aG9yaXplVVJMKCR0b2tlbiwgJHNpZ25faW5fd2l0aF90d2l0dGVyID0gVFJVRSkgewog
ICAgaWYgKGlzX2FycmF5KCR0b2tlbikpIHsKICAgICAgJHRva2VuID0gJHRva2VuWydvYXV0
aF90b2tlbiddOwogICAgfQogICAgaWYgKGVtcHR5KCRzaWduX2luX3dpdGhfdHdpdHRlcikp
IHsKICAgICAgcmV0dXJuICR0aGlzLT5hdXRob3JpemVVUkwoKSAuICI/b2F1dGhfdG9rZW49
eyR0b2tlbn0iOwogICAgfSBlbHNlIHsKICAgICAgIHJldHVybiAkdGhpcy0+YXV0aGVudGlj
YXRlVVJMKCkgLiAiP29hdXRoX3Rva2VuPXskdG9rZW59IjsKICAgIH0KICB9CgogIC8qKgog
ICAqIEV4Y2hhbmdlIHJlcXVlc3QgdG9rZW4gYW5kIHNlY3JldCBmb3IgYW4gYWNjZXNzIHRv
a2VuIGFuZAogICAqIHNlY3JldCwgdG8gc2lnbiBBUEkgY2FsbHMuCiAgICoKICAgKiBAcmV0
dXJucyBhcnJheSgib2F1dGhfdG9rZW4iID0+ICJ0aGUtYWNjZXNzLXRva2VuIiwKICAgKiAg
ICAgICAgICAgICAgICAib2F1dGhfdG9rZW5fc2VjcmV0IiA9PiAidGhlLWFjY2Vzcy1zZWNy
ZXQiLAogICAqICAgICAgICAgICAgICAgICJ1c2VyX2lkIiA9PiAiOTQzNjk5MiIsCiAgICog
ICAgICAgICAgICAgICAgInNjcmVlbl9uYW1lIiA9PiAiYWJyYWhhbSIpCiAgICovCiAgZnVu
Y3Rpb24gZ2V0QWNjZXNzVG9rZW4oJG9hdXRoX3ZlcmlmaWVyID0gRkFMU0UpIHsKICAgICRw
YXJhbWV0ZXJzID0gYXJyYXkoKTsKICAgIGlmICghZW1wdHkoJG9hdXRoX3ZlcmlmaWVyKSkg
ewogICAgICAkcGFyYW1ldGVyc1snb2F1dGhfdmVyaWZpZXInXSA9ICRvYXV0aF92ZXJpZmll
cjsKICAgIH0KICAgICRyZXF1ZXN0ID0gJHRoaXMtPm9BdXRoUmVxdWVzdCgkdGhpcy0+YWNj
ZXNzVG9rZW5VUkwoKSwgJ0dFVCcsICRwYXJhbWV0ZXJzKTsKICAgICR0b2tlbiA9IE9BdXRo
VXRpbDo6cGFyc2VfcGFyYW1ldGVycygkcmVxdWVzdCk7CiAgICAkdGhpcy0+dG9rZW4gPSBu
ZXcgT0F1dGhDb25zdW1lcigkdG9rZW5bJ29hdXRoX3Rva2VuJ10sICR0b2tlblsnb2F1dGhf
dG9rZW5fc2VjcmV0J10pOwogICAgcmV0dXJuICR0b2tlbjsKICB9CgogIC8qKgogICAqIE9u
ZSB0aW1lIGV4Y2hhbmdlIG9mIHVzZXJuYW1lIGFuZCBwYXNzd29yZCBmb3IgYWNjZXNzIHRv
a2VuIGFuZCBzZWNyZXQuCiAgICoKICAgKiBAcmV0dXJucyBhcnJheSgib2F1dGhfdG9rZW4i
ID0+ICJ0aGUtYWNjZXNzLXRva2VuIiwKICAgKiAgICAgICAgICAgICAgICAib2F1dGhfdG9r
ZW5fc2VjcmV0IiA9PiAidGhlLWFjY2Vzcy1zZWNyZXQiLAogICAqICAgICAgICAgICAgICAg
ICJ1c2VyX2lkIiA9PiAiOTQzNjk5MiIsCiAgICogICAgICAgICAgICAgICAgInNjcmVlbl9u
YW1lIiA9PiAiYWJyYWhhbSIsCiAgICogICAgICAgICAgICAgICAgInhfYXV0aF9leHBpcmVz
IiA9PiAiMCIpCiAgICovCiAgZnVuY3Rpb24gZ2V0WEF1dGhUb2tlbigkdXNlcm5hbWUsICRw
YXNzd29yZCkgewogICAgJHBhcmFtZXRlcnMgPSBhcnJheSgpOwogICAgJHBhcmFtZXRlcnNb
J3hfYXV0aF91c2VybmFtZSddID0gJHVzZXJuYW1lOwogICAgJHBhcmFtZXRlcnNbJ3hfYXV0
aF9wYXNzd29yZCddID0gJHBhc3N3b3JkOwogICAgJHBhcmFtZXRlcnNbJ3hfYXV0aF9tb2Rl
J10gPSAnY2xpZW50X2F1dGgnOwogICAgJHJlcXVlc3QgPSAkdGhpcy0+b0F1dGhSZXF1ZXN0
KCR0aGlzLT5hY2Nlc3NUb2tlblVSTCgpLCAnUE9TVCcsICRwYXJhbWV0ZXJzKTsKICAgICR0
b2tlbiA9IE9BdXRoVXRpbDo6cGFyc2VfcGFyYW1ldGVycygkcmVxdWVzdCk7CiAgICAkdGhp
cy0+dG9rZW4gPSBuZXcgT0F1dGhDb25zdW1lcigkdG9rZW5bJ29hdXRoX3Rva2VuJ10sICR0
b2tlblsnb2F1dGhfdG9rZW5fc2VjcmV0J10pOwogICAgcmV0dXJuICR0b2tlbjsKICB9Cgog
IC8qKgogICAqIEdFVCB3cmFwcGVyIGZvciBvQXV0aFJlcXVlc3QuCiAgICovCiAgZnVuY3Rp
b24gZ2V0KCR1cmwsICRwYXJhbWV0ZXJzID0gYXJyYXkoKSkgewogICAgJHJlc3BvbnNlID0g
JHRoaXMtPm9BdXRoUmVxdWVzdCgkdXJsLCAnR0VUJywgJHBhcmFtZXRlcnMpOwogICAgaWYg
KCR0aGlzLT5mb3JtYXQgPT09ICdqc29uJyAmJiAkdGhpcy0+ZGVjb2RlX2pzb24pIHsKICAg
ICAgcmV0dXJuIGpzb25fZGVjb2RlKCRyZXNwb25zZSk7CiAgICB9CiAgICByZXR1cm4gJHJl
c3BvbnNlOwogIH0KCiAgLyoqCiAgICogUE9TVCB3cmFwcGVyIGZvciBvQXV0aFJlcXVlc3Qu
CiAgICovCiAgZnVuY3Rpb24gcG9zdCgkdXJsLCAkcGFyYW1ldGVycyA9IGFycmF5KCkpIHsK
ICAgICRyZXNwb25zZSA9ICR0aGlzLT5vQXV0aFJlcXVlc3QoJHVybCwgJ1BPU1QnLCAkcGFy
YW1ldGVycyk7CiAgICBpZiAoJHRoaXMtPmZvcm1hdCA9PT0gJ2pzb24nICYmICR0aGlzLT5k
ZWNvZGVfanNvbikgewogICAgICByZXR1cm4ganNvbl9kZWNvZGUoJHJlc3BvbnNlKTsKICAg
IH0KICAgIHJldHVybiAkcmVzcG9uc2U7CiAgfQoKICAvKioKICAgKiBERUxFVEUgd3JhcHBl
ciBmb3Igb0F1dGhSZXFldXN0LgogICAqLwogIGZ1bmN0aW9uIGRlbGV0ZSgkdXJsLCAkcGFy
YW1ldGVycyA9IGFycmF5KCkpIHsKICAgICRyZXNwb25zZSA9ICR0aGlzLT5vQXV0aFJlcXVl
c3QoJHVybCwgJ0RFTEVURScsICRwYXJhbWV0ZXJzKTsKICAgIGlmICgkdGhpcy0+Zm9ybWF0
ID09PSAnanNvbicgJiYgJHRoaXMtPmRlY29kZV9qc29uKSB7CiAgICAgIHJldHVybiBqc29u
X2RlY29kZSgkcmVzcG9uc2UpOwogICAgfQogICAgcmV0dXJuICRyZXNwb25zZTsKICB9Cgog
IC8qKgogICAqIEZvcm1hdCBhbmQgc2lnbiBhbiBPQXV0aCAvIEFQSSByZXF1ZXN0CiAgICov
CiAgZnVuY3Rpb24gb0F1dGhSZXF1ZXN0KCR1cmwsICRtZXRob2QsICRwYXJhbWV0ZXJzKSB7
CiAgICBpZiAoc3RycnBvcygkdXJsLCAnaHR0cHM6Ly8nKSAhPT0gMCAmJiBzdHJycG9zKCR1
cmwsICdodHRwOi8vJykgIT09IDApIHsKICAgICAgJHVybCA9ICJ7JHRoaXMtPmhvc3R9eyR1
cmx9LnskdGhpcy0+Zm9ybWF0fSI7CiAgICB9CiAgICAkcmVxdWVzdCA9IE9BdXRoUmVxdWVz
dDo6ZnJvbV9jb25zdW1lcl9hbmRfdG9rZW4oJHRoaXMtPmNvbnN1bWVyLCAkdGhpcy0+dG9r
ZW4sICRtZXRob2QsICR1cmwsICRwYXJhbWV0ZXJzKTsKICAgICRyZXF1ZXN0LT5zaWduX3Jl
cXVlc3QoJHRoaXMtPnNoYTFfbWV0aG9kLCAkdGhpcy0+Y29uc3VtZXIsICR0aGlzLT50b2tl
bik7CiAgICBzd2l0Y2ggKCRtZXRob2QpIHsKICAgIGNhc2UgJ0dFVCc6CiAgICAgIHJldHVy
biAkdGhpcy0+aHR0cCgkcmVxdWVzdC0+dG9fdXJsKCksICdHRVQnKTsKICAgIGRlZmF1bHQ6
CiAgICAgIHJldHVybiAkdGhpcy0+aHR0cCgkcmVxdWVzdC0+Z2V0X25vcm1hbGl6ZWRfaHR0
cF91cmwoKSwgJG1ldGhvZCwgJHJlcXVlc3QtPnRvX3Bvc3RkYXRhKCkpOwogICAgfQogIH0K
CiAgLyoqCiAgICogTWFrZSBhbiBIVFRQIHJlcXVlc3QKICAgKgogICAqIEByZXR1cm4gQVBJ
IHJlc3VsdHMKICAgKi8KICBmdW5jdGlvbiBodHRwKCR1cmwsICRtZXRob2QsICRwb3N0Zmll
bGRzID0gTlVMTCkgewogICAgJHRoaXMtPmh0dHBfaW5mbyA9IGFycmF5KCk7CiAgICAkY2kg
PSBjdXJsX2luaXQoKTsKICAgIC8qIEN1cmwgc2V0dGluZ3MgKi8KICAgIGN1cmxfc2V0b3B0
KCRjaSwgQ1VSTE9QVF9VU0VSQUdFTlQsICR0aGlzLT51c2VyYWdlbnQpOwogICAgY3VybF9z
ZXRvcHQoJGNpLCBDVVJMT1BUX0NPTk5FQ1RUSU1FT1VULCAkdGhpcy0+Y29ubmVjdHRpbWVv
dXQpOwogICAgY3VybF9zZXRvcHQoJGNpLCBDVVJMT1BUX1RJTUVPVVQsICR0aGlzLT50aW1l
b3V0KTsKICAgIGN1cmxfc2V0b3B0KCRjaSwgQ1VSTE9QVF9SRVRVUk5UUkFOU0ZFUiwgVFJV
RSk7CiAgICBjdXJsX3NldG9wdCgkY2ksIENVUkxPUFRfSFRUUEhFQURFUiwgYXJyYXkoJ0V4
cGVjdDonKSk7CiAgICBjdXJsX3NldG9wdCgkY2ksIENVUkxPUFRfU1NMX1ZFUklGWVBFRVIs
ICR0aGlzLT5zc2xfdmVyaWZ5cGVlcik7CiAgICBjdXJsX3NldG9wdCgkY2ksIENVUkxPUFRf
SEVBREVSRlVOQ1RJT04sIGFycmF5KCR0aGlzLCAnZ2V0SGVhZGVyJykpOwogICAgY3VybF9z
ZXRvcHQoJGNpLCBDVVJMT1BUX0hFQURFUiwgRkFMU0UpOwoKICAgIHN3aXRjaCAoJG1ldGhv
ZCkgewogICAgICBjYXNlICdQT1NUJzoKICAgICAgICBjdXJsX3NldG9wdCgkY2ksIENVUkxP
UFRfUE9TVCwgVFJVRSk7CiAgICAgICAgaWYgKCFlbXB0eSgkcG9zdGZpZWxkcykpIHsKICAg
ICAgICAgIGN1cmxfc2V0b3B0KCRjaSwgQ1VSTE9QVF9QT1NURklFTERTLCAkcG9zdGZpZWxk
cyk7CiAgICAgICAgfQogICAgICAgIGJyZWFrOwogICAgICBjYXNlICdERUxFVEUnOgogICAg
ICAgIGN1cmxfc2V0b3B0KCRjaSwgQ1VSTE9QVF9DVVNUT01SRVFVRVNULCAnREVMRVRFJyk7
CiAgICAgICAgaWYgKCFlbXB0eSgkcG9zdGZpZWxkcykpIHsKICAgICAgICAgICR1cmwgPSAi
eyR1cmx9P3skcG9zdGZpZWxkc30iOwogICAgICAgIH0KICAgIH0KCiAgICBjdXJsX3NldG9w
dCgkY2ksIENVUkxPUFRfVVJMLCAkdXJsKTsKICAgICRyZXNwb25zZSA9IGN1cmxfZXhlYygk
Y2kpOwogICAgJHRoaXMtPmh0dHBfY29kZSA9IGN1cmxfZ2V0aW5mbygkY2ksIENVUkxJTkZP
X0hUVFBfQ09ERSk7CiAgICAkdGhpcy0+aHR0cF9pbmZvID0gYXJyYXlfbWVyZ2UoJHRoaXMt
Pmh0dHBfaW5mbywgY3VybF9nZXRpbmZvKCRjaSkpOwogICAgJHRoaXMtPnVybCA9ICR1cmw7
CiAgICBjdXJsX2Nsb3NlICgkY2kpOwogICAgcmV0dXJuICRyZXNwb25zZTsKICB9CgogIC8q
KgogICAqIEdldCB0aGUgaGVhZGVyIGluZm8gdG8gc3RvcmUuCiAgICovCiAgZnVuY3Rpb24g
Z2V0SGVhZGVyKCRjaCwgJGhlYWRlcikgewogICAgJGkgPSBzdHJwb3MoJGhlYWRlciwgJzon
KTsKICAgIGlmICghZW1wdHkoJGkpKSB7CiAgICAgICRrZXkgPSBzdHJfcmVwbGFjZSgnLScs
ICdfJywgc3RydG9sb3dlcihzdWJzdHIoJGhlYWRlciwgMCwgJGkpKSk7CiAgICAgICR2YWx1
ZSA9IHRyaW0oc3Vic3RyKCRoZWFkZXIsICRpICsgMikpOwogICAgICAkdGhpcy0+aHR0cF9o
ZWFkZXJbJGtleV0gPSAkdmFsdWU7CiAgICB9CiAgICByZXR1cm4gc3RybGVuKCRoZWFkZXIp
OwogIH0KfQoKY2xhc3MgT0F1dGhFeGNlcHRpb24gZXh0ZW5kcyBFeGNlcHRpb24gewogIC8v
IHBhc3MKfQoKY2xhc3MgT0F1dGhDb25zdW1lciB7CiAgcHVibGljICRrZXk7CiAgcHVibGlj
ICRzZWNyZXQ7CgogIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRrZXksICRzZWNyZXQsICRjYWxs
YmFja191cmw9TlVMTCkgewogICAgJHRoaXMtPmtleSA9ICRrZXk7CiAgICAkdGhpcy0+c2Vj
cmV0ID0gJHNlY3JldDsKICAgICR0aGlzLT5jYWxsYmFja191cmwgPSAkY2FsbGJhY2tfdXJs
OwogIH0KCiAgZnVuY3Rpb24gX190b1N0cmluZygpIHsKICAgIHJldHVybiAiT0F1dGhDb25z
dW1lcltrZXk9JHRoaXMtPmtleSxzZWNyZXQ9JHRoaXMtPnNlY3JldF0iOwogIH0KfQoKY2xh
c3MgT0F1dGhUb2tlbiB7CiAgLy8gYWNjZXNzIHRva2VucyBhbmQgcmVxdWVzdCB0b2tlbnMK
ICBwdWJsaWMgJGtleTsKICBwdWJsaWMgJHNlY3JldDsKCiAgLyoqCiAgICoga2V5ID0gdGhl
IHRva2VuCiAgICogc2VjcmV0ID0gdGhlIHRva2VuIHNlY3JldAogICAqLwogIGZ1bmN0aW9u
IF9fY29uc3RydWN0KCRrZXksICRzZWNyZXQpIHsKICAgICR0aGlzLT5rZXkgPSAka2V5Owog
ICAgJHRoaXMtPnNlY3JldCA9ICRzZWNyZXQ7CiAgfQoKICAvKioKICAgKiBnZW5lcmF0ZXMg
dGhlIGJhc2ljIHN0cmluZyBzZXJpYWxpemF0aW9uIG9mIGEgdG9rZW4gdGhhdCBhIHNlcnZl
cgogICAqIHdvdWxkIHJlc3BvbmQgdG8gcmVxdWVzdF90b2tlbiBhbmQgYWNjZXNzX3Rva2Vu
IGNhbGxzIHdpdGgKICAgKi8KICBmdW5jdGlvbiB0b19zdHJpbmcoKSB7CiAgICByZXR1cm4g
Im9hdXRoX3Rva2VuPSIgLgogICAgICAgICAgIE9BdXRoVXRpbDo6dXJsZW5jb2RlX3JmYzM5
ODYoJHRoaXMtPmtleSkgLgogICAgICAgICAgICImb2F1dGhfdG9rZW5fc2VjcmV0PSIgLgog
ICAgICAgICAgIE9BdXRoVXRpbDo6dXJsZW5jb2RlX3JmYzM5ODYoJHRoaXMtPnNlY3JldCk7
CiAgfQoKICBmdW5jdGlvbiBfX3RvU3RyaW5nKCkgewogICAgcmV0dXJuICR0aGlzLT50b19z
dHJpbmcoKTsKICB9Cn0KCi8qKgogKiBBIGNsYXNzIGZvciBpbXBsZW1lbnRpbmcgYSBTaWdu
YXR1cmUgTWV0aG9kCiAqIFNlZSBzZWN0aW9uIDkgKCJTaWduaW5nIFJlcXVlc3RzIikgaW4g
dGhlIHNwZWMKICovCmFic3RyYWN0IGNsYXNzIE9BdXRoU2lnbmF0dXJlTWV0aG9kIHsKICAv
KioKICAgKiBOZWVkcyB0byByZXR1cm4gdGhlIG5hbWUgb2YgdGhlIFNpZ25hdHVyZSBNZXRo
b2QgKGllIEhNQUMtU0hBMSkKICAgKiBAcmV0dXJuIHN0cmluZwogICAqLwogIGFic3RyYWN0
IHB1YmxpYyBmdW5jdGlvbiBnZXRfbmFtZSgpOwoKICAvKioKICAgKiBCdWlsZCB1cCB0aGUg
c2lnbmF0dXJlCiAgICogTk9URTogVGhlIG91dHB1dCBvZiB0aGlzIGZ1bmN0aW9uIE1VU1Qg
Tk9UIGJlIHVybGVuY29kZWQuCiAgICogdGhlIGVuY29kaW5nIGlzIGhhbmRsZWQgaW4gT0F1
dGhSZXF1ZXN0IHdoZW4gdGhlIGZpbmFsCiAgICogcmVxdWVzdCBpcyBzZXJpYWxpemVkCiAg
ICogQHBhcmFtIE9BdXRoUmVxdWVzdCAkcmVxdWVzdAogICAqIEBwYXJhbSBPQXV0aENvbnN1
bWVyICRjb25zdW1lcgogICAqIEBwYXJhbSBPQXV0aFRva2VuICR0b2tlbgogICAqIEByZXR1
cm4gc3RyaW5nCiAgICovCiAgYWJzdHJhY3QgcHVibGljIGZ1bmN0aW9uIGJ1aWxkX3NpZ25h
dHVyZSgkcmVxdWVzdCwgJGNvbnN1bWVyLCAkdG9rZW4pOwoKICAvKioKICAgKiBWZXJpZmll
cyB0aGF0IGEgZ2l2ZW4gc2lnbmF0dXJlIGlzIGNvcnJlY3QKICAgKiBAcGFyYW0gT0F1dGhS
ZXF1ZXN0ICRyZXF1ZXN0CiAgICogQHBhcmFtIE9BdXRoQ29uc3VtZXIgJGNvbnN1bWVyCiAg
ICogQHBhcmFtIE9BdXRoVG9rZW4gJHRva2VuCiAgICogQHBhcmFtIHN0cmluZyAkc2lnbmF0
dXJlCiAgICogQHJldHVybiBib29sCiAgICovCiAgcHVibGljIGZ1bmN0aW9uIGNoZWNrX3Np
Z25hdHVyZSgkcmVxdWVzdCwgJGNvbnN1bWVyLCAkdG9rZW4sICRzaWduYXR1cmUpIHsKICAg
ICRidWlsdCA9ICR0aGlzLT5idWlsZF9zaWduYXR1cmUoJHJlcXVlc3QsICRjb25zdW1lciwg
JHRva2VuKTsKICAgIHJldHVybiAkYnVpbHQgPT0gJHNpZ25hdHVyZTsKICB9Cn0KCi8qKgog
KiBUaGUgSE1BQy1TSEExIHNpZ25hdHVyZSBtZXRob2QgdXNlcyB0aGUgSE1BQy1TSEExIHNp
Z25hdHVyZSBhbGdvcml0aG0gYXMgZGVmaW5lZCBpbiBbUkZDMjEwNF0KICogd2hlcmUgdGhl
IFNpZ25hdHVyZSBCYXNlIFN0cmluZyBpcyB0aGUgdGV4dCBhbmQgdGhlIGtleSBpcyB0aGUg
Y29uY2F0ZW5hdGVkIHZhbHVlcyAoZWFjaCBmaXJzdAogKiBlbmNvZGVkIHBlciBQYXJhbWV0
ZXIgRW5jb2RpbmcpIG9mIHRoZSBDb25zdW1lciBTZWNyZXQgYW5kIFRva2VuIFNlY3JldCwg
c2VwYXJhdGVkIGJ5IGFuICcmJwogKiBjaGFyYWN0ZXIgKEFTQ0lJIGNvZGUgMzgpIGV2ZW4g
aWYgZW1wdHkuCiAqICAgLSBDaGFwdGVyIDkuMiAoIkhNQUMtU0hBMSIpCiAqLwpjbGFzcyBP
QXV0aFNpZ25hdHVyZU1ldGhvZF9ITUFDX1NIQTEgZXh0ZW5kcyBPQXV0aFNpZ25hdHVyZU1l
dGhvZCB7CiAgZnVuY3Rpb24gZ2V0X25hbWUoKSB7CiAgICByZXR1cm4gIkhNQUMtU0hBMSI7
CiAgfQoKICBwdWJsaWMgZnVuY3Rpb24gYnVpbGRfc2lnbmF0dXJlKCRyZXF1ZXN0LCAkY29u
c3VtZXIsICR0b2tlbikgewogICAgJGJhc2Vfc3RyaW5nID0gJHJlcXVlc3QtPmdldF9zaWdu
YXR1cmVfYmFzZV9zdHJpbmcoKTsKICAgICRyZXF1ZXN0LT5iYXNlX3N0cmluZyA9ICRiYXNl
X3N0cmluZzsKCiAgICAka2V5X3BhcnRzID0gYXJyYXkoCiAgICAgICRjb25zdW1lci0+c2Vj
cmV0LAogICAgICAoJHRva2VuKSA/ICR0b2tlbi0+c2VjcmV0IDogIiIKICAgICk7CgogICAg
JGtleV9wYXJ0cyA9IE9BdXRoVXRpbDo6dXJsZW5jb2RlX3JmYzM5ODYoJGtleV9wYXJ0cyk7
CiAgICAka2V5ID0gaW1wbG9kZSgnJicsICRrZXlfcGFydHMpOwoKICAgIHJldHVybiBiYXNl
NjRfZW5jb2RlKGhhc2hfaG1hYygnc2hhMScsICRiYXNlX3N0cmluZywgJGtleSwgdHJ1ZSkp
OwogIH0KfQoKLyoqCiAqIFRoZSBQTEFJTlRFWFQgbWV0aG9kIGRvZXMgbm90IHByb3ZpZGUg
YW55IHNlY3VyaXR5IHByb3RlY3Rpb24gYW5kIFNIT1VMRCBvbmx5IGJlIHVzZWQKICogb3Zl
ciBhIHNlY3VyZSBjaGFubmVsIHN1Y2ggYXMgSFRUUFMuIEl0IGRvZXMgbm90IHVzZSB0aGUg
U2lnbmF0dXJlIEJhc2UgU3RyaW5nLgogKiAgIC0gQ2hhcHRlciA5LjQgKCJQTEFJTlRFWFQi
KQogKi8KY2xhc3MgT0F1dGhTaWduYXR1cmVNZXRob2RfUExBSU5URVhUIGV4dGVuZHMgT0F1
dGhTaWduYXR1cmVNZXRob2QgewogIHB1YmxpYyBmdW5jdGlvbiBnZXRfbmFtZSgpIHsKICAg
IHJldHVybiAiUExBSU5URVhUIjsKICB9CgogIC8qKgogICAqIG9hdXRoX3NpZ25hdHVyZSBp
cyBzZXQgdG8gdGhlIGNvbmNhdGVuYXRlZCBlbmNvZGVkIHZhbHVlcyBvZiB0aGUgQ29uc3Vt
ZXIgU2VjcmV0IGFuZAogICAqIFRva2VuIFNlY3JldCwgc2VwYXJhdGVkIGJ5IGEgJyYnIGNo
YXJhY3RlciAoQVNDSUkgY29kZSAzOCksIGV2ZW4gaWYgZWl0aGVyIHNlY3JldCBpcwogICAq
IGVtcHR5LiBUaGUgcmVzdWx0IE1VU1QgYmUgZW5jb2RlZCBhZ2Fpbi4KICAgKiAgIC0gQ2hh
cHRlciA5LjQuMSAoIkdlbmVyYXRpbmcgU2lnbmF0dXJlcyIpCiAgICoKICAgKiBQbGVhc2Ug
bm90ZSB0aGF0IHRoZSBzZWNvbmQgZW5jb2RpbmcgTVVTVCBOT1QgaGFwcGVuIGluIHRoZSBT
aWduYXR1cmVNZXRob2QsIGFzCiAgICogT0F1dGhSZXF1ZXN0IGhhbmRsZXMgdGhpcyEKICAg
Ki8KICBwdWJsaWMgZnVuY3Rpb24gYnVpbGRfc2lnbmF0dXJlKCRyZXF1ZXN0LCAkY29uc3Vt
ZXIsICR0b2tlbikgewogICAgJGtleV9wYXJ0cyA9IGFycmF5KAogICAgICAkY29uc3VtZXIt
PnNlY3JldCwKICAgICAgKCR0b2tlbikgPyAkdG9rZW4tPnNlY3JldCA6ICIiCiAgICApOwoK
ICAgICRrZXlfcGFydHMgPSBPQXV0aFV0aWw6OnVybGVuY29kZV9yZmMzOTg2KCRrZXlfcGFy
dHMpOwogICAgJGtleSA9IGltcGxvZGUoJyYnLCAka2V5X3BhcnRzKTsKICAgICRyZXF1ZXN0
LT5iYXNlX3N0cmluZyA9ICRrZXk7CgogICAgcmV0dXJuICRrZXk7CiAgfQp9CgovKioKICog
VGhlIFJTQS1TSEExIHNpZ25hdHVyZSBtZXRob2QgdXNlcyB0aGUgUlNBU1NBLVBLQ1MxLXYx
XzUgc2lnbmF0dXJlIGFsZ29yaXRobSBhcyBkZWZpbmVkIGluCiAqIFtSRkMzNDQ3XSBzZWN0
aW9uIDguMiAobW9yZSBzaW1wbHkga25vd24gYXMgUEtDUyMxKSwgdXNpbmcgU0hBLTEgYXMg
dGhlIGhhc2ggZnVuY3Rpb24gZm9yCiAqIEVNU0EtUEtDUzEtdjFfNS4gSXQgaXMgYXNzdW1l
ZCB0aGF0IHRoZSBDb25zdW1lciBoYXMgcHJvdmlkZWQgaXRzIFJTQSBwdWJsaWMga2V5IGlu
IGEKICogdmVyaWZpZWQgd2F5IHRvIHRoZSBTZXJ2aWNlIFByb3ZpZGVyLCBpbiBhIG1hbm5l
ciB3aGljaCBpcyBiZXlvbmQgdGhlIHNjb3BlIG9mIHRoaXMKICogc3BlY2lmaWNhdGlvbi4K
ICogICAtIENoYXB0ZXIgOS4zICgiUlNBLVNIQTEiKQogKi8KYWJzdHJhY3QgY2xhc3MgT0F1
dGhTaWduYXR1cmVNZXRob2RfUlNBX1NIQTEgZXh0ZW5kcyBPQXV0aFNpZ25hdHVyZU1ldGhv
ZCB7CiAgcHVibGljIGZ1bmN0aW9uIGdldF9uYW1lKCkgewogICAgcmV0dXJuICJSU0EtU0hB
MSI7CiAgfQoKICAvLyBVcCB0byB0aGUgU1AgdG8gaW1wbGVtZW50IHRoaXMgbG9va3VwIG9m
IGtleXMuIFBvc3NpYmxlIGlkZWFzIGFyZToKICAvLyAoMSkgZG8gYSBsb29rdXAgaW4gYSB0
YWJsZSBvZiB0cnVzdGVkIGNlcnRzIGtleWVkIG9mZiBvZiBjb25zdW1lcgogIC8vICgyKSBm
ZXRjaCB2aWEgaHR0cCB1c2luZyBhIHVybCBwcm92aWRlZCBieSB0aGUgcmVxdWVzdGVyCiAg
Ly8gKDMpIHNvbWUgc29ydCBvZiBzcGVjaWZpYyBkaXNjb3ZlcnkgY29kZSBiYXNlZCBvbiBy
ZXF1ZXN0CiAgLy8KICAvLyBFaXRoZXIgd2F5IHNob3VsZCByZXR1cm4gYSBzdHJpbmcgcmVw
cmVzZW50YXRpb24gb2YgdGhlIGNlcnRpZmljYXRlCiAgcHJvdGVjdGVkIGFic3RyYWN0IGZ1
bmN0aW9uIGZldGNoX3B1YmxpY19jZXJ0KCYkcmVxdWVzdCk7CgogIC8vIFVwIHRvIHRoZSBT
UCB0byBpbXBsZW1lbnQgdGhpcyBsb29rdXAgb2Yga2V5cy4gUG9zc2libGUgaWRlYXMgYXJl
OgogIC8vICgxKSBkbyBhIGxvb2t1cCBpbiBhIHRhYmxlIG9mIHRydXN0ZWQgY2VydHMga2V5
ZWQgb2ZmIG9mIGNvbnN1bWVyCiAgLy8KICAvLyBFaXRoZXIgd2F5IHNob3VsZCByZXR1cm4g
YSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIGNlcnRpZmljYXRlCiAgcHJvdGVjdGVk
IGFic3RyYWN0IGZ1bmN0aW9uIGZldGNoX3ByaXZhdGVfY2VydCgmJHJlcXVlc3QpOwoKICBw
dWJsaWMgZnVuY3Rpb24gYnVpbGRfc2lnbmF0dXJlKCRyZXF1ZXN0LCAkY29uc3VtZXIsICR0
b2tlbikgewogICAgJGJhc2Vfc3RyaW5nID0gJHJlcXVlc3QtPmdldF9zaWduYXR1cmVfYmFz
ZV9zdHJpbmcoKTsKICAgICRyZXF1ZXN0LT5iYXNlX3N0cmluZyA9ICRiYXNlX3N0cmluZzsK
CiAgICAvLyBGZXRjaCB0aGUgcHJpdmF0ZSBrZXkgY2VydCBiYXNlZCBvbiB0aGUgcmVxdWVz
dAogICAgJGNlcnQgPSAkdGhpcy0+ZmV0Y2hfcHJpdmF0ZV9jZXJ0KCRyZXF1ZXN0KTsKCiAg
ICAvLyBQdWxsIHRoZSBwcml2YXRlIGtleSBJRCBmcm9tIHRoZSBjZXJ0aWZpY2F0ZQogICAg
JHByaXZhdGVrZXlpZCA9IG9wZW5zc2xfZ2V0X3ByaXZhdGVrZXkoJGNlcnQpOwoKICAgIC8v
IFNpZ24gdXNpbmcgdGhlIGtleQogICAgJG9rID0gb3BlbnNzbF9zaWduKCRiYXNlX3N0cmlu
ZywgJHNpZ25hdHVyZSwgJHByaXZhdGVrZXlpZCk7CgogICAgLy8gUmVsZWFzZSB0aGUga2V5
IHJlc291cmNlCiAgICBvcGVuc3NsX2ZyZWVfa2V5KCRwcml2YXRla2V5aWQpOwoKICAgIHJl
dHVybiBiYXNlNjRfZW5jb2RlKCRzaWduYXR1cmUpOwogIH0KCiAgcHVibGljIGZ1bmN0aW9u
IGNoZWNrX3NpZ25hdHVyZSgkcmVxdWVzdCwgJGNvbnN1bWVyLCAkdG9rZW4sICRzaWduYXR1
cmUpIHsKICAgICRkZWNvZGVkX3NpZyA9IGJhc2U2NF9kZWNvZGUoJHNpZ25hdHVyZSk7Cgog
ICAgJGJhc2Vfc3RyaW5nID0gJHJlcXVlc3QtPmdldF9zaWduYXR1cmVfYmFzZV9zdHJpbmco
KTsKCiAgICAvLyBGZXRjaCB0aGUgcHVibGljIGtleSBjZXJ0IGJhc2VkIG9uIHRoZSByZXF1
ZXN0CiAgICAkY2VydCA9ICR0aGlzLT5mZXRjaF9wdWJsaWNfY2VydCgkcmVxdWVzdCk7Cgog
ICAgLy8gUHVsbCB0aGUgcHVibGljIGtleSBJRCBmcm9tIHRoZSBjZXJ0aWZpY2F0ZQogICAg
JHB1YmxpY2tleWlkID0gb3BlbnNzbF9nZXRfcHVibGlja2V5KCRjZXJ0KTsKCiAgICAvLyBD
aGVjayB0aGUgY29tcHV0ZWQgc2lnbmF0dXJlIGFnYWluc3QgdGhlIG9uZSBwYXNzZWQgaW4g
dGhlIHF1ZXJ5CiAgICAkb2sgPSBvcGVuc3NsX3ZlcmlmeSgkYmFzZV9zdHJpbmcsICRkZWNv
ZGVkX3NpZywgJHB1YmxpY2tleWlkKTsKCiAgICAvLyBSZWxlYXNlIHRoZSBrZXkgcmVzb3Vy
Y2UKICAgIG9wZW5zc2xfZnJlZV9rZXkoJHB1YmxpY2tleWlkKTsKCiAgICByZXR1cm4gJG9r
ID09IDE7CiAgfQp9CgpjbGFzcyBPQXV0aFJlcXVlc3QgewogIHByaXZhdGUgJHBhcmFtZXRl
cnM7CiAgcHJpdmF0ZSAkaHR0cF9tZXRob2Q7CiAgcHJpdmF0ZSAkaHR0cF91cmw7CiAgLy8g
Zm9yIGRlYnVnIHB1cnBvc2VzCiAgcHVibGljICRiYXNlX3N0cmluZzsKICBwdWJsaWMgc3Rh
dGljICR2ZXJzaW9uID0gJzEuMCc7CiAgcHVibGljIHN0YXRpYyAkUE9TVF9JTlBVVCA9ICdw
aHA6Ly9pbnB1dCc7CgogIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRodHRwX21ldGhvZCwgJGh0
dHBfdXJsLCAkcGFyYW1ldGVycz1OVUxMKSB7CiAgICBAJHBhcmFtZXRlcnMgb3IgJHBhcmFt
ZXRlcnMgPSBhcnJheSgpOwogICAgJHBhcmFtZXRlcnMgPSBhcnJheV9tZXJnZSggT0F1dGhV
dGlsOjpwYXJzZV9wYXJhbWV0ZXJzKHBhcnNlX3VybCgkaHR0cF91cmwsIFBIUF9VUkxfUVVF
UlkpKSwgJHBhcmFtZXRlcnMpOwogICAgJHRoaXMtPnBhcmFtZXRlcnMgPSAkcGFyYW1ldGVy
czsKICAgICR0aGlzLT5odHRwX21ldGhvZCA9ICRodHRwX21ldGhvZDsKICAgICR0aGlzLT5o
dHRwX3VybCA9ICRodHRwX3VybDsKICB9CgoKICAvKioKICAgKiBhdHRlbXB0IHRvIGJ1aWxk
IHVwIGEgcmVxdWVzdCBmcm9tIHdoYXQgd2FzIHBhc3NlZCB0byB0aGUgc2VydmVyCiAgICov
CiAgcHVibGljIHN0YXRpYyBmdW5jdGlvbiBmcm9tX3JlcXVlc3QoJGh0dHBfbWV0aG9kPU5V
TEwsICRodHRwX3VybD1OVUxMLCAkcGFyYW1ldGVycz1OVUxMKSB7CiAgICAkc2NoZW1lID0g
KCFpc3NldCgkX1NFUlZFUlsnSFRUUFMnXSkgfHwgJF9TRVJWRVJbJ0hUVFBTJ10gIT0gIm9u
IikKICAgICAgICAgICAgICA/ICdodHRwJwogICAgICAgICAgICAgIDogJ2h0dHBzJzsKICAg
IEAkaHR0cF91cmwgb3IgJGh0dHBfdXJsID0gJHNjaGVtZSAuCiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICc6Ly8nIC4gJF9TRVJWRVJbJ0hUVFBfSE9TVCddIC4KICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgJzonIC4KICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgJF9TRVJWRVJbJ1NFUlZFUl9QT1JUJ10gLgogICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAkX1NFUlZFUlsnUkVRVUVTVF9VUkknXTsKICAgIEAkaHR0cF9tZXRob2Qgb3IgJGh0
dHBfbWV0aG9kID0gJF9TRVJWRVJbJ1JFUVVFU1RfTUVUSE9EJ107CgogICAgLy8gV2Ugd2Vy
ZW4ndCBoYW5kZWQgYW55IHBhcmFtZXRlcnMsIHNvIGxldCdzIGZpbmQgdGhlIG9uZXMgcmVs
ZXZhbnQgdG8KICAgIC8vIHRoaXMgcmVxdWVzdC4KICAgIC8vIElmIHlvdSBydW4gWE1MLVJQ
QyBvciBzaW1pbGFyIHlvdSBzaG91bGQgdXNlIHRoaXMgdG8gcHJvdmlkZSB5b3VyIG93bgog
ICAgLy8gcGFyc2VkIHBhcmFtZXRlci1saXN0CiAgICBpZiAoISRwYXJhbWV0ZXJzKSB7CiAg
ICAgIC8vIEZpbmQgcmVxdWVzdCBoZWFkZXJzCiAgICAgICRyZXF1ZXN0X2hlYWRlcnMgPSBP
QXV0aFV0aWw6OmdldF9oZWFkZXJzKCk7CgogICAgICAvLyBQYXJzZSB0aGUgcXVlcnktc3Ry
aW5nIHRvIGZpbmQgR0VUIHBhcmFtZXRlcnMKICAgICAgJHBhcmFtZXRlcnMgPSBPQXV0aFV0
aWw6OnBhcnNlX3BhcmFtZXRlcnMoJF9TRVJWRVJbJ1FVRVJZX1NUUklORyddKTsKCiAgICAg
IC8vIEl0J3MgYSBQT1NUIHJlcXVlc3Qgb2YgdGhlIHByb3BlciBjb250ZW50LXR5cGUsIHNv
IHBhcnNlIFBPU1QKICAgICAgLy8gcGFyYW1ldGVycyBhbmQgYWRkIHRob3NlIG92ZXJyaWRp
bmcgYW55IGR1cGxpY2F0ZXMgZnJvbSBHRVQKICAgICAgaWYgKCRodHRwX21ldGhvZCA9PSAi
UE9TVCIKICAgICAgICAgICYmIEBzdHJzdHIoJHJlcXVlc3RfaGVhZGVyc1siQ29udGVudC1U
eXBlIl0sCiAgICAgICAgICAgICAgICAgICAgICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVy
bGVuY29kZWQiKQogICAgICAgICAgKSB7CiAgICAgICAgJHBvc3RfZGF0YSA9IE9BdXRoVXRp
bDo6cGFyc2VfcGFyYW1ldGVycygKICAgICAgICAgIGZpbGVfZ2V0X2NvbnRlbnRzKHNlbGY6
OiRQT1NUX0lOUFVUKQogICAgICAgICk7CiAgICAgICAgJHBhcmFtZXRlcnMgPSBhcnJheV9t
ZXJnZSgkcGFyYW1ldGVycywgJHBvc3RfZGF0YSk7CiAgICAgIH0KCiAgICAgIC8vIFdlIGhh
dmUgYSBBdXRob3JpemF0aW9uLWhlYWRlciB3aXRoIE9BdXRoIGRhdGEuIFBhcnNlIHRoZSBo
ZWFkZXIKICAgICAgLy8gYW5kIGFkZCB0aG9zZSBvdmVycmlkaW5nIGFueSBkdXBsaWNhdGVz
IGZyb20gR0VUIG9yIFBPU1QKICAgICAgaWYgKEBzdWJzdHIoJHJlcXVlc3RfaGVhZGVyc1sn
QXV0aG9yaXphdGlvbiddLCAwLCA2KSA9PSAiT0F1dGggIikgewogICAgICAgICRoZWFkZXJf
cGFyYW1ldGVycyA9IE9BdXRoVXRpbDo6c3BsaXRfaGVhZGVyKAogICAgICAgICAgJHJlcXVl
c3RfaGVhZGVyc1snQXV0aG9yaXphdGlvbiddCiAgICAgICAgKTsKICAgICAgICAkcGFyYW1l
dGVycyA9IGFycmF5X21lcmdlKCRwYXJhbWV0ZXJzLCAkaGVhZGVyX3BhcmFtZXRlcnMpOwog
ICAgICB9CgogICAgfQoKICAgIHJldHVybiBuZXcgT0F1dGhSZXF1ZXN0KCRodHRwX21ldGhv
ZCwgJGh0dHBfdXJsLCAkcGFyYW1ldGVycyk7CiAgfQoKICAvKioKICAgKiBwcmV0dHkgbXVj
aCBhIGhlbHBlciBmdW5jdGlvbiB0byBzZXQgdXAgdGhlIHJlcXVlc3QKICAgKi8KICBwdWJs
aWMgc3RhdGljIGZ1bmN0aW9uIGZyb21fY29uc3VtZXJfYW5kX3Rva2VuKCRjb25zdW1lciwg
JHRva2VuLCAkaHR0cF9tZXRob2QsICRodHRwX3VybCwgJHBhcmFtZXRlcnM9TlVMTCkgewog
ICAgQCRwYXJhbWV0ZXJzIG9yICRwYXJhbWV0ZXJzID0gYXJyYXkoKTsKICAgICRkZWZhdWx0
cyA9IGFycmF5KCJvYXV0aF92ZXJzaW9uIiA9PiBPQXV0aFJlcXVlc3Q6OiR2ZXJzaW9uLAog
ICAgICAgICAgICAgICAgICAgICAgIm9hdXRoX25vbmNlIiA9PiBPQXV0aFJlcXVlc3Q6Omdl
bmVyYXRlX25vbmNlKCksCiAgICAgICAgICAgICAgICAgICAgICAib2F1dGhfdGltZXN0YW1w
IiA9PiBPQXV0aFJlcXVlc3Q6OmdlbmVyYXRlX3RpbWVzdGFtcCgpLAogICAgICAgICAgICAg
ICAgICAgICAgIm9hdXRoX2NvbnN1bWVyX2tleSIgPT4gJGNvbnN1bWVyLT5rZXkpOwogICAg
aWYgKCR0b2tlbikKICAgICAgJGRlZmF1bHRzWydvYXV0aF90b2tlbiddID0gJHRva2VuLT5r
ZXk7CgogICAgJHBhcmFtZXRlcnMgPSBhcnJheV9tZXJnZSgkZGVmYXVsdHMsICRwYXJhbWV0
ZXJzKTsKCiAgICByZXR1cm4gbmV3IE9BdXRoUmVxdWVzdCgkaHR0cF9tZXRob2QsICRodHRw
X3VybCwgJHBhcmFtZXRlcnMpOwogIH0KCiAgcHVibGljIGZ1bmN0aW9uIHNldF9wYXJhbWV0
ZXIoJG5hbWUsICR2YWx1ZSwgJGFsbG93X2R1cGxpY2F0ZXMgPSB0cnVlKSB7CiAgICBpZiAo
JGFsbG93X2R1cGxpY2F0ZXMgJiYgaXNzZXQoJHRoaXMtPnBhcmFtZXRlcnNbJG5hbWVdKSkg
ewogICAgICAvLyBXZSBoYXZlIGFscmVhZHkgYWRkZWQgcGFyYW1ldGVyKHMpIHdpdGggdGhp
cyBuYW1lLCBzbyBhZGQgdG8gdGhlIGxpc3QKICAgICAgaWYgKGlzX3NjYWxhcigkdGhpcy0+
cGFyYW1ldGVyc1skbmFtZV0pKSB7CiAgICAgICAgLy8gVGhpcyBpcyB0aGUgZmlyc3QgZHVw
bGljYXRlLCBzbyB0cmFuc2Zvcm0gc2NhbGFyIChzdHJpbmcpCiAgICAgICAgLy8gaW50byBh
biBhcnJheSBzbyB3ZSBjYW4gYWRkIHRoZSBkdXBsaWNhdGVzCiAgICAgICAgJHRoaXMtPnBh
cmFtZXRlcnNbJG5hbWVdID0gYXJyYXkoJHRoaXMtPnBhcmFtZXRlcnNbJG5hbWVdKTsKICAg
ICAgfQoKICAgICAgJHRoaXMtPnBhcmFtZXRlcnNbJG5hbWVdW10gPSAkdmFsdWU7CiAgICB9
IGVsc2UgewogICAgICAkdGhpcy0+cGFyYW1ldGVyc1skbmFtZV0gPSAkdmFsdWU7CiAgICB9
CiAgfQoKICBwdWJsaWMgZnVuY3Rpb24gZ2V0X3BhcmFtZXRlcigkbmFtZSkgewogICAgcmV0
dXJuIGlzc2V0KCR0aGlzLT5wYXJhbWV0ZXJzWyRuYW1lXSkgPyAkdGhpcy0+cGFyYW1ldGVy
c1skbmFtZV0gOiBudWxsOwogIH0KCiAgcHVibGljIGZ1bmN0aW9uIGdldF9wYXJhbWV0ZXJz
KCkgewogICAgcmV0dXJuICR0aGlzLT5wYXJhbWV0ZXJzOwogIH0KCiAgcHVibGljIGZ1bmN0
aW9uIHVuc2V0X3BhcmFtZXRlcigkbmFtZSkgewogICAgdW5zZXQoJHRoaXMtPnBhcmFtZXRl
cnNbJG5hbWVdKTsKICB9CgogIC8qKgogICAqIFRoZSByZXF1ZXN0IHBhcmFtZXRlcnMsIHNv
cnRlZCBhbmQgY29uY2F0ZW5hdGVkIGludG8gYSBub3JtYWxpemVkIHN0cmluZy4KICAgKiBA
cmV0dXJuIHN0cmluZwogICAqLwogIHB1YmxpYyBmdW5jdGlvbiBnZXRfc2lnbmFibGVfcGFy
YW1ldGVycygpIHsKICAgIC8vIEdyYWIgYWxsIHBhcmFtZXRlcnMKICAgICRwYXJhbXMgPSAk
dGhpcy0+cGFyYW1ldGVyczsKCiAgICAvLyBSZW1vdmUgb2F1dGhfc2lnbmF0dXJlIGlmIHBy
ZXNlbnQKICAgIC8vIFJlZjogU3BlYzogOS4xLjEgKCJUaGUgb2F1dGhfc2lnbmF0dXJlIHBh
cmFtZXRlciBNVVNUIGJlIGV4Y2x1ZGVkLiIpCiAgICBpZiAoaXNzZXQoJHBhcmFtc1snb2F1
dGhfc2lnbmF0dXJlJ10pKSB7CiAgICAgIHVuc2V0KCRwYXJhbXNbJ29hdXRoX3NpZ25hdHVy
ZSddKTsKICAgIH0KCiAgICByZXR1cm4gT0F1dGhVdGlsOjpidWlsZF9odHRwX3F1ZXJ5KCRw
YXJhbXMpOwogIH0KCiAgLyoqCiAgICogUmV0dXJucyB0aGUgYmFzZSBzdHJpbmcgb2YgdGhp
cyByZXF1ZXN0CiAgICoKICAgKiBUaGUgYmFzZSBzdHJpbmcgZGVmaW5lZCBhcyB0aGUgbWV0
aG9kLCB0aGUgdXJsCiAgICogYW5kIHRoZSBwYXJhbWV0ZXJzIChub3JtYWxpemVkKSwgZWFj
aCB1cmxlbmNvZGVkCiAgICogYW5kIHRoZSBjb25jYXRlZCB3aXRoICYuCiAgICovCiAgcHVi
bGljIGZ1bmN0aW9uIGdldF9zaWduYXR1cmVfYmFzZV9zdHJpbmcoKSB7CiAgICAkcGFydHMg
PSBhcnJheSgKICAgICAgJHRoaXMtPmdldF9ub3JtYWxpemVkX2h0dHBfbWV0aG9kKCksCiAg
ICAgICR0aGlzLT5nZXRfbm9ybWFsaXplZF9odHRwX3VybCgpLAogICAgICAkdGhpcy0+Z2V0
X3NpZ25hYmxlX3BhcmFtZXRlcnMoKQogICAgKTsKCiAgICAkcGFydHMgPSBPQXV0aFV0aWw6
OnVybGVuY29kZV9yZmMzOTg2KCRwYXJ0cyk7CgogICAgcmV0dXJuIGltcGxvZGUoJyYnLCAk
cGFydHMpOwogIH0KCiAgLyoqCiAgICoganVzdCB1cHBlcmNhc2VzIHRoZSBodHRwIG1ldGhv
ZAogICAqLwogIHB1YmxpYyBmdW5jdGlvbiBnZXRfbm9ybWFsaXplZF9odHRwX21ldGhvZCgp
IHsKICAgIHJldHVybiBzdHJ0b3VwcGVyKCR0aGlzLT5odHRwX21ldGhvZCk7CiAgfQoKICAv
KioKICAgKiBwYXJzZXMgdGhlIHVybCBhbmQgcmVidWlsZHMgaXQgdG8gYmUKICAgKiBzY2hl
bWU6Ly9ob3N0L3BhdGgKICAgKi8KICBwdWJsaWMgZnVuY3Rpb24gZ2V0X25vcm1hbGl6ZWRf
aHR0cF91cmwoKSB7CiAgICAkcGFydHMgPSBwYXJzZV91cmwoJHRoaXMtPmh0dHBfdXJsKTsK
CiAgICAkcG9ydCA9IEAkcGFydHNbJ3BvcnQnXTsKICAgICRzY2hlbWUgPSAkcGFydHNbJ3Nj
aGVtZSddOwogICAgJGhvc3QgPSAkcGFydHNbJ2hvc3QnXTsKICAgICRwYXRoID0gQCRwYXJ0
c1sncGF0aCddOwoKICAgICRwb3J0IG9yICRwb3J0ID0gKCRzY2hlbWUgPT0gJ2h0dHBzJykg
PyAnNDQzJyA6ICc4MCc7CgogICAgaWYgKCgkc2NoZW1lID09ICdodHRwcycgJiYgJHBvcnQg
IT0gJzQ0MycpCiAgICAgICAgfHwgKCRzY2hlbWUgPT0gJ2h0dHAnICYmICRwb3J0ICE9ICc4
MCcpKSB7CiAgICAgICRob3N0ID0gIiRob3N0OiRwb3J0IjsKICAgIH0KICAgIHJldHVybiAi
JHNjaGVtZTovLyRob3N0JHBhdGgiOwogIH0KCiAgLyoqCiAgICogYnVpbGRzIGEgdXJsIHVz
YWJsZSBmb3IgYSBHRVQgcmVxdWVzdAogICAqLwogIHB1YmxpYyBmdW5jdGlvbiB0b191cmwo
KSB7CiAgICAkcG9zdF9kYXRhID0gJHRoaXMtPnRvX3Bvc3RkYXRhKCk7CiAgICAkb3V0ID0g
JHRoaXMtPmdldF9ub3JtYWxpemVkX2h0dHBfdXJsKCk7CiAgICBpZiAoJHBvc3RfZGF0YSkg
ewogICAgICAkb3V0IC49ICc/Jy4kcG9zdF9kYXRhOwogICAgfQogICAgcmV0dXJuICRvdXQ7
CiAgfQoKICAvKioKICAgKiBidWlsZHMgdGhlIGRhdGEgb25lIHdvdWxkIHNlbmQgaW4gYSBQ
T1NUIHJlcXVlc3QKICAgKi8KICBwdWJsaWMgZnVuY3Rpb24gdG9fcG9zdGRhdGEoKSB7CiAg
ICByZXR1cm4gT0F1dGhVdGlsOjpidWlsZF9odHRwX3F1ZXJ5KCR0aGlzLT5wYXJhbWV0ZXJz
KTsKICB9CgogIC8qKgogICAqIGJ1aWxkcyB0aGUgQXV0aG9yaXphdGlvbjogaGVhZGVyCiAg
ICovCiAgcHVibGljIGZ1bmN0aW9uIHRvX2hlYWRlcigkcmVhbG09bnVsbCkgewogICAgJGZp
cnN0ID0gdHJ1ZTsKICBpZigkcmVhbG0pIHsKICAgICAgJG91dCA9ICdBdXRob3JpemF0aW9u
OiBPQXV0aCByZWFsbT0iJyAuIE9BdXRoVXRpbDo6dXJsZW5jb2RlX3JmYzM5ODYoJHJlYWxt
KSAuICciJzsKICAgICAgJGZpcnN0ID0gZmFsc2U7CiAgICB9IGVsc2UKICAgICAgJG91dCA9
ICdBdXRob3JpemF0aW9uOiBPQXV0aCc7CgogICAgJHRvdGFsID0gYXJyYXkoKTsKICAgIGZv
cmVhY2ggKCR0aGlzLT5wYXJhbWV0ZXJzIGFzICRrID0+ICR2KSB7CiAgICAgIGlmIChzdWJz
dHIoJGssIDAsIDUpICE9ICJvYXV0aCIpIGNvbnRpbnVlOwogICAgICBpZiAoaXNfYXJyYXko
JHYpKSB7CiAgICAgICAgdGhyb3cgbmV3IE9BdXRoRXhjZXB0aW9uKCdBcnJheXMgbm90IHN1
cHBvcnRlZCBpbiBoZWFkZXJzJyk7CiAgICAgIH0KICAgICAgJG91dCAuPSAoJGZpcnN0KSA/
ICcgJyA6ICcsJzsKICAgICAgJG91dCAuPSBPQXV0aFV0aWw6OnVybGVuY29kZV9yZmMzOTg2
KCRrKSAuCiAgICAgICAgICAgICAgJz0iJyAuCiAgICAgICAgICAgICAgT0F1dGhVdGlsOjp1
cmxlbmNvZGVfcmZjMzk4NigkdikgLgogICAgICAgICAgICAgICciJzsKICAgICAgJGZpcnN0
ID0gZmFsc2U7CiAgICB9CiAgICByZXR1cm4gJG91dDsKICB9CgogIHB1YmxpYyBmdW5jdGlv
biBfX3RvU3RyaW5nKCkgewogICAgcmV0dXJuICR0aGlzLT50b191cmwoKTsKICB9CgoKICBw
dWJsaWMgZnVuY3Rpb24gc2lnbl9yZXF1ZXN0KCRzaWduYXR1cmVfbWV0aG9kLCAkY29uc3Vt
ZXIsICR0b2tlbikgewogICAgJHRoaXMtPnNldF9wYXJhbWV0ZXIoCiAgICAgICJvYXV0aF9z
aWduYXR1cmVfbWV0aG9kIiwKICAgICAgJHNpZ25hdHVyZV9tZXRob2QtPmdldF9uYW1lKCks
CiAgICAgIGZhbHNlCiAgICApOwogICAgJHNpZ25hdHVyZSA9ICR0aGlzLT5idWlsZF9zaWdu
YXR1cmUoJHNpZ25hdHVyZV9tZXRob2QsICRjb25zdW1lciwgJHRva2VuKTsKICAgICR0aGlz
LT5zZXRfcGFyYW1ldGVyKCJvYXV0aF9zaWduYXR1cmUiLCAkc2lnbmF0dXJlLCBmYWxzZSk7
CiAgfQoKICBwdWJsaWMgZnVuY3Rpb24gYnVpbGRfc2lnbmF0dXJlKCRzaWduYXR1cmVfbWV0
aG9kLCAkY29uc3VtZXIsICR0b2tlbikgewogICAgJHNpZ25hdHVyZSA9ICRzaWduYXR1cmVf
bWV0aG9kLT5idWlsZF9zaWduYXR1cmUoJHRoaXMsICRjb25zdW1lciwgJHRva2VuKTsKICAg
IHJldHVybiAkc2lnbmF0dXJlOwogIH0KCiAgLyoqCiAgICogdXRpbCBmdW5jdGlvbjogY3Vy
cmVudCB0aW1lc3RhbXAKICAgKi8KICBwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBnZW5lcmF0
ZV90aW1lc3RhbXAoKSB7CiAgICByZXR1cm4gdGltZSgpOwogIH0KCiAgLyoqCiAgICogdXRp
bCBmdW5jdGlvbjogY3VycmVudCBub25jZQogICAqLwogIHByaXZhdGUgc3RhdGljIGZ1bmN0
aW9uIGdlbmVyYXRlX25vbmNlKCkgewogICAgJG10ID0gbWljcm90aW1lKCk7CiAgICAkcmFu
ZCA9IG10X3JhbmQoKTsKCiAgICByZXR1cm4gbWQ1KCRtdCAuICRyYW5kKTsgLy8gbWQ1cyBs
b29rIG5pY2VyIHRoYW4gbnVtYmVycwogIH0KfQoKY2xhc3MgT0F1dGhTZXJ2ZXIgewogIHBy
b3RlY3RlZCAkdGltZXN0YW1wX3RocmVzaG9sZCA9IDMwMDsgLy8gaW4gc2Vjb25kcywgZml2
ZSBtaW51dGVzCiAgcHJvdGVjdGVkICR2ZXJzaW9uID0gJzEuMCc7ICAgICAgICAgICAgIC8v
IGhpIGJsYWluZQogIHByb3RlY3RlZCAkc2lnbmF0dXJlX21ldGhvZHMgPSBhcnJheSgpOwoK
ICBwcm90ZWN0ZWQgJGRhdGFfc3RvcmU7CgogIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRkYXRh
X3N0b3JlKSB7CiAgICAkdGhpcy0+ZGF0YV9zdG9yZSA9ICRkYXRhX3N0b3JlOwogIH0KCiAg
cHVibGljIGZ1bmN0aW9uIGFkZF9zaWduYXR1cmVfbWV0aG9kKCRzaWduYXR1cmVfbWV0aG9k
KSB7CiAgICAkdGhpcy0+c2lnbmF0dXJlX21ldGhvZHNbJHNpZ25hdHVyZV9tZXRob2QtPmdl
dF9uYW1lKCldID0KICAgICAgJHNpZ25hdHVyZV9tZXRob2Q7CiAgfQoKICAvLyBoaWdoIGxl
dmVsIGZ1bmN0aW9ucwoKICAvKioKICAgKiBwcm9jZXNzIGEgcmVxdWVzdF90b2tlbiByZXF1
ZXN0CiAgICogcmV0dXJucyB0aGUgcmVxdWVzdCB0b2tlbiBvbiBzdWNjZXNzCiAgICovCiAg
cHVibGljIGZ1bmN0aW9uIGZldGNoX3JlcXVlc3RfdG9rZW4oJiRyZXF1ZXN0KSB7CiAgICAk
dGhpcy0+Z2V0X3ZlcnNpb24oJHJlcXVlc3QpOwoKICAgICRjb25zdW1lciA9ICR0aGlzLT5n
ZXRfY29uc3VtZXIoJHJlcXVlc3QpOwoKICAgIC8vIG5vIHRva2VuIHJlcXVpcmVkIGZvciB0
aGUgaW5pdGlhbCB0b2tlbiByZXF1ZXN0CiAgICAkdG9rZW4gPSBOVUxMOwoKICAgICR0aGlz
LT5jaGVja19zaWduYXR1cmUoJHJlcXVlc3QsICRjb25zdW1lciwgJHRva2VuKTsKCiAgICAv
LyBSZXYgQSBjaGFuZ2UKICAgICRjYWxsYmFjayA9ICRyZXF1ZXN0LT5nZXRfcGFyYW1ldGVy
KCdvYXV0aF9jYWxsYmFjaycpOwogICAgJG5ld190b2tlbiA9ICR0aGlzLT5kYXRhX3N0b3Jl
LT5uZXdfcmVxdWVzdF90b2tlbigkY29uc3VtZXIsICRjYWxsYmFjayk7CgogICAgcmV0dXJu
ICRuZXdfdG9rZW47CiAgfQoKICAvKioKICAgKiBwcm9jZXNzIGFuIGFjY2Vzc190b2tlbiBy
ZXF1ZXN0CiAgICogcmV0dXJucyB0aGUgYWNjZXNzIHRva2VuIG9uIHN1Y2Nlc3MKICAgKi8K
ICBwdWJsaWMgZnVuY3Rpb24gZmV0Y2hfYWNjZXNzX3Rva2VuKCYkcmVxdWVzdCkgewogICAg
JHRoaXMtPmdldF92ZXJzaW9uKCRyZXF1ZXN0KTsKCiAgICAkY29uc3VtZXIgPSAkdGhpcy0+
Z2V0X2NvbnN1bWVyKCRyZXF1ZXN0KTsKCiAgICAvLyByZXF1aXJlcyBhdXRob3JpemVkIHJl
cXVlc3QgdG9rZW4KICAgICR0b2tlbiA9ICR0aGlzLT5nZXRfdG9rZW4oJHJlcXVlc3QsICRj
b25zdW1lciwgInJlcXVlc3QiKTsKCiAgICAkdGhpcy0+Y2hlY2tfc2lnbmF0dXJlKCRyZXF1
ZXN0LCAkY29uc3VtZXIsICR0b2tlbik7CgogICAgLy8gUmV2IEEgY2hhbmdlCiAgICAkdmVy
aWZpZXIgPSAkcmVxdWVzdC0+Z2V0X3BhcmFtZXRlcignb2F1dGhfdmVyaWZpZXInKTsKICAg
ICRuZXdfdG9rZW4gPSAkdGhpcy0+ZGF0YV9zdG9yZS0+bmV3X2FjY2Vzc190b2tlbigkdG9r
ZW4sICRjb25zdW1lciwgJHZlcmlmaWVyKTsKCiAgICByZXR1cm4gJG5ld190b2tlbjsKICB9
CgogIC8qKgogICAqIHZlcmlmeSBhbiBhcGkgY2FsbCwgY2hlY2tzIGFsbCB0aGUgcGFyYW1l
dGVycwogICAqLwogIHB1YmxpYyBmdW5jdGlvbiB2ZXJpZnlfcmVxdWVzdCgmJHJlcXVlc3Qp
IHsKICAgICR0aGlzLT5nZXRfdmVyc2lvbigkcmVxdWVzdCk7CiAgICAkY29uc3VtZXIgPSAk
dGhpcy0+Z2V0X2NvbnN1bWVyKCRyZXF1ZXN0KTsKICAgICR0b2tlbiA9ICR0aGlzLT5nZXRf
dG9rZW4oJHJlcXVlc3QsICRjb25zdW1lciwgImFjY2VzcyIpOwogICAgJHRoaXMtPmNoZWNr
X3NpZ25hdHVyZSgkcmVxdWVzdCwgJGNvbnN1bWVyLCAkdG9rZW4pOwogICAgcmV0dXJuIGFy
cmF5KCRjb25zdW1lciwgJHRva2VuKTsKICB9CgogIC8vIEludGVybmFscyBmcm9tIGhlcmUK
ICAvKioKICAgKiB2ZXJzaW9uIDEKICAgKi8KICBwcml2YXRlIGZ1bmN0aW9uIGdldF92ZXJz
aW9uKCYkcmVxdWVzdCkgewogICAgJHZlcnNpb24gPSAkcmVxdWVzdC0+Z2V0X3BhcmFtZXRl
cigib2F1dGhfdmVyc2lvbiIpOwogICAgaWYgKCEkdmVyc2lvbikgewogICAgICAvLyBTZXJ2
aWNlIFByb3ZpZGVycyBNVVNUIGFzc3VtZSB0aGUgcHJvdG9jb2wgdmVyc2lvbiB0byBiZSAx
LjAgaWYgdGhpcyBwYXJhbWV0ZXIgaXMgbm90IHByZXNlbnQuCiAgICAgIC8vIENoYXB0ZXIg
Ny4wICgiQWNjZXNzaW5nIFByb3RlY3RlZCBSZXNzb3VyY2VzIikKICAgICAgJHZlcnNpb24g
PSAnMS4wJzsKICAgIH0KICAgIGlmICgkdmVyc2lvbiAhPT0gJHRoaXMtPnZlcnNpb24pIHsK
ICAgICAgdGhyb3cgbmV3IE9BdXRoRXhjZXB0aW9uKCJPQXV0aCB2ZXJzaW9uICckdmVyc2lv
bicgbm90IHN1cHBvcnRlZCIpOwogICAgfQogICAgcmV0dXJuICR2ZXJzaW9uOwogIH0KCiAg
LyoqCiAgICogZmlndXJlIG91dCB0aGUgc2lnbmF0dXJlIHdpdGggc29tZSBkZWZhdWx0cwog
ICAqLwogIHByaXZhdGUgZnVuY3Rpb24gZ2V0X3NpZ25hdHVyZV9tZXRob2QoJiRyZXF1ZXN0
KSB7CiAgICAkc2lnbmF0dXJlX21ldGhvZCA9CiAgICAgICAgQCRyZXF1ZXN0LT5nZXRfcGFy
YW1ldGVyKCJvYXV0aF9zaWduYXR1cmVfbWV0aG9kIik7CgogICAgaWYgKCEkc2lnbmF0dXJl
X21ldGhvZCkgewogICAgICAvLyBBY2NvcmRpbmcgdG8gY2hhcHRlciA3ICgiQWNjZXNzaW5n
IFByb3RlY3RlZCBSZXNzb3VyY2VzIikgdGhlIHNpZ25hdHVyZS1tZXRob2QKICAgICAgLy8g
cGFyYW1ldGVyIGlzIHJlcXVpcmVkLCBhbmQgd2UgY2FuJ3QganVzdCBmYWxsYmFjayB0byBQ
TEFJTlRFWFQKICAgICAgdGhyb3cgbmV3IE9BdXRoRXhjZXB0aW9uKCdObyBzaWduYXR1cmUg
bWV0aG9kIHBhcmFtZXRlci4gVGhpcyBwYXJhbWV0ZXIgaXMgcmVxdWlyZWQnKTsKICAgIH0K
CiAgICBpZiAoIWluX2FycmF5KCRzaWduYXR1cmVfbWV0aG9kLAogICAgICAgICAgICAgICAg
ICBhcnJheV9rZXlzKCR0aGlzLT5zaWduYXR1cmVfbWV0aG9kcykpKSB7CiAgICAgIHRocm93
IG5ldyBPQXV0aEV4Y2VwdGlvbigKICAgICAgICAiU2lnbmF0dXJlIG1ldGhvZCAnJHNpZ25h
dHVyZV9tZXRob2QnIG5vdCBzdXBwb3J0ZWQgIiAuCiAgICAgICAgInRyeSBvbmUgb2YgdGhl
IGZvbGxvd2luZzogIiAuCiAgICAgICAgaW1wbG9kZSgiLCAiLCBhcnJheV9rZXlzKCR0aGlz
LT5zaWduYXR1cmVfbWV0aG9kcykpCiAgICAgICk7CiAgICB9CiAgICByZXR1cm4gJHRoaXMt
PnNpZ25hdHVyZV9tZXRob2RzWyRzaWduYXR1cmVfbWV0aG9kXTsKICB9CgogIC8qKgogICAq
IHRyeSB0byBmaW5kIHRoZSBjb25zdW1lciBmb3IgdGhlIHByb3ZpZGVkIHJlcXVlc3QncyBj
b25zdW1lciBrZXkKICAgKi8KICBwcml2YXRlIGZ1bmN0aW9uIGdldF9jb25zdW1lcigmJHJl
cXVlc3QpIHsKICAgICRjb25zdW1lcl9rZXkgPSBAJHJlcXVlc3QtPmdldF9wYXJhbWV0ZXIo
Im9hdXRoX2NvbnN1bWVyX2tleSIpOwogICAgaWYgKCEkY29uc3VtZXJfa2V5KSB7CiAgICAg
IHRocm93IG5ldyBPQXV0aEV4Y2VwdGlvbigiSW52YWxpZCBjb25zdW1lciBrZXkiKTsKICAg
IH0KCiAgICAkY29uc3VtZXIgPSAkdGhpcy0+ZGF0YV9zdG9yZS0+bG9va3VwX2NvbnN1bWVy
KCRjb25zdW1lcl9rZXkpOwogICAgaWYgKCEkY29uc3VtZXIpIHsKICAgICAgdGhyb3cgbmV3
IE9BdXRoRXhjZXB0aW9uKCJJbnZhbGlkIGNvbnN1bWVyIik7CiAgICB9CgogICAgcmV0dXJu
ICRjb25zdW1lcjsKICB9CgogIC8qKgogICAqIHRyeSB0byBmaW5kIHRoZSB0b2tlbiBmb3Ig
dGhlIHByb3ZpZGVkIHJlcXVlc3QncyB0b2tlbiBrZXkKICAgKi8KICBwcml2YXRlIGZ1bmN0
aW9uIGdldF90b2tlbigmJHJlcXVlc3QsICRjb25zdW1lciwgJHRva2VuX3R5cGU9ImFjY2Vz
cyIpIHsKICAgICR0b2tlbl9maWVsZCA9IEAkcmVxdWVzdC0+Z2V0X3BhcmFtZXRlcignb2F1
dGhfdG9rZW4nKTsKICAgICR0b2tlbiA9ICR0aGlzLT5kYXRhX3N0b3JlLT5sb29rdXBfdG9r
ZW4oCiAgICAgICRjb25zdW1lciwgJHRva2VuX3R5cGUsICR0b2tlbl9maWVsZAogICAgKTsK
ICAgIGlmICghJHRva2VuKSB7CiAgICAgIHRocm93IG5ldyBPQXV0aEV4Y2VwdGlvbigiSW52
YWxpZCAkdG9rZW5fdHlwZSB0b2tlbjogJHRva2VuX2ZpZWxkIik7CiAgICB9CiAgICByZXR1
cm4gJHRva2VuOwogIH0KCiAgLyoqCiAgICogYWxsLWluLW9uZSBmdW5jdGlvbiB0byBjaGVj
ayB0aGUgc2lnbmF0dXJlIG9uIGEgcmVxdWVzdAogICAqIHNob3VsZCBndWVzcyB0aGUgc2ln
bmF0dXJlIG1ldGhvZCBhcHByb3ByaWF0ZWx5CiAgICovCiAgcHJpdmF0ZSBmdW5jdGlvbiBj
aGVja19zaWduYXR1cmUoJiRyZXF1ZXN0LCAkY29uc3VtZXIsICR0b2tlbikgewogICAgLy8g
dGhpcyBzaG91bGQgcHJvYmFibHkgYmUgaW4gYSBkaWZmZXJlbnQgbWV0aG9kCiAgICAkdGlt
ZXN0YW1wID0gQCRyZXF1ZXN0LT5nZXRfcGFyYW1ldGVyKCdvYXV0aF90aW1lc3RhbXAnKTsK
ICAgICRub25jZSA9IEAkcmVxdWVzdC0+Z2V0X3BhcmFtZXRlcignb2F1dGhfbm9uY2UnKTsK
CiAgICAkdGhpcy0+Y2hlY2tfdGltZXN0YW1wKCR0aW1lc3RhbXApOwogICAgJHRoaXMtPmNo
ZWNrX25vbmNlKCRjb25zdW1lciwgJHRva2VuLCAkbm9uY2UsICR0aW1lc3RhbXApOwoKICAg
ICRzaWduYXR1cmVfbWV0aG9kID0gJHRoaXMtPmdldF9zaWduYXR1cmVfbWV0aG9kKCRyZXF1
ZXN0KTsKCiAgICAkc2lnbmF0dXJlID0gJHJlcXVlc3QtPmdldF9wYXJhbWV0ZXIoJ29hdXRo
X3NpZ25hdHVyZScpOwogICAgJHZhbGlkX3NpZyA9ICRzaWduYXR1cmVfbWV0aG9kLT5jaGVj
a19zaWduYXR1cmUoCiAgICAgICRyZXF1ZXN0LAogICAgICAkY29uc3VtZXIsCiAgICAgICR0
b2tlbiwKICAgICAgJHNpZ25hdHVyZQogICAgKTsKCiAgICBpZiAoISR2YWxpZF9zaWcpIHsK
ICAgICAgdGhyb3cgbmV3IE9BdXRoRXhjZXB0aW9uKCJJbnZhbGlkIHNpZ25hdHVyZSIpOwog
ICAgfQogIH0KCiAgLyoqCiAgICogY2hlY2sgdGhhdCB0aGUgdGltZXN0YW1wIGlzIG5ldyBl
bm91Z2gKICAgKi8KICBwcml2YXRlIGZ1bmN0aW9uIGNoZWNrX3RpbWVzdGFtcCgkdGltZXN0
YW1wKSB7CiAgICBpZiggISAkdGltZXN0YW1wICkKICAgICAgdGhyb3cgbmV3IE9BdXRoRXhj
ZXB0aW9uKAogICAgICAgICdNaXNzaW5nIHRpbWVzdGFtcCBwYXJhbWV0ZXIuIFRoZSBwYXJh
bWV0ZXIgaXMgcmVxdWlyZWQnCiAgICAgICk7CgogICAgLy8gdmVyaWZ5IHRoYXQgdGltZXN0
YW1wIGlzIHJlY2VudGlzaAogICAgJG5vdyA9IHRpbWUoKTsKICAgIGlmIChhYnMoJG5vdyAt
ICR0aW1lc3RhbXApID4gJHRoaXMtPnRpbWVzdGFtcF90aHJlc2hvbGQpIHsKICAgICAgdGhy
b3cgbmV3IE9BdXRoRXhjZXB0aW9uKAogICAgICAgICJFeHBpcmVkIHRpbWVzdGFtcCwgeW91
cnMgJHRpbWVzdGFtcCwgb3VycyAkbm93IgogICAgICApOwogICAgfQogIH0KCiAgLyoqCiAg
ICogY2hlY2sgdGhhdCB0aGUgbm9uY2UgaXMgbm90IHJlcGVhdGVkCiAgICovCiAgcHJpdmF0
ZSBmdW5jdGlvbiBjaGVja19ub25jZSgkY29uc3VtZXIsICR0b2tlbiwgJG5vbmNlLCAkdGlt
ZXN0YW1wKSB7CiAgICBpZiggISAkbm9uY2UgKQogICAgICB0aHJvdyBuZXcgT0F1dGhFeGNl
cHRpb24oCiAgICAgICAgJ01pc3Npbmcgbm9uY2UgcGFyYW1ldGVyLiBUaGUgcGFyYW1ldGVy
IGlzIHJlcXVpcmVkJwogICAgICApOwoKICAgIC8vIHZlcmlmeSB0aGF0IHRoZSBub25jZSBp
cyB1bmlxdWVpc2gKICAgICRmb3VuZCA9ICR0aGlzLT5kYXRhX3N0b3JlLT5sb29rdXBfbm9u
Y2UoCiAgICAgICRjb25zdW1lciwKICAgICAgJHRva2VuLAogICAgICAkbm9uY2UsCiAgICAg
ICR0aW1lc3RhbXAKICAgICk7CiAgICBpZiAoJGZvdW5kKSB7CiAgICAgIHRocm93IG5ldyBP
QXV0aEV4Y2VwdGlvbigiTm9uY2UgYWxyZWFkeSB1c2VkOiAkbm9uY2UiKTsKICAgIH0KICB9
Cgp9CgpjbGFzcyBPQXV0aERhdGFTdG9yZSB7CiAgZnVuY3Rpb24gbG9va3VwX2NvbnN1bWVy
KCRjb25zdW1lcl9rZXkpIHsKICAgIC8vIGltcGxlbWVudCBtZQogIH0KCiAgZnVuY3Rpb24g
bG9va3VwX3Rva2VuKCRjb25zdW1lciwgJHRva2VuX3R5cGUsICR0b2tlbikgewogICAgLy8g
aW1wbGVtZW50IG1lCiAgfQoKICBmdW5jdGlvbiBsb29rdXBfbm9uY2UoJGNvbnN1bWVyLCAk
dG9rZW4sICRub25jZSwgJHRpbWVzdGFtcCkgewogICAgLy8gaW1wbGVtZW50IG1lCiAgfQoK
ICBmdW5jdGlvbiBuZXdfcmVxdWVzdF90b2tlbigkY29uc3VtZXIsICRjYWxsYmFjayA9IG51
bGwpIHsKICAgIC8vIHJldHVybiBhIG5ldyB0b2tlbiBhdHRhY2hlZCB0byB0aGlzIGNvbnN1
bWVyCiAgfQoKICBmdW5jdGlvbiBuZXdfYWNjZXNzX3Rva2VuKCR0b2tlbiwgJGNvbnN1bWVy
LCAkdmVyaWZpZXIgPSBudWxsKSB7CiAgICAvLyByZXR1cm4gYSBuZXcgYWNjZXNzIHRva2Vu
IGF0dGFjaGVkIHRvIHRoaXMgY29uc3VtZXIKICAgIC8vIGZvciB0aGUgdXNlciBhc3NvY2lh
dGVkIHdpdGggdGhpcyB0b2tlbiBpZiB0aGUgcmVxdWVzdCB0b2tlbgogICAgLy8gaXMgYXV0
aG9yaXplZAogICAgLy8gc2hvdWxkIGFsc28gaW52YWxpZGF0ZSB0aGUgcmVxdWVzdCB0b2tl
bgogIH0KCn0KCmNsYXNzIE9BdXRoVXRpbCB7CiAgcHVibGljIHN0YXRpYyBmdW5jdGlvbiB1
cmxlbmNvZGVfcmZjMzk4NigkaW5wdXQpIHsKICBpZiAoaXNfYXJyYXkoJGlucHV0KSkgewog
ICAgcmV0dXJuIGFycmF5X21hcChhcnJheSgnT0F1dGhVdGlsJywgJ3VybGVuY29kZV9yZmMz
OTg2JyksICRpbnB1dCk7CiAgfSBlbHNlIGlmIChpc19zY2FsYXIoJGlucHV0KSkgewogICAg
cmV0dXJuIHN0cl9yZXBsYWNlKAogICAgICAnKycsCiAgICAgICcgJywKICAgICAgc3RyX3Jl
cGxhY2UoJyU3RScsICd+JywgcmF3dXJsZW5jb2RlKCRpbnB1dCkpCiAgICApOwogIH0gZWxz
ZSB7CiAgICByZXR1cm4gJyc7CiAgfQp9CgoKICAvLyBUaGlzIGRlY29kZSBmdW5jdGlvbiBp
c24ndCB0YWtpbmcgaW50byBjb25zaWRlcmF0aW9uIHRoZSBhYm92ZQogIC8vIG1vZGlmaWNh
dGlvbnMgdG8gdGhlIGVuY29kaW5nIHByb2Nlc3MuIEhvd2V2ZXIsIHRoaXMgbWV0aG9kIGRv
ZXNuJ3QKICAvLyBzZWVtIHRvIGJlIHVzZWQgYW55d2hlcmUgc28gbGVhdmluZyBpdCBhcyBp
cy4KICBwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIHVybGRlY29kZV9yZmMzOTg2KCRzdHJpbmcp
IHsKICAgIHJldHVybiB1cmxkZWNvZGUoJHN0cmluZyk7CiAgfQoKICAvLyBVdGlsaXR5IGZ1
bmN0aW9uIGZvciB0dXJuaW5nIHRoZSBBdXRob3JpemF0aW9uOiBoZWFkZXIgaW50bwogIC8v
IHBhcmFtZXRlcnMsIGhhcyB0byBkbyBzb21lIHVuZXNjYXBpbmcKICAvLyBDYW4gZmlsdGVy
IG91dCBhbnkgbm9uLW9hdXRoIHBhcmFtZXRlcnMgaWYgbmVlZGVkIChkZWZhdWx0IGJlaGF2
aW91cikKICBwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIHNwbGl0X2hlYWRlcigkaGVhZGVyLCAk
b25seV9hbGxvd19vYXV0aF9wYXJhbWV0ZXJzID0gdHJ1ZSkgewogICAgJHBhdHRlcm4gPSAn
LygoWy1fYS16XSopPSgiKFteIl0qKSJ8KFteLF0qKSksPykvJzsKICAgICRvZmZzZXQgPSAw
OwogICAgJHBhcmFtcyA9IGFycmF5KCk7CiAgICB3aGlsZSAocHJlZ19tYXRjaCgkcGF0dGVy
biwgJGhlYWRlciwgJG1hdGNoZXMsIFBSRUdfT0ZGU0VUX0NBUFRVUkUsICRvZmZzZXQpID4g
MCkgewogICAgICAkbWF0Y2ggPSAkbWF0Y2hlc1swXTsKICAgICAgJGhlYWRlcl9uYW1lID0g
JG1hdGNoZXNbMl1bMF07CiAgICAgICRoZWFkZXJfY29udGVudCA9IChpc3NldCgkbWF0Y2hl
c1s1XSkpID8gJG1hdGNoZXNbNV1bMF0gOiAkbWF0Y2hlc1s0XVswXTsKICAgICAgaWYgKHBy
ZWdfbWF0Y2goJy9eb2F1dGhfLycsICRoZWFkZXJfbmFtZSkgfHwgISRvbmx5X2FsbG93X29h
dXRoX3BhcmFtZXRlcnMpIHsKICAgICAgICAkcGFyYW1zWyRoZWFkZXJfbmFtZV0gPSBPQXV0
aFV0aWw6OnVybGRlY29kZV9yZmMzOTg2KCRoZWFkZXJfY29udGVudCk7CiAgICAgIH0KICAg
ICAgJG9mZnNldCA9ICRtYXRjaFsxXSArIHN0cmxlbigkbWF0Y2hbMF0pOwogICAgfQoKICAg
IGlmIChpc3NldCgkcGFyYW1zWydyZWFsbSddKSkgewogICAgICB1bnNldCgkcGFyYW1zWydy
ZWFsbSddKTsKICAgIH0KCiAgICByZXR1cm4gJHBhcmFtczsKICB9CgogIC8vIGhlbHBlciB0
byB0cnkgdG8gc29ydCBvdXQgaGVhZGVycyBmb3IgcGVvcGxlIHdobyBhcmVuJ3QgcnVubmlu
ZyBhcGFjaGUKICBwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldF9oZWFkZXJzKCkgewogICAg
aWYgKGZ1bmN0aW9uX2V4aXN0cygnYXBhY2hlX3JlcXVlc3RfaGVhZGVycycpKSB7CiAgICAg
IC8vIHdlIG5lZWQgdGhpcyB0byBnZXQgdGhlIGFjdHVhbCBBdXRob3JpemF0aW9uOiBoZWFk
ZXIKICAgICAgLy8gYmVjYXVzZSBhcGFjaGUgdGVuZHMgdG8gdGVsbCB1cyBpdCBkb2Vzbid0
IGV4aXN0CiAgICAgICRoZWFkZXJzID0gYXBhY2hlX3JlcXVlc3RfaGVhZGVycygpOwoKICAg
ICAgLy8gc2FuaXRpemUgdGhlIG91dHB1dCBvZiBhcGFjaGVfcmVxdWVzdF9oZWFkZXJzIGJl
Y2F1c2UKICAgICAgLy8gd2UgYWx3YXlzIHdhbnQgdGhlIGtleXMgdG8gYmUgQ2FzZWQtTGlr
ZS1UaGlzIGFuZCBhcmgoKQogICAgICAvLyByZXR1cm5zIHRoZSBoZWFkZXJzIGluIHRoZSBz
YW1lIGNhc2UgYXMgdGhleSBhcmUgaW4gdGhlCiAgICAgIC8vIHJlcXVlc3QKICAgICAgJG91
dCA9IGFycmF5KCk7CiAgICAgIGZvcmVhY2goICRoZWFkZXJzIEFTICRrZXkgPT4gJHZhbHVl
ICkgewogICAgICAgICRrZXkgPSBzdHJfcmVwbGFjZSgKICAgICAgICAgICAgIiAiLAogICAg
ICAgICAgICAiLSIsCiAgICAgICAgICAgIHVjd29yZHMoc3RydG9sb3dlcihzdHJfcmVwbGFj
ZSgiLSIsICIgIiwgJGtleSkpKQogICAgICAgICAgKTsKICAgICAgICAkb3V0WyRrZXldID0g
JHZhbHVlOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICAvLyBvdGhlcndpc2Ugd2UgZG9u
J3QgaGF2ZSBhcGFjaGUgYW5kIGFyZSBqdXN0IGdvaW5nIHRvIGhhdmUgdG8gaG9wZQogICAg
ICAvLyB0aGF0ICRfU0VSVkVSIGFjdHVhbGx5IGNvbnRhaW5zIHdoYXQgd2UgbmVlZAogICAg
ICAkb3V0ID0gYXJyYXkoKTsKICAgICAgaWYoIGlzc2V0KCRfU0VSVkVSWydDT05URU5UX1RZ
UEUnXSkgKQogICAgICAgICRvdXRbJ0NvbnRlbnQtVHlwZSddID0gJF9TRVJWRVJbJ0NPTlRF
TlRfVFlQRSddOwogICAgICBpZiggaXNzZXQoJF9FTlZbJ0NPTlRFTlRfVFlQRSddKSApCiAg
ICAgICAgJG91dFsnQ29udGVudC1UeXBlJ10gPSAkX0VOVlsnQ09OVEVOVF9UWVBFJ107Cgog
ICAgICBmb3JlYWNoICgkX1NFUlZFUiBhcyAka2V5ID0+ICR2YWx1ZSkgewogICAgICAgIGlm
IChzdWJzdHIoJGtleSwgMCwgNSkgPT0gIkhUVFBfIikgewogICAgICAgICAgLy8gdGhpcyBp
cyBjaGFvcywgYmFzaWNhbGx5IGl0IGlzIGp1c3QgdGhlcmUgdG8gY2FwaXRhbGl6ZSB0aGUg
Zmlyc3QKICAgICAgICAgIC8vIGxldHRlciBvZiBldmVyeSB3b3JkIHRoYXQgaXMgbm90IGFu
IGluaXRpYWwgSFRUUCBhbmQgc3RyaXAgSFRUUAogICAgICAgICAgLy8gY29kZSBmcm9tIHBy
emVtZWsKICAgICAgICAgICRrZXkgPSBzdHJfcmVwbGFjZSgKICAgICAgICAgICAgIiAiLAog
ICAgICAgICAgICAiLSIsCiAgICAgICAgICAgIHVjd29yZHMoc3RydG9sb3dlcihzdHJfcmVw
bGFjZSgiXyIsICIgIiwgc3Vic3RyKCRrZXksIDUpKSkpCiAgICAgICAgICApOwogICAgICAg
ICAgJG91dFska2V5XSA9ICR2YWx1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJl
dHVybiAkb3V0OwogIH0KCiAgLy8gVGhpcyBmdW5jdGlvbiB0YWtlcyBhIGlucHV0IGxpa2Ug
YT1iJmE9YyZkPWUgYW5kIHJldHVybnMgdGhlIHBhcnNlZAogIC8vIHBhcmFtZXRlcnMgbGlr
ZSB0aGlzCiAgLy8gYXJyYXkoJ2EnID0+IGFycmF5KCdiJywnYycpLCAnZCcgPT4gJ2UnKQog
IHB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gcGFyc2VfcGFyYW1ldGVycyggJGlucHV0ICkgewog
ICAgaWYgKCFpc3NldCgkaW5wdXQpIHx8ICEkaW5wdXQpIHJldHVybiBhcnJheSgpOwoKICAg
ICRwYWlycyA9IGV4cGxvZGUoJyYnLCAkaW5wdXQpOwoKICAgICRwYXJzZWRfcGFyYW1ldGVy
cyA9IGFycmF5KCk7CiAgICBmb3JlYWNoICgkcGFpcnMgYXMgJHBhaXIpIHsKICAgICAgJHNw
bGl0ID0gZXhwbG9kZSgnPScsICRwYWlyLCAyKTsKICAgICAgJHBhcmFtZXRlciA9IE9BdXRo
VXRpbDo6dXJsZGVjb2RlX3JmYzM5ODYoJHNwbGl0WzBdKTsKICAgICAgJHZhbHVlID0gaXNz
ZXQoJHNwbGl0WzFdKSA/IE9BdXRoVXRpbDo6dXJsZGVjb2RlX3JmYzM5ODYoJHNwbGl0WzFd
KSA6ICcnOwoKICAgICAgaWYgKGlzc2V0KCRwYXJzZWRfcGFyYW1ldGVyc1skcGFyYW1ldGVy
XSkpIHsKICAgICAgICAvLyBXZSBoYXZlIGFscmVhZHkgcmVjaWV2ZWQgcGFyYW1ldGVyKHMp
IHdpdGggdGhpcyBuYW1lLCBzbyBhZGQgdG8gdGhlIGxpc3QKICAgICAgICAvLyBvZiBwYXJh
bWV0ZXJzIHdpdGggdGhpcyBuYW1lCgogICAgICAgIGlmIChpc19zY2FsYXIoJHBhcnNlZF9w
YXJhbWV0ZXJzWyRwYXJhbWV0ZXJdKSkgewogICAgICAgICAgLy8gVGhpcyBpcyB0aGUgZmly
c3QgZHVwbGljYXRlLCBzbyB0cmFuc2Zvcm0gc2NhbGFyIChzdHJpbmcpIGludG8gYW4gYXJy
YXkKICAgICAgICAgIC8vIHNvIHdlIGNhbiBhZGQgdGhlIGR1cGxpY2F0ZXMKICAgICAgICAg
ICRwYXJzZWRfcGFyYW1ldGVyc1skcGFyYW1ldGVyXSA9IGFycmF5KCRwYXJzZWRfcGFyYW1l
dGVyc1skcGFyYW1ldGVyXSk7CiAgICAgICAgfQoKICAgICAgICAkcGFyc2VkX3BhcmFtZXRl
cnNbJHBhcmFtZXRlcl1bXSA9ICR2YWx1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICAkcGFy
c2VkX3BhcmFtZXRlcnNbJHBhcmFtZXRlcl0gPSAkdmFsdWU7CiAgICAgIH0KICAgIH0KICAg
IHJldHVybiAkcGFyc2VkX3BhcmFtZXRlcnM7CiAgfQoKICBwdWJsaWMgc3RhdGljIGZ1bmN0
aW9uIGJ1aWxkX2h0dHBfcXVlcnkoJHBhcmFtcykgewogICAgaWYgKCEkcGFyYW1zKSByZXR1
cm4gJyc7CgogICAgLy8gVXJsZW5jb2RlIGJvdGgga2V5cyBhbmQgdmFsdWVzCiAgICAka2V5
cyA9IE9BdXRoVXRpbDo6dXJsZW5jb2RlX3JmYzM5ODYoYXJyYXlfa2V5cygkcGFyYW1zKSk7
CiAgICAkdmFsdWVzID0gT0F1dGhVdGlsOjp1cmxlbmNvZGVfcmZjMzk4NihhcnJheV92YWx1
ZXMoJHBhcmFtcykpOwogICAgJHBhcmFtcyA9IGFycmF5X2NvbWJpbmUoJGtleXMsICR2YWx1
ZXMpOwoKICAgIC8vIFBhcmFtZXRlcnMgYXJlIHNvcnRlZCBieSBuYW1lLCB1c2luZyBsZXhp
Y29ncmFwaGljYWwgYnl0ZSB2YWx1ZSBvcmRlcmluZy4KICAgIC8vIFJlZjogU3BlYzogOS4x
LjEgKDEpCiAgICB1a3NvcnQoJHBhcmFtcywgJ3N0cmNtcCcpOwoKICAgICRwYWlycyA9IGFy
cmF5KCk7CiAgICBmb3JlYWNoICgkcGFyYW1zIGFzICRwYXJhbWV0ZXIgPT4gJHZhbHVlKSB7
CiAgICAgIGlmIChpc19hcnJheSgkdmFsdWUpKSB7CiAgICAgICAgLy8gSWYgdHdvIG9yIG1v
cmUgcGFyYW1ldGVycyBzaGFyZSB0aGUgc2FtZSBuYW1lLCB0aGV5IGFyZSBzb3J0ZWQgYnkg
dGhlaXIgdmFsdWUKICAgICAgICAvLyBSZWY6IFNwZWM6IDkuMS4xICgxKQogICAgICAgIG5h
dHNvcnQoJHZhbHVlKTsKICAgICAgICBmb3JlYWNoICgkdmFsdWUgYXMgJGR1cGxpY2F0ZV92
YWx1ZSkgewogICAgICAgICAgJHBhaXJzW10gPSAkcGFyYW1ldGVyIC4gJz0nIC4gJGR1cGxp
Y2F0ZV92YWx1ZTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgJHBhaXJzW10g
PSAkcGFyYW1ldGVyIC4gJz0nIC4gJHZhbHVlOwogICAgICB9CiAgICB9CiAgICAvLyBGb3Ig
ZWFjaCBwYXJhbWV0ZXIsIHRoZSBuYW1lIGlzIHNlcGFyYXRlZCBmcm9tIHRoZSBjb3JyZXNw
b25kaW5nIHZhbHVlIGJ5IGFuICc9JyBjaGFyYWN0ZXIgKEFTQ0lJIGNvZGUgNjEpCiAgICAv
LyBFYWNoIG5hbWUtdmFsdWUgcGFpciBpcyBzZXBhcmF0ZWQgYnkgYW4gJyYnIGNoYXJhY3Rl
ciAoQVNDSUkgY29kZSAzOCkKICAgIHJldHVybiBpbXBsb2RlKCcmJywgJHBhaXJzKTsKICB9
Cn0iO3M6MzoibWQ1IjtzOjMyOiJmZTdmNTY0OGE1MWNkZTgxNjIwNzAyOGFkOGM1Yjg5YSI7
fQ==
